[{"id":"1dba8088.33893f","type":"tab","label":"RPi-Control","disabled":false,"info":"überwacht die RPi-Funktionen (Temperatur, Speicherplatz, etc.)\nUI-& Telegram-Befehle für Reboot, etc."},{"id":"9cd507a9.4544c","type":"tab","label":"Telegram-Bot","disabled":false,"info":""},{"id":"42fde7d.75a2f18","type":"tab","label":"MQTT-Sensoren","disabled":false,"info":"Hier werden die Sensoren via MQTT ausgelesen.\nDie Daten werden jede Minute geschickt.\nEs wäre sinnvoller, die Datenlast durch dein Limiter auf z.B. alle 5 Minuten zu setzen."},{"id":"24e7c0e3.35b6c8","type":"tab","label":"Wetter","disabled":false,"info":"Hier wird das aktuelle Wetter für Greifswald ausgelesen.\nDesweitern Regenwarnung morgens für den jeweiligen Tag und den nächsten.\n\nNoch zu tun:\n    - Dezimalzeichen mit , austauschen\n    - Regenmenge payload.rain [mm] aufnehmen\n    - Windrichtung (Grad) in NOSW einteilen\n        http://snowfence.umn.edu/Components/winddirectionanddegreeswithouttable3.htm\n"},{"id":"594176aa.61db68","type":"tab","label":"Watering-Logik","disabled":false,"info":"Logik via MQTT für Wasserstand, Bodentrockenheit und Wetter-Abfrage"},{"id":"319e799e.4970d6","type":"tab","label":"Counter","disabled":false,"info":""},{"id":"a6b6df9b.b30b08","type":"tab","label":"Data to Google-Spreadsheet","disabled":false,"info":""},{"id":"66429749.2b2058","type":"tab","label":"Langzeit-Graph","disabled":true,"info":""},{"id":"15813f2.6428941","type":"tab","label":"Push to Repo","disabled":true,"info":""},{"id":"c01476eb.de81b","type":"tab","label":"Wann regnet es wieder?","disabled":true,"info":"https://flows.nodered.org/flow/d19047e54e9c7b27086f"},{"id":"7b723c75.b204ac","type":"tab","label":"Aurora-Sichtbarkeit","disabled":true,"info":"https://flows.nodered.org/flow/59b1a953dbf96dba3db9"},{"id":"43c9dbb4.510e5c","type":"tab","label":"Frostalarm","disabled":true,"info":"https://flows.nodered.org/flow/3b6a81cfb8d50bf33a5f"},{"id":"5b346471.faeff4","type":"subflow","name":"Wetter-morgen","info":"Der 5-Tage-Wetter-Bericht soll morgens um 6:00 Uhr\nabgerufen werden.\nDann nur auf das morgige Wetter gekürzt und nach\nRegen (Rain) gefiltert werden.\n\nTime:\n0: 06:00 Uhr - heute\n1: 09:00 Uhr\n2: 12:00 Uhr\n3: 15:00 Uhr\n4: 18:00 Uhr\n5: 21:00 Uhr\n6: 24:00 Uhr - morgen --> Array 6 bis 13\n7: 03:00 Uhr\n8: 06:00 Uhr\n9: 09:00 Uhr\n10: 12:00 Uhr\n11: 15:00 Uhr\n12: 18:00 Uhr\n13: 21:00 Uhr","in":[{"x":60,"y":240,"wires":[{"id":"6b23d177.094ec"},{"id":"fa3f810b.0195f8"},{"id":"c5096121.68dd08"},{"id":"5407dcbc.2b887c"},{"id":"239e31f1.8bd946"},{"id":"b120593a.0a8488"},{"id":"96d406f6.346638"},{"id":"3fbc4e6f.0877f2"}]}],"out":[{"x":400,"y":240,"wires":[{"id":"6b23d177.094ec","port":0},{"id":"fa3f810b.0195f8","port":0},{"id":"c5096121.68dd08","port":0},{"id":"5407dcbc.2b887c","port":0},{"id":"239e31f1.8bd946","port":0},{"id":"b120593a.0a8488","port":0},{"id":"96d406f6.346638","port":0},{"id":"3fbc4e6f.0877f2","port":0}]},{"x":840,"y":240,"wires":[{"id":"2cca0224.1e6ec6","port":0},{"id":"380666a9.fd5c32","port":0},{"id":"5afc2b05.c2f7d4","port":0},{"id":"7ebf49d4.242bd8","port":0},{"id":"a9bd3fa1.85df48","port":0},{"id":"222b421.12a60be","port":0},{"id":"845b0452.0fc3a8","port":0},{"id":"688ebd5b.6c8c44","port":0}]}],"outputLabels":["Regen","Datum+Zeit"]},{"id":"efd5bd9c.32077","type":"ui_base","theme":{"name":"theme-dark","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#9d263e","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#097479","value":"#097479","edited":false},"page-titlebar-backgroundColor":{"value":"#9d263e","edited":false},"page-backgroundColor":{"value":"#111111","edited":false},"page-sidebar-backgroundColor":{"value":"#000000","edited":false},"group-textColor":{"value":"#d13f5c","edited":false},"group-borderColor":{"value":"#555555","edited":false},"group-backgroundColor":{"value":"#333333","edited":false},"widget-textColor":{"value":"#eeeeee","edited":false},"widget-backgroundColor":{"value":"#9d263e","edited":false},"widget-borderColor":{"value":"#333333","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}},"angularTheme":{"primary":"indigo","accents":"blue","warn":"red","background":"grey"}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"false","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":10,"gy":10,"cx":8,"cy":4,"px":0,"py":0}}},{"id":"fa6f670a.8af6c8","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"2a1fd159.cf2a3e","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"66b9cc5c.5ff2d4","type":"mqtt-broker","z":"","name":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closePayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"e93d59b4.f58ac8","type":"ui_group","z":0,"name":"Schlafzimmer","tab":"5f03f509.7d82c4","order":4,"disp":true,"width":"6","collapse":true},{"id":"1ab9bfc7.7bfb28","type":"ui_group","z":0,"name":"Wohnzimmer","tab":"5f03f509.7d82c4","order":3,"disp":true,"width":"6","collapse":true},{"id":"9a0e3fbc.18ce58","type":"ui_group","z":"","name":"Keller","tab":"5f03f509.7d82c4","order":5,"disp":true,"width":"6","collapse":true},{"id":"d3e06eca.53a038","type":"ui_group","z":"","name":"Küche","tab":"5f03f509.7d82c4","order":1,"disp":true,"width":"6","collapse":true},{"id":"1811bcb3.2dacfb","type":"ui_group","z":0,"name":"Bad","tab":"5f03f509.7d82c4","order":2,"disp":true,"width":"6","collapse":true},{"id":"20b3b7f8.c09358","type":"ui_group","z":0,"name":"Außentemperatur","tab":"95c6638b.97b39","order":1,"disp":true,"width":"6","collapse":true},{"id":"b30c1ef9.c856","type":"ui_group","z":"","name":"Boden","tab":"95c6638b.97b39","order":2,"disp":true,"width":"6","collapse":true},{"id":"95c6638b.97b39","type":"ui_tab","z":"","name":"Garten","icon":"nature_people","order":2},{"id":"5f03f509.7d82c4","type":"ui_tab","z":"","name":"Home","icon":"home","order":1},{"id":"c09a3757.192e68","type":"persist-store","z":"","filename":"kippen_Apirl18_persistance.json","interval":"60"},{"id":"64cca9da.899d5","type":"persist-store","z":"","filename":"bier_April18_persistance.json","interval":"60"},{"id":"3048233c.060214","type":"ui_group","z":0,"name":"Kippencounter","tab":"fb12a104.75fb6","disp":true,"width":"6","collapse":false},{"id":"80ddcf8c.c82f","type":"ui_group","z":0,"name":"Biercounter","tab":"fb12a104.75fb6","order":2,"disp":true,"width":"6","collapse":true},{"id":"b43c6e3e.aa4638","type":"ui_group","z":"","name":"Text-Input read out","tab":"256d6b38.40198c","order":3,"disp":true,"width":"12","collapse":true},{"id":"fb12a104.75fb6","type":"ui_tab","z":"","name":"Counter","icon":"smoke_rooms","order":5},{"id":"256d6b38.40198c","type":"ui_tab","z":"","name":"Langzeit","icon":"timelapse","order":4},{"id":"a52cffb7.10b39","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"db74e31a.876e08","type":"persist-store","z":"","filename":"persistance_langzeit-temp.json","interval":"60"},{"id":"20de874a.301c5","type":"persist-store","z":"","filename":"persistance_bodentemp.json","interval":"60"},{"id":"b764fe0c.67683","type":"ui_group","z":"","name":"Außentemperatur","tab":"256d6b38.40198c","order":1,"disp":true,"width":"12","collapse":true},{"id":"f36484db.bc7d78","type":"ui_group","z":0,"name":"Bodentemperatur","tab":"256d6b38.40198c","order":2,"disp":true,"width":"6","collapse":false},{"id":"ae62bedc.7fc4a","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"45531229.75243c","type":"chatbot-telegram-node","z":"","botname":"FMS63_Bot","usernames":"173173012","providerToken":"","polling":"1000","store":"","log":"","parseMode":"","debug":false},{"id":"6dc5a67a.4ad8a8","type":"ui_group","z":"","name":"Wetter in Greifswald","tab":"71d98205.5daa94","order":1,"disp":true,"width":"6","collapse":true},{"id":"2bd215d2.8303c2","type":"persist-store","z":"","filename":"wetter-jetzt-persistance.json","interval":"60"},{"id":"4e091fe.905906","type":"ui_group","z":"","name":"Actions","tab":"2205fd7a.f5e6d2","order":4,"disp":true,"width":"6","collapse":false},{"id":"c247c9ad.e586a8","type":"ui_group","z":"","name":"Prozessor","tab":"2205fd7a.f5e6d2","order":1,"disp":false,"width":"6","collapse":false},{"id":"bba410ad.4a4d28","type":"ui_group","z":"","name":"Speicher","tab":"2205fd7a.f5e6d2","order":2,"disp":false,"width":"6","collapse":false},{"id":"2205fd7a.f5e6d2","type":"ui_tab","z":"","name":"RPi Control","icon":"settings_applications","order":6},{"id":"e9af44e4.929f3","type":"mqtt-broker","z":"","name":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"9510e43b.435e4","type":"ui_group","z":"","name":"Graphen aus OpenWeatherMap","tab":"71d98205.5daa94","order":2,"disp":true,"width":"6","collapse":true},{"id":"becbd35b.d15588","type":"mqtt-broker","broker":"localhost","port":"1883"},{"id":"702df46.141300c","type":"mqtt-broker","broker":"localhost","port":"1883"},{"id":"71d98205.5daa94","type":"ui_tab","z":"","name":"Wetter","icon":"cloud","order":3},{"id":"3fe2933d.d31a6c","type":"ui_group","z":"","name":"Wind & Luftdruck","tab":"71d98205.5daa94","order":3,"disp":true,"width":"6","collapse":false},{"id":"ca2863e7.4b7a48","type":"ui_group","z":"","name":"Tagesverschiebung","tab":"71d98205.5daa94","order":4,"disp":true,"width":"6","collapse":false},{"id":"a4011a1f.414af","type":"tls-config","z":"","name":"","cert":"","key":"","ca":"","certname":"","keyname":"","caname":"","servername":"","verifyservercert":true},{"id":"b4d4bd8a.189c78","type":"persist-store","z":"","filename":"sunrise.json","interval":"60"},{"id":"18d37f5f.03b6f9","type":"persist-store","z":"","filename":"sunset_persist.json","interval":"60"},{"id":"e8a35c8f.75b2a","type":"mqtt-broker","z":"","name":"test123","broker":"localhost","port":"1884","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","closeTopic":"","closeQos":"0","closePayload":"","willTopic":"","willQos":"0","willPayload":""},{"id":"49556807.7c156","type":"ui_group","z":"","name":"Pump system","tab":"95c6638b.97b39","order":4,"disp":true,"width":"6","collapse":true},{"id":"60ba7522.9de694","type":"ui_spacer","name":"spacer","group":"49556807.7c156","order":3,"width":"6","height":1},{"id":"4884f7f.6bf7808","type":"persist-store","z":"","filename":"wetter-morgen-persistance.json","interval":"60"},{"id":"bfb3e776.2e92f","type":"ui_spacer","name":"spacer","group":"b30c1ef9.c856","order":5,"width":"6","height":1},{"id":"4f7c492e.eaf3c8","type":"ui_spacer","name":"spacer","group":"20b3b7f8.c09358","order":5,"width":"6","height":1},{"id":"7c083672.47a13","type":"ui_spacer","name":"spacer","group":"49556807.7c156","order":8,"width":"6","height":1},{"id":"6558071a.fca348","type":"exec","z":0,"command":"vcgencmd measure_temp","addpay":false,"append":"","useSpawn":"","timer":"","name":"RPi Temp.","x":330,"y":100,"wires":[["88d09ea3.912138"],[],[]]},{"id":"7dedba89.f747f4","type":"inject","z":0,"name":"","topic":"","payload":"","payloadType":"date","repeat":"10","crontab":"","once":false,"x":110,"y":160,"wires":[["6558071a.fca348","6caa419c.3077d8","52a2cd8a.d81754"]]},{"id":"88d09ea3.912138","type":"function","z":0,"name":"","func":"str = msg.payload\nmsg.payload = str.substring(5,9);\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":100,"wires":[["e7b0aba8.f6bd88","dbc3401.832354","797a7730.de197"]]},{"id":"b1e412c2.eaa818","type":"exec","z":0,"command":"sudo reboot -h now","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Reboot","x":747.8333740234375,"y":1025.5,"wires":[[],[],[]]},{"id":"7c8203c6.9137ec","type":"exec","z":0,"command":"sudo shutdown -h now","addpay":false,"append":"","useSpawn":"","timer":"","name":"Shutdown","x":747.8333740234375,"y":1065.5,"wires":[[],[],[]]},{"id":"6caa419c.3077d8","type":"exec","z":0,"command":"top -d 0.5 -b -n2 | grep \"Cpu(s)\"|tail -n 1 | awk '{print $2 + $4}'","addpay":false,"append":"","useSpawn":"","timer":"","name":"CPU Load","x":330,"y":160,"wires":[["4cd9c98.d252838","584fc1f1.648ef"],[],[]]},{"id":"52a2cd8a.d81754","type":"exec","z":0,"command":"free | grep Mem | awk '{print (100*($4+$6+$7)/$2)}'","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Free Memory","x":330,"y":220,"wires":[["91522283.78838"],[],[]]},{"id":"a4cef2c4.c1bf48","type":"exec","z":0,"command":"df -h","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Disk Usage","x":330,"y":300,"wires":[["96bb5a5c.951e88"],[],[]]},{"id":"96bb5a5c.951e88","type":"function","z":0,"name":"Speicher","func":"var re = /([0-9]{2})%/\nvar idx = msg.payload.search(re);\nvar str = msg.payload;\nif (idx >=0) {\n    str = msg.payload.substring(idx, idx + 2);\n}\nmsg.payload = str;\nreturn msg;","outputs":1,"noerr":0,"x":520,"y":300,"wires":[["a03206a8.e0d1c","881b696a.cab198","4595eb8b.51e98c","b9441402.c8d968","73f4766f.40441","49fd9ed0.fc0e6"]]},{"id":"d5f6b466.c0fe1","type":"inject","z":0,"name":"","topic":"","payload":"","payloadType":"date","repeat":"60","crontab":"","once":false,"x":110,"y":300,"wires":[["a4cef2c4.c1bf48"]]},{"id":"71dc835e.f6d41c","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Der Speicher der Himbeere ist zu \" + msg.payload +\" % belegt.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1132.5,"y":917.5,"wires":[["fc6c6084.2cfd88"]]},{"id":"67d7bca0.e2dd2c","type":"change","z":0,"name":"set Payload to flow.Speicher","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speicher","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":807.8333740234375,"y":905.5,"wires":[["71dc835e.f6d41c"]]},{"id":"881b696a.cab198","type":"change","z":0,"name":"","rules":[{"t":"set","p":"Speicher","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":750,"y":300,"wires":[[]]},{"id":"d0462850.f4c068","type":"chatbot-telegram-receive","z":0,"bot":"","x":117.8333740234375,"y":945.5,"wires":[["1224b6a5.32bb11","b5702c44.e8e08","d7efc634.96b148","3ebe0744.3ba968","4a79920b.1108dc","e7a10ca6.fc58b8","7b38dfac.3fc6e8"]]},{"id":"1224b6a5.32bb11","type":"chatbot-command","z":0,"name":"","command":"/speicher","x":347.8333740234375,"y":825.5,"wires":[["67d7bca0.e2dd2c"]],"outputLabels":["/wz"]},{"id":"fc6c6084.2cfd88","type":"chatbot-conversation","z":0,"name":"","botTelegram":"","botSlack":"","botFacebook":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1575.4166259765625,"y":772,"wires":[["d271cf5b.b30b3"]]},{"id":"7eea036e.f95644","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Der Speicher der Himbeere ist zu \" + msg.payload + \" % belegt. Die logs werden automatisch gelöscht. Bitte warte oder reboote.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1140,"y":460,"wires":[["fc6c6084.2cfd88"]]},{"id":"4595eb8b.51e98c","type":"switch","z":0,"name":"Switch:Disk > 80 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"80","vt":"str"}],"checkall":"false","outputs":1,"x":546,"y":460,"wires":[["91f85c07.f217f","40935f94.556d08"]]},{"id":"91f85c07.f217f","type":"delay","z":0,"name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":826,"y":461.25,"wires":[["7eea036e.f95644"]]},{"id":"6af2cbb5.3dd14c","type":"comment","z":0,"name":"Achtung, wenn Speicher über 80% belegt","info":"","x":598,"y":423,"wires":[]},{"id":"6441fc4.cec9384","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Die Speicherbelegung der Himbeere ist nun unter 15 %. \"+ \"Sie beträgt momentan \" + msg.payload + \" %. Die logs wurden wohl gelöscht.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1140,"y":540,"wires":[["fc6c6084.2cfd88"]]},{"id":"b9441402.c8d968","type":"switch","z":0,"name":"Switch:Disk < 15 %","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"15","vt":"str"}],"checkall":"false","outputs":1,"x":546,"y":540,"wires":[["d5bf3d14.98de1"]]},{"id":"d5bf3d14.98de1","type":"delay","z":0,"name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"day","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":824.75,"y":540,"wires":[["6441fc4.cec9384"]]},{"id":"1f0fa87c.cd051","type":"comment","z":0,"name":"Info: Logs wurden gelöscht","info":"","x":546,"y":500,"wires":[]},{"id":"b5702c44.e8e08","type":"chatbot-command","z":0,"name":"","command":"/status","x":337.8333740234375,"y":905.5,"wires":[["67d7bca0.e2dd2c"]]},{"id":"d7efc634.96b148","type":"chatbot-command","z":0,"name":"","command":"/shutdown","x":357.8333740234375,"y":1065.5,"wires":[["72ada116.11a97","4b6061eb.1cff68"]]},{"id":"3ebe0744.3ba968","type":"chatbot-command","z":0,"name":"","command":"/reboot","x":347.8333740234375,"y":1025.5,"wires":[["8e8cc30e.00b438","a8f1dba1.6a75f8"]]},{"id":"4b6061eb.1cff68","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Himbeere wird in 3 Sekunden heruntergefahren.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1131.25,"y":1085,"wires":[["fc6c6084.2cfd88"]]},{"id":"72ada116.11a97","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":587.8333740234375,"y":1065.5,"wires":[["7c8203c6.9137ec"]]},{"id":"8e8cc30e.00b438","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":587.8333740234375,"y":1025.5,"wires":[["b1e412c2.eaa818"]]},{"id":"a8f1dba1.6a75f8","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Himbeere wird in 3 Sekunden neugestartet.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1131.25,"y":1042.5,"wires":[["fc6c6084.2cfd88"]]},{"id":"a3d85123.950cb","type":"exec","z":0,"command":"sudo apt-get clean","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":777.8333740234375,"y":945.5,"wires":[[],[],[]]},{"id":"4a79920b.1108dc","type":"chatbot-command","z":0,"name":"","command":"/clean","x":337.8333740234375,"y":945.5,"wires":[["a3d85123.950cb","362bb2df.8edf4e"]]},{"id":"362bb2df.8edf4e","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Der Befehl sudo apt-get clean wurde ausgeführt.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1131.25,"y":962.5,"wires":[["fc6c6084.2cfd88"]]},{"id":"e7a10ca6.fc58b8","type":"chatbot-command","z":0,"name":"","command":"/remove","x":347.8333740234375,"y":865.5,"wires":[["40935f94.556d08","82939090.db71c8"]],"outputLabels":["/wz"]},{"id":"40935f94.556d08","type":"exec","z":0,"command":"sudo rm /var/log/daemon.log /var/log/daemon.log.1 /var/log/syslog /var/log/syslog.1","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"löscht Logs","x":757.8333740234375,"y":845.5,"wires":[[],[],[]]},{"id":"82939090.db71c8","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Die logs sollten gelöscht worden sein.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1132.5,"y":870,"wires":[["fc6c6084.2cfd88"]]},{"id":"7b38dfac.3fc6e8","type":"chatbot-command","z":0,"name":"","command":"/stop","x":337.8333740234375,"y":985.5,"wires":[["ed3a73c1.538938","bf1b6f59.5f2808"]]},{"id":"c11c9f26.a7f56","type":"exec","z":0,"command":"node-red-stop","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":767.8333740234375,"y":985.5,"wires":[[],[],[]]},{"id":"ed3a73c1.538938","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":587.8333740234375,"y":985.5,"wires":[["c11c9f26.a7f56"]]},{"id":"bf1b6f59.5f2808","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Node-Red wird in 3 Sekunden ausgeschaltet. Zuhause musst du's im Terminal wieder starten!\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1131.25,"y":1002.5,"wires":[["fc6c6084.2cfd88"]]},{"id":"73f4766f.40441","type":"switch","z":0,"name":"Speicher > 85 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"85","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":540,"y":620,"wires":[["229d9aaa.15a57e","c1b35f10.3cbdd8"]]},{"id":"229d9aaa.15a57e","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Auto-Reboot in 3 Sekunden. Speicherplatz am Limit!\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1140,"y":620,"wires":[["fc6c6084.2cfd88"]]},{"id":"b45d96c1.24d758","type":"comment","z":0,"name":"Auto-Reboot, wenn Speicher > 85%","info":"","x":560,"y":580,"wires":[]},{"id":"cc4d4988.2250b8","type":"inject","z":0,"name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":1627.4166259765625,"y":1247,"wires":[["6cb5ed4c.c3d08c"]]},{"id":"6cb5ed4c.c3d08c","type":"function","z":0,"name":"online","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"RPi-Control ist online. \" + msg.payload} };\nreturn msg2;","outputs":1,"noerr":0,"x":1582.083251953125,"y":1130.6666259765625,"wires":[["fc6c6084.2cfd88"]]},{"id":"d271cf5b.b30b3","type":"chatbot-telegram-send","z":0,"bot":"","track":false,"outputs":0,"x":1732.3332824707031,"y":872.6666564941404,"wires":[]},{"id":"8a8de96.72dea98","type":"function","z":0,"name":"timeConvert-Funktioniert noch nicht","func":"if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1485.166748046875,"y":1202,"wires":[[]]},{"id":"627f9bf3.9971c4","type":"exec","z":0,"command":"sudo reboot","addpay":false,"append":"","useSpawn":"","timer":"","name":"Reboot","x":920,"y":620,"wires":[[],[],[]]},{"id":"c1b35f10.3cbdd8","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":780,"y":620,"wires":[["627f9bf3.9971c4"]]},{"id":"6725bed6.86814","type":"inject","z":0,"name":"auto-reboot nach 2,5 Tagen","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"00 00 * * 3,0","once":false,"onceDelay":0.1,"x":700,"y":1280,"wires":[["b1e412c2.eaa818"]]},{"id":"1f2619ee.6dc746","type":"ui_button","z":0,"name":"","group":"","order":2,"width":0,"height":0,"passthru":false,"label":"Reboot","color":"","bgcolor":"","icon":"settings_backup_restore","payload":"Die Himbeere wird neugestartet.","payloadType":"str","topic":"","x":100,"y":1040,"wires":[["b1e412c2.eaa818","ea1500a5.e093a8"]]},{"id":"258447b5.95481","type":"ui_button","z":0,"name":"","group":"","order":3,"width":0,"height":0,"passthru":false,"label":"Shutdown","color":"","bgcolor":"red","icon":"power_settings_new","payload":"Die Himbeere wird heruntergefahren.","payloadType":"str","topic":"","x":97.5,"y":1085,"wires":[["7c8203c6.9137ec","b02966d1.670e38"]]},{"id":"eafa551.7990ca8","type":"ui_button","z":0,"name":"","group":"","order":1,"width":0,"height":0,"passthru":false,"label":"clean Logs","color":"","bgcolor":"green","icon":"delete_forever","payload":"","payloadType":"str","topic":"","x":97.8333740234375,"y":845.5,"wires":[["40935f94.556d08","36d29808.866d88"]]},{"id":"dbc3401.832354","type":"ui_chart","z":0,"name":"","group":"","order":5,"width":0,"height":0,"label":"Temperatur [°C]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"55","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":1000,"y":140,"wires":[[],[]]},{"id":"584fc1f1.648ef","type":"ui_chart","z":0,"name":"","group":"","order":4,"width":0,"height":0,"label":"Prozessorauslastung [%]","chartType":"line","legend":"false","xformat":"HH:mm","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1030,"y":220,"wires":[[],[]]},{"id":"49fd9ed0.fc0e6","type":"ui_chart","z":0,"name":"","group":"","order":0,"width":0,"height":0,"label":"Speicherplatzfüllung [%]","chartType":"line","legend":"false","xformat":"dd HH:mm","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1010,"y":300,"wires":[[],[]]},{"id":"e7b0aba8.f6bd88","type":"ui_gauge","z":0,"name":"","group":"","order":2,"width":"3","height":"3","gtype":"gage","title":"CPU Temperatur","label":"","format":"{{value}} °C","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1010,"y":100,"wires":[]},{"id":"4cd9c98.d252838","type":"ui_gauge","z":0,"name":"","group":"","order":1,"width":"0","height":"0","gtype":"gage","title":"Prozessorauslastung","label":"CPU","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1020,"y":180,"wires":[]},{"id":"f86ad15a.042d38","type":"ui_gauge","z":0,"name":"","group":"","order":3,"width":"3","height":"3","gtype":"gage","title":"Arbeitsspeicher","label":"RAM","format":"{{msg.payload}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1000,"y":260,"wires":[]},{"id":"a03206a8.e0d1c","type":"ui_gauge","z":0,"name":"","group":"","order":2,"width":0,"height":0,"gtype":"gage","title":"Belegter Speicherplatz","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1000,"y":340,"wires":[]},{"id":"36d29808.866d88","type":"ui_toast","z":0,"position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Logs wurden geloescht","x":297.8333740234375,"y":765.5,"wires":[]},{"id":"ea1500a5.e093a8","type":"ui_toast","z":0,"position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Die Himbeere wird neugestartet.","x":310,"y":1140,"wires":[]},{"id":"b02966d1.670e38","type":"ui_toast","z":0,"position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Die Himbeere wird heruntergefahren.","x":330,"y":1180,"wires":[]},{"id":"91522283.78838","type":"smooth","z":0,"name":"","property":"payload","action":"mean","count":"1","round":"1","mult":"single","x":540,"y":220,"wires":[["f86ad15a.042d38","b7917e9.0ea67"]]},{"id":"cb81ecfc.1bc33","type":"exec","z":0,"command":"sudo shutdown -h now","addpay":false,"append":"","useSpawn":"","timer":"","name":"Shutdown","x":1180,"y":60,"wires":[[],[],[]]},{"id":"797a7730.de197","type":"switch","z":0,"name":"T > 60 °C","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"60","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":780,"y":60,"wires":[["21dfb007.2ffb8","5212c9ae.bf8588"]]},{"id":"21dfb007.2ffb8","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1040,"y":60,"wires":[["cb81ecfc.1bc33"]]},{"id":"5212c9ae.bf8588","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Himbeere ist überhitzt und schaltet sich gleich aus!\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1380,"y":60,"wires":[["fc6c6084.2cfd88"]]},{"id":"b7917e9.0ea67","type":"ui_chart","z":0,"name":"","group":"","order":0,"width":0,"height":0,"label":"Arbeitsspeicher","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Warte auf Daten","dot":false,"ymin":"0","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1210,"y":260,"wires":[[],[]]},{"id":"fd45db12.25175","type":"chatbot-telegram-receive","z":"9cd507a9.4544c","bot":"45531229.75243c","botProduction":"45531229.75243c","x":170,"y":100,"wires":[["99189be8.f456a","40456a35.55a8bc","aadd3f4e.424838","17574561.378a03","7c4831e5.de97d","83ffd1bf.6eba3","5b6c24fa.ada844","554c8b43.dbefb4","1d99a257.9c8be6","34b6ec88.da4604","7c952c6a.8ee35c"]]},{"id":"203faaa2.ca3b36","type":"chatbot-telegram-send","z":"9cd507a9.4544c","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":1805,"y":120,"wires":[]},{"id":"99189be8.f456a","type":"chatbot-message","z":"9cd507a9.4544c","name":"Miau","message":[{"message":"Miau"}],"answer":false,"x":1010,"y":60,"wires":[["203faaa2.ca3b36"]]},{"id":"d3cd4e8b.483da8","type":"comment","z":"9cd507a9.4544c","name":"Auto-Reply","info":"","x":1020,"y":20,"wires":[]},{"id":"40456a35.55a8bc","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/keller","x":170,"y":600,"wires":[["a9350713.d0b868"]]},{"id":"aadd3f4e.424838","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/garten","x":180,"y":501.25,"wires":[["5dc1ed02.d3007c","6b139a11.23df14"]],"outputLabels":["/wz"]},{"id":"b70fa6c.a9247d8","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Bodentemperatur beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":500,"wires":[["c85f4e11.5dc6e"]]},{"id":"c85f4e11.5dc6e","type":"chatbot-conversation","z":"9cd507a9.4544c","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1505,"y":440,"wires":[["203faaa2.ca3b36"]]},{"id":"11b618ea.c13267","type":"mqtt in","z":"9cd507a9.4544c","name":"Bodentemperatur","topic":"/keller/temp/28ff8c388a1635a","qos":"0","broker":"2a1fd159.cf2a3e","x":170,"y":1240,"wires":[["7486af88.bc83"]]},{"id":"5dc1ed02.d3007c","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Bodentemperatur","rules":[{"t":"set","p":"payload","pt":"msg","to":"Bodentemperatur","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":908.75,"y":502.5,"wires":[["b70fa6c.a9247d8"]]},{"id":"d640d426.490bd8","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Bodentemperatur","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":525,"y":1240,"wires":[[]]},{"id":"f676ea61.6e4d9","type":"comment","z":"9cd507a9.4544c","name":"Commands","info":"","x":155,"y":400,"wires":[]},{"id":"2b93ec49.e518c4","type":"comment","z":"9cd507a9.4544c","name":"Input für Commands","info":"","x":190,"y":1180,"wires":[]},{"id":"65567046.038e58","type":"comment","z":"9cd507a9.4544c","name":"Textausgabe des Commands","info":"","x":1200,"y":400,"wires":[]},{"id":"dc2ee456.c19ae8","type":"comment","z":"9cd507a9.4544c","name":"Auswahl des Inputs","info":"","x":850,"y":400,"wires":[]},{"id":"b640f37.1e6fd9","type":"mqtt in","z":"9cd507a9.4544c","name":"Außen","topic":"/keller/temp/28ffca9721747","qos":"2","broker":"2a1fd159.cf2a3e","x":130,"y":1300,"wires":[["d8e90af2.dd38e"]]},{"id":"5a2d02b3.4b3be4","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Außen","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":495,"y":1300,"wires":[[]]},{"id":"6b139a11.23df14","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Außentemperatur","rules":[{"t":"set","p":"payload","pt":"msg","to":"Außen","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":910,"y":540,"wires":[["6b19b609.17b028"]]},{"id":"6b19b609.17b028","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Außentemperatur beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1201.25,"y":537.5,"wires":[["c85f4e11.5dc6e"]]},{"id":"17574561.378a03","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/wz","x":170,"y":660,"wires":[["585d944c.f3d0ec","7beacb3f.961bdc"]]},{"id":"a9350713.d0b868","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Keller","rules":[{"t":"set","p":"payload","pt":"msg","to":"Keller","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":600,"wires":[["df3d6237.e40b08"]]},{"id":"df3d6237.e40b08","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur im Keller beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":600,"wires":[["c85f4e11.5dc6e"]]},{"id":"ed377c28.419508","type":"mqtt in","z":"9cd507a9.4544c","name":"Keller","topic":"/keller/temp/28ff84ed6117326","qos":"2","broker":"2a1fd159.cf2a3e","x":130,"y":1360,"wires":[["a72dadd6.bdbab"]]},{"id":"33478b39.e6df9c","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Keller","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":495,"y":1360,"wires":[[]]},{"id":"585d944c.f3d0ec","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Wohnzimmer","rules":[{"t":"set","p":"payload","pt":"msg","to":"Wohnzimmer/Temp","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":660,"wires":[["b819564c.8306e"]]},{"id":"b819564c.8306e","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur im Wohnzimmer beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":660,"wires":[["c85f4e11.5dc6e"]]},{"id":"7c4831e5.de97d","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/status","x":170,"y":440,"wires":[["2a38175b.00f14","9d844fc5.e63fc","372a4a5.62d0f36","8cbf4b13.c60138","38d698ec.1d219","31eba3e5.623844","70b545d3.9dbb84","2dc1157c.f314fa","a2d3e186.d59cd8","4182bbf8.88d5ec","62e5482b.660858"]]},{"id":"a72dadd6.bdbab","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":325,"y":1360,"wires":[["33478b39.e6df9c"]]},{"id":"d8e90af2.dd38e","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":325,"y":1300,"wires":[["5a2d02b3.4b3be4"]]},{"id":"7486af88.bc83","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":325,"y":1240,"wires":[["d640d426.490bd8"]]},{"id":"14174217.87f9fe","type":"chatbot-message","z":"9cd507a9.4544c","name":"schnurrr","message":[{"message":"*schnurrrrr*"}],"answer":false,"x":1020,"y":120,"wires":[["203faaa2.ca3b36"]]},{"id":"83ffd1bf.6eba3","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/streicheln","x":510,"y":120,"wires":[["14174217.87f9fe"]]},{"id":"3c03ae63.393da2","type":"mqtt in","z":"9cd507a9.4544c","name":"Wohnzimmer/Temp","topic":"/wz/temp","qos":"0","broker":"2a1fd159.cf2a3e","x":170,"y":1440,"wires":[["d2bcd0e2.6257e8"]]},{"id":"d97e8dbd.e1dd78","type":"mqtt in","z":"9cd507a9.4544c","name":"Wohnzimmer/Humid","topic":"/wz/humid","qos":"0","broker":"2a1fd159.cf2a3e","x":180,"y":1480,"wires":[["32e7c381.37ee44"]]},{"id":"ca506da0.17b328","type":"mqtt in","z":"9cd507a9.4544c","name":"Küche/Temp","topic":"/kueche/temp","qos":"2","broker":"2a1fd159.cf2a3e","x":150,"y":1540,"wires":[["55b587c8.88e7b"]]},{"id":"f7c7fda.433088","type":"mqtt in","z":"9cd507a9.4544c","name":"Bad/Temp","topic":"/bad/temp","qos":"0","broker":"2a1fd159.cf2a3e","x":140,"y":1640,"wires":[["735d99d4.0f56c"]]},{"id":"5406f164.01bb78","type":"mqtt in","z":"9cd507a9.4544c","name":"Bad/Humid","topic":"/bad/humid","qos":"0","broker":"2a1fd159.cf2a3e","x":150,"y":1680,"wires":[["99d4e736.e93808"]]},{"id":"5153c6e9.4a323","type":"mqtt in","z":"9cd507a9.4544c","name":"Schlafzimmer/Temp","topic":"/sz/temp","qos":"2","broker":"2a1fd159.cf2a3e","x":170,"y":1760,"wires":[["8f241140.eaabb"]]},{"id":"b0d04bb0.66aa4","type":"mqtt in","z":"9cd507a9.4544c","name":"Schlafzimmer/Humid","topic":"/sz/humid","qos":"2","broker":"2a1fd159.cf2a3e","x":180,"y":1800,"wires":[["327b3c7.6c738c4"]]},{"id":"d2bcd0e2.6257e8","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":1440,"wires":[["78671a1b.cff1d4"]]},{"id":"78671a1b.cff1d4","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Wohnzimmer/Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1440,"wires":[[]]},{"id":"32e7c381.37ee44","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":1480,"wires":[["c89a3cb8.e62558"]]},{"id":"c89a3cb8.e62558","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Wohnzimmer/Humid","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":1480,"wires":[[]]},{"id":"55b587c8.88e7b","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":1540,"wires":[["a72d13d0.88a82"]]},{"id":"a72d13d0.88a82","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Küche/Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":1540,"wires":[[]]},{"id":"308f2535.d33fe2","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":1580,"wires":[["40a46ea4.56523"]]},{"id":"40a46ea4.56523","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Küche/Humid","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":560,"y":1580,"wires":[[]]},{"id":"735d99d4.0f56c","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":1640,"wires":[["f937b207.248d6"]]},{"id":"f937b207.248d6","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Bad/Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":1640,"wires":[[]]},{"id":"99d4e736.e93808","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":370,"y":1680,"wires":[["4b2b24df.3ad7f4"]]},{"id":"4b2b24df.3ad7f4","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Bad/Humid","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":550,"y":1680,"wires":[[]]},{"id":"8f241140.eaabb","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":363.3333333333335,"y":1757.7777777777778,"wires":[["f335d3b6.2aca2"]]},{"id":"f335d3b6.2aca2","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Schlafzimmer/Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":573.3333333333335,"y":1757.7777777777778,"wires":[[]]},{"id":"327b3c7.6c738c4","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":363.3333333333335,"y":1797.7777777777778,"wires":[["2ddd595b.c3ac9e"]]},{"id":"2ddd595b.c3ac9e","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Schlafzimmer/Humid","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":573.3333333333335,"y":1797.7777777777778,"wires":[[]]},{"id":"5b6c24fa.ada844","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/kueche","x":180,"y":760,"wires":[["e19ecbb2.1cb688","153f085d.fb78b8"]]},{"id":"bcdacb4e.c03a3","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur in der Küche beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":760,"wires":[["c85f4e11.5dc6e"]]},{"id":"e19ecbb2.1cb688","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Küche","rules":[{"t":"set","p":"payload","pt":"msg","to":"K��che/Temp","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":760,"wires":[["bcdacb4e.c03a3"]]},{"id":"7beacb3f.961bdc","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Wohnzimmer","rules":[{"t":"set","p":"payload","pt":"msg","to":"Wohnzimmer/Humid","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":890,"y":700,"wires":[["717b14a7.7415c4"]]},{"id":"717b14a7.7415c4","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die relative Luftfeuchtigkeit im Wohnzimmer beträgt \" + msg.payload +\" %.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":700,"wires":[["c85f4e11.5dc6e"]]},{"id":"153f085d.fb78b8","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Küche","rules":[{"t":"set","p":"payload","pt":"msg","to":"Küche/Humid","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":800,"wires":[["19cea69f.2b1159"]]},{"id":"19cea69f.2b1159","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die relative Luftfeuchtigkeit in der Küche beträgt \" + msg.payload +\" %.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":800,"wires":[["c85f4e11.5dc6e"]]},{"id":"554c8b43.dbefb4","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/bad","x":170,"y":860,"wires":[["5a6c743a.205c5c","23865084.d9bcf"]]},{"id":"4d96ee2e.90791","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur im Bad beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":860,"wires":[["c85f4e11.5dc6e"]]},{"id":"5a6c743a.205c5c","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Bad","rules":[{"t":"set","p":"payload","pt":"msg","to":"Bad/Temp","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":860,"wires":[["4d96ee2e.90791"]]},{"id":"23865084.d9bcf","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Bad","rules":[{"t":"set","p":"payload","pt":"msg","to":"Bad/Humid","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":870,"y":900,"wires":[["eb4d662a.95eca"]]},{"id":"eb4d662a.95eca","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die relative Luftfeuchtigkeit im Bad beträgt \" + msg.payload +\" %.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":900,"wires":[["c85f4e11.5dc6e"]]},{"id":"1d99a257.9c8be6","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/sz","x":170,"y":960,"wires":[["df8bad5e.5c6a","d167ac93.979568"]]},{"id":"5377f77a.4ec8","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur im Schlafzimmer beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":960,"wires":[["c85f4e11.5dc6e"]]},{"id":"df8bad5e.5c6a","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Schlafzimmer","rules":[{"t":"set","p":"payload","pt":"msg","to":"Schlafzimmer/Temp","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":900,"y":960,"wires":[["5377f77a.4ec8"]]},{"id":"d167ac93.979568","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Schlafzimmer","rules":[{"t":"set","p":"payload","pt":"msg","to":"Schlafzimmer/Humid","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":900,"y":1000,"wires":[["a06d9f82.0925e8"]]},{"id":"a06d9f82.0925e8","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die relative Luftfeuchtigkeit im Schlafzimmer beträgt \" + msg.payload +\" %.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1200,"y":1000,"wires":[["c85f4e11.5dc6e"]]},{"id":"897701e4.42aa","type":"mqtt in","z":"9cd507a9.4544c","name":"Küche/Humid","topic":"/kueche/humid","qos":"2","broker":"2a1fd159.cf2a3e","x":150,"y":1580,"wires":[["308f2535.d33fe2"]]},{"id":"2a38175b.00f14","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"50","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":360,"wires":[["5dc1ed02.d3007c"]]},{"id":"9d844fc5.e63fc","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":380,"wires":[["6b139a11.23df14"]]},{"id":"372a4a5.62d0f36","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"150","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":400,"wires":[["a9350713.d0b868"]]},{"id":"8cbf4b13.c60138","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":420,"wires":[["585d944c.f3d0ec"]]},{"id":"38d698ec.1d219","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"250","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":440,"wires":[["7beacb3f.961bdc"]]},{"id":"31eba3e5.623844","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":460,"wires":[["e19ecbb2.1cb688"]]},{"id":"70b545d3.9dbb84","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"350","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":480,"wires":[["153f085d.fb78b8"]]},{"id":"2dc1157c.f314fa","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"400","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":500,"wires":[["5a6c743a.205c5c"]]},{"id":"a2d3e186.d59cd8","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"450","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":520,"wires":[["23865084.d9bcf"]]},{"id":"4182bbf8.88d5ec","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":540,"wires":[["df8bad5e.5c6a"]]},{"id":"62e5482b.660858","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"550","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":570,"y":560,"wires":[["d167ac93.979568"]]},{"id":"2adfb731.909ac","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Guten Morgen, draußen sind es \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1190,"y":220,"wires":[["c85f4e11.5dc6e"]]},{"id":"fb2244c4.5e12a","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Außentemperatur","rules":[{"t":"set","p":"payload","pt":"msg","to":"Außen","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":880,"y":220,"wires":[["2adfb731.909ac"]]},{"id":"6a587716.dbe898","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"20","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":610,"y":220,"wires":[["fb2244c4.5e12a"]]},{"id":"cce335ec.90701","type":"comment","z":"9cd507a9.4544c","name":"Guten-Morgen-Temperatur","info":"","x":540,"y":160,"wires":[]},{"id":"fccc61b4.caab48","type":"inject","z":"9cd507a9.4544c","name":"GutenMorgen-Msg","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"30 07 * * *","once":false,"x":370,"y":220,"wires":[["6a587716.dbe898"]]},{"id":"34b6ec88.da4604","type":"debug","z":"9cd507a9.4544c","name":"","active":true,"console":"false","complete":"false","x":653,"y":36.666656494140625,"wires":[]},{"id":"d5acf26.b7a301","type":"inject","z":"9cd507a9.4544c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":1695,"y":580,"wires":[["87e5ae0d.90e008"]]},{"id":"94f5e86b.2845b8","type":"function","z":"9cd507a9.4544c","name":"online-status","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Telegram-Bot ist online. \"+ msg.day+ \".\" + msg.month+\".\" + msg.year +\" \"+ msg.hours+\":\"  + msg.mins+\"Uhr\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1690,"y":500,"wires":[["c85f4e11.5dc6e"]]},{"id":"b34ad1f0.c38348","type":"mqtt in","z":"9cd507a9.4544c","name":"Wohnzimmer/Humid","topic":"/wz/humid","qos":"0","broker":"2a1fd159.cf2a3e","x":190,"y":2020,"wires":[["f4743edc.b52c68"]]},{"id":"70b892ba.9f804c","type":"mqtt in","z":"9cd507a9.4544c","name":"Küche/Humid","topic":"/kueche/humid","qos":"2","broker":"2a1fd159.cf2a3e","x":170,"y":1940,"wires":[["432313d7.45505c"]]},{"id":"a382c891.c8fc6","type":"mqtt in","z":"9cd507a9.4544c","name":"Schlafzimmer/Humid","topic":"/sz/humid","qos":"2","broker":"2a1fd159.cf2a3e","x":190,"y":2060,"wires":[["17d2ea72.a4f1e6"]]},{"id":"8dd4e147.b461b8","type":"mqtt in","z":"9cd507a9.4544c","name":"Bad/Humid","topic":"/bad/humid","qos":"0","broker":"2a1fd159.cf2a3e","x":160,"y":1980,"wires":[["171dc271.785736"]]},{"id":"432313d7.45505c","type":"falling-edge","z":"9cd507a9.4544c","name":"fällt um 8 %","threshold":"8","x":450,"y":1940,"wires":[["6f49b27.47857cc"]]},{"id":"171dc271.785736","type":"falling-edge","z":"9cd507a9.4544c","name":"fällt um 8 %","threshold":"8","x":450,"y":1980,"wires":[["a8101f6c.de6e8"]]},{"id":"f4743edc.b52c68","type":"falling-edge","z":"9cd507a9.4544c","name":"fällt um 8 %","threshold":"8","x":450,"y":2020,"wires":[["d3e2581e.b3508"]]},{"id":"17d2ea72.a4f1e6","type":"falling-edge","z":"9cd507a9.4544c","name":"fällt um 8 %","threshold":"8","x":450,"y":2060,"wires":[["e1fbd7cf.b453b8"]]},{"id":"d6ceb712.ba6f3","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : msg.topic +\": gut gelüftet\"} };\nreturn msg;","outputs":1,"noerr":0,"x":940,"y":2000,"wires":[["3c3b15a2.3b3352"]]},{"id":"6f49b27.47857cc","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Küche","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":610,"y":1940,"wires":[["d6ceb712.ba6f3"]]},{"id":"a8101f6c.de6e8","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Bad","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":610,"y":1980,"wires":[["d6ceb712.ba6f3"]]},{"id":"d3e2581e.b3508","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Wohnzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":610,"y":2020,"wires":[["d6ceb712.ba6f3"]]},{"id":"e1fbd7cf.b453b8","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Schlafzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":610,"y":2060,"wires":[["d6ceb712.ba6f3"]]},{"id":"3c3b15a2.3b3352","type":"chatbot-conversation","z":"9cd507a9.4544c","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1190,"y":2000,"wires":[["259041e.7eff03e"]]},{"id":"259041e.7eff03e","type":"chatbot-telegram-send","z":"9cd507a9.4544c","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":1210,"y":2040,"wires":[]},{"id":"5aa7161.821fb68","type":"mqtt in","z":"42fde7d.75a2f18","name":"Bodentemp","topic":"/keller/temp/28ff8c388a1635a","qos":"2","broker":"66b9cc5c.5ff2d4","x":130,"y":1520,"wires":[["67f9ebdd.a2b1d4","9eef66af.634a7","623f0065.1220d","4bb59199.9c0388"]]},{"id":"30989ad5.2a4336","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/keller/UV/UV","qos":"0","broker":"66b9cc5c.5ff2d4","x":130,"y":1880,"wires":[["516cb884.eb0f88"]]},{"id":"58f70842.204ff8","type":"chatbot-conversation","z":"42fde7d.75a2f18","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1928.75,"y":696.25,"wires":[["5a24cb29.017a6c"]]},{"id":"cd1300c3.ccc2","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/keller/UV/mW","qos":"0","broker":"66b9cc5c.5ff2d4","x":140,"y":1920,"wires":[["82febb4c.7a7f68"]]},{"id":"d142bb7b.51ac68","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/keller/UV/index","qos":"0","broker":"66b9cc5c.5ff2d4","x":140,"y":1960,"wires":[["2c0834e7.d0ff74"]]},{"id":"67f9ebdd.a2b1d4","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Bodentemperatur","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1390,"y":1520,"wires":[["e1eeeb58.fcc7b","7bd4b6dc.e18478"]]},{"id":"5a24cb29.017a6c","type":"chatbot-telegram-send","z":"42fde7d.75a2f18","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":2167.3215942382812,"y":697.6786499023438,"wires":[]},{"id":"e1eeeb58.fcc7b","type":"switch","z":"42fde7d.75a2f18","name":"Switch:Temp < 10 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"10","vt":"str"}],"checkall":"false","outputs":1,"x":1637.5,"y":1555,"wires":[[]]},{"id":"fbb950e5.08442","type":"function","z":"42fde7d.75a2f18","name":"Achtung! Es ist kalt draußen","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Es friert! \" + msg.payload + \" °C\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":2068.75,"y":1598.75,"wires":[["58f70842.204ff8"]]},{"id":"83f39f4a.8172f","type":"mqtt in","z":"42fde7d.75a2f18","name":"Außentemp","topic":"/keller/temp/28ffca9721747","qos":"2","broker":"66b9cc5c.5ff2d4","x":140,"y":1680,"wires":[["1d37c9c4.8af116","743a135d.0ff7f4","18d950c7.994797","e8f7080a.f03ea8","603af096.8a2de8"]]},{"id":"1d37c9c4.8af116","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Außentemperatur","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1390,"y":1658.75,"wires":[["7bd4b6dc.e18478"]]},{"id":"ff7c9e4b.ff00d","type":"mqtt in","z":"42fde7d.75a2f18","name":"Wohnzimmer/Temp","topic":"/wz/temp","qos":"0","broker":"66b9cc5c.5ff2d4","x":150,"y":700,"wires":[["7be17f5a.bf77e8","221c3db4.67ec1a","751a6fed.6ae128"]]},{"id":"c0a30241.1e5288","type":"mqtt in","z":"42fde7d.75a2f18","name":"Wohnzimmer/Humid","topic":"/wz/humid","qos":"0","broker":"66b9cc5c.5ff2d4","x":150,"y":740,"wires":[["f83db71c.aaa64","c59c01e6.f3f8b","586e3ebe.abcfa8","ecdbcec4.3d92"]]},{"id":"200a1f74.a8b7d8","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/sz/temp","qos":"2","broker":"66b9cc5c.5ff2d4","x":120,"y":1020,"wires":[["d15c4617.a56988","3ad9b4ef.9fd9d4","118f4eb.0aa8cb1"]]},{"id":"81dabc15.9003f8","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/sz/humid","qos":"2","broker":"66b9cc5c.5ff2d4","x":118.88890584309911,"y":1057.7777777777778,"wires":[["6b387ee1.b08b9","fd876998.e865","67154afc.b92ddc","3a1a498a.205e9e"]]},{"id":"a64e7ae7.bdb9e8","type":"mqtt in","z":"42fde7d.75a2f18","name":"Keller","topic":"/keller/temp/28ff84ed6117326","qos":"2","broker":"66b9cc5c.5ff2d4","x":110,"y":1320,"wires":[["e23ee1cf.ade318","bc599d24.909e28"]]},{"id":"334f16c5.b15dc2","type":"comment","z":"42fde7d.75a2f18","name":"Garten","info":"","x":70,"y":1480,"wires":[]},{"id":"f7cc7eea.efced8","type":"comment","z":"42fde7d.75a2f18","name":"Wohnzimmer","info":"","x":90,"y":600,"wires":[]},{"id":"67154afc.b92ddc","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Schlafzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":1016.25,"wires":[["cd85315e.3a6de8"]]},{"id":"4b6e4523.5ec2a4","type":"switch","z":"42fde7d.75a2f18","name":"Humid > 72 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"72","vt":"str"}],"checkall":"false","outputs":1,"x":1287.5001220703125,"y":1013.75,"wires":[["8fc767d9.3648b"]]},{"id":"630959e0.3e22f","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Humid","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Luftfeuchte im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" %.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1597.5001220703125,"y":1012.5,"wires":[["58f70842.204ff8"]]},{"id":"cd85315e.3a6de8","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1107.5001220703125,"y":1015,"wires":[["4b6e4523.5ec2a4"]]},{"id":"586e3ebe.abcfa8","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Wohnzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":716.25,"wires":[["a0784ae1.c2553"]]},{"id":"d982cc32.b2a0a8","type":"switch","z":"42fde7d.75a2f18","name":"Humid > 70 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"70","vt":"str"}],"checkall":"false","outputs":1,"x":1283.7501220703125,"y":716.25,"wires":[["e5bebd1c.187c78"]]},{"id":"e0ee34f9.72404","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Humid","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Luftfeuchte im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" %.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1598.75,"y":716.25,"wires":[["58f70842.204ff8"]]},{"id":"a0784ae1.c2553","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1107.5001220703125,"y":716.25,"wires":[["d982cc32.b2a0a8"]]},{"id":"41616906.5ba3f8","type":"comment","z":"42fde7d.75a2f18","name":"Schlafzimmer","info":"","x":90,"y":900,"wires":[]},{"id":"adeb1f61.790128","type":"comment","z":"42fde7d.75a2f18","name":"Keller","info":"","x":70,"y":1220,"wires":[]},{"id":"ea30cb18.2f0338","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/kueche/temp","qos":"2","broker":"66b9cc5c.5ff2d4","x":130,"y":140,"wires":[["88dff466.9d0968","2daa5b59.66b02c","8aecb997.7bf3b"]]},{"id":"6f6ab794.91cfb","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/kueche/humid","qos":"2","broker":"66b9cc5c.5ff2d4","x":130,"y":180,"wires":[["b8169f45.ab516","e9b41cb.f0daf6","3c804f8.5e4f6b","3bf51427.10ea1c"]]},{"id":"d85d0e8d.d8e4c","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/bad/temp","qos":"0","broker":"66b9cc5c.5ff2d4","x":120,"y":420,"wires":[["aba007fa.594588","fd9dcf85.2775f8","70c1c9c3.173708"]]},{"id":"b0add091.6d285","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/bad/humid","qos":"0","broker":"66b9cc5c.5ff2d4","x":120,"y":460,"wires":[["13df6221.27816e","a9412b3e.7e49c","ee28421d.5005a","e8473df8.74ead8"]]},{"id":"ee28421d.5005a","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Bad","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":436.25,"wires":[["2c4afb45.bf6794"]]},{"id":"d779a396.3d9f28","type":"switch","z":"42fde7d.75a2f18","name":"Humid > 80 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"80","vt":"str"}],"checkall":"false","outputs":1,"x":1288.7501220703125,"y":432.5,"wires":[["97edc369.6e97d"]]},{"id":"eafa2b7f.57ce98","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Humid","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Luftfeuchte im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" %.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1598.75,"y":433.75,"wires":[["58f70842.204ff8"]]},{"id":"2c4afb45.bf6794","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1110.0001220703125,"y":435,"wires":[["d779a396.3d9f28"]]},{"id":"3c804f8.5e4f6b","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Küche","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":156.25,"wires":[["ec960e1b.582b68"]]},{"id":"3528d9c8.0234be","type":"switch","z":"42fde7d.75a2f18","name":"Humid > 70 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"70","vt":"str"}],"checkall":"false","repair":false,"outputs":1,"x":1288.7501220703125,"y":155,"wires":[["841c295d.0dfa2"]]},{"id":"bd613941.d7af6","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Humid","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Luftfeuchte in der \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" %.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1598.75,"y":156.25,"wires":[["58f70842.204ff8"]]},{"id":"ec960e1b.582b68","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1108.7501220703125,"y":156.25,"wires":[["3528d9c8.0234be"]]},{"id":"cdaee872.fb6568","type":"comment","z":"42fde7d.75a2f18","name":"Küche","info":"","x":70,"y":60,"wires":[]},{"id":"f55e55f6.4dba18","type":"comment","z":"42fde7d.75a2f18","name":"Bad","info":"","x":70,"y":340,"wires":[]},{"id":"ffc57253.b30928","type":"comment","z":"42fde7d.75a2f18","name":"Alarm","info":"","x":918.75,"y":56.25,"wires":[]},{"id":"e9b41cb.f0daf6","type":"smooth","z":"42fde7d.75a2f18","name":"max","property":"payload","action":"max","count":"1000","round":"2","mult":"single","x":410,"y":280,"wires":[["f78faff6.026d8"]]},{"id":"a9412b3e.7e49c","type":"smooth","z":"42fde7d.75a2f18","name":"max","property":"payload","action":"max","count":"1000","round":"2","mult":"single","x":370,"y":560,"wires":[["300743fc.6ccd3c"]]},{"id":"c59c01e6.f3f8b","type":"smooth","z":"42fde7d.75a2f18","name":"max","property":"payload","action":"max","count":"1000","round":"2","mult":"single","x":370,"y":840,"wires":[["3bd8451c.118442"]]},{"id":"fd876998.e865","type":"smooth","z":"42fde7d.75a2f18","name":"max","action":"max","count":"1000","round":"2","mult":"single","x":370,"y":1140,"wires":[["d385627.4259c2"]]},{"id":"2daa5b59.66b02c","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Küche","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":116.25,"wires":[["825c2e7f.cdbf98"]]},{"id":"7e377283.a2b7d4","type":"switch","z":"42fde7d.75a2f18","name":"Temp < 17 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"17","vt":"str"}],"checkall":"false","outputs":1,"x":1288.7501220703125,"y":115,"wires":[["c6dabc33.f3cd68"]]},{"id":"bc68cbfd.a2b848","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Temp","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Temperatur in der \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" °C.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1588.75,"y":116.25,"wires":[["58f70842.204ff8"]]},{"id":"825c2e7f.cdbf98","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1108.7501220703125,"y":116.25,"wires":[["7e377283.a2b7d4"]]},{"id":"c6dabc33.f3cd68","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":116.25,"wires":[["bc68cbfd.a2b848"]]},{"id":"841c295d.0dfa2","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.7499389648438,"y":157.5,"wires":[["bd613941.d7af6"]]},{"id":"97edc369.6e97d","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":433.75,"wires":[["eafa2b7f.57ce98"]]},{"id":"e5bebd1c.187c78","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":716.25,"wires":[["e0ee34f9.72404"]]},{"id":"8fc767d9.3648b","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.7501220703125,"y":1012.5,"wires":[["630959e0.3e22f"]]},{"id":"fd9dcf85.2775f8","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Bad","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":396.25,"wires":[["69cd637.cffa21c"]]},{"id":"844b0256.72387","type":"switch","z":"42fde7d.75a2f18","name":"Temp < 17 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"17","vt":"str"}],"checkall":"false","outputs":1,"x":1288.7501220703125,"y":395,"wires":[["c05dc8b.1da83b8"]]},{"id":"b977cf66.c7c28","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Temp","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Temperatur im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" °C.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1588.75,"y":396.25,"wires":[["58f70842.204ff8"]]},{"id":"69cd637.cffa21c","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1108.7501220703125,"y":396.25,"wires":[["844b0256.72387"]]},{"id":"c05dc8b.1da83b8","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":396.25,"wires":[["b977cf66.c7c28"]]},{"id":"221c3db4.67ec1a","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Wohnzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":676.25,"wires":[["17b0b1ee.74a56e"]]},{"id":"4f51b39f.19d3d4","type":"switch","z":"42fde7d.75a2f18","name":"Temp < 17 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"17","vt":"str"}],"checkall":"false","outputs":1,"x":1282.5001220703125,"y":675,"wires":[["5c3ecd74.9108ac"]]},{"id":"b7734fe7.503f98","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Temp","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Temperatur im \"+ msg.topic + \" betr��gt momentan \" + msg.payload + \" °C.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1588.75,"y":676.25,"wires":[["58f70842.204ff8"]]},{"id":"17b0b1ee.74a56e","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1107.5001220703125,"y":676.25,"wires":[["4f51b39f.19d3d4"]]},{"id":"5c3ecd74.9108ac","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":676.25,"wires":[["b7734fe7.503f98"]]},{"id":"3ad9b4ef.9fd9d4","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Schlafzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":976.25,"wires":[["b9297dec.7dfa08"]]},{"id":"9669b4ef.ebed98","type":"switch","z":"42fde7d.75a2f18","name":"Temp < 17°C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"17","vt":"str"}],"checkall":"false","outputs":1,"x":1278.7501220703125,"y":975,"wires":[["751351b3.9d6448"]]},{"id":"d486cee0.92f23","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Temp","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Temperatur im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" °C.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1588.75,"y":976.25,"wires":[["58f70842.204ff8"]]},{"id":"b9297dec.7dfa08","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1108.7501220703125,"y":976.25,"wires":[["9669b4ef.ebed98"]]},{"id":"751351b3.9d6448","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":976.25,"wires":[["d486cee0.92f23"]]},{"id":"e23ee1cf.ade318","type":"smooth","z":"42fde7d.75a2f18","name":"min","action":"min","count":"1000","round":"2","mult":"single","x":450,"y":1360,"wires":[["617ac155.f71f98"]]},{"id":"18d950c7.994797","type":"smooth","z":"42fde7d.75a2f18","name":"min","action":"min","count":"1000","round":"2","mult":"single","x":455.5,"y":1737.2499389648438,"wires":[["3fe24276.853a6e"]]},{"id":"9eef66af.634a7","type":"smooth","z":"42fde7d.75a2f18","name":"min","action":"min","count":"1000","round":"2","mult":"single","x":451.25,"y":1520,"wires":[["35ab22f2.786386"]]},{"id":"623f0065.1220d","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Boden","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":290,"y":1560,"wires":[["2a076dbb.2e8702"]]},{"id":"e8f7080a.f03ea8","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Außen","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":290,"y":1640,"wires":[["1da779c.c35d586","338062f9.67e3c6"]]},{"id":"76821992.59109","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"2","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1837.5,"y":1575,"wires":[["fbb950e5.08442"]]},{"id":"7bd4b6dc.e18478","type":"switch","z":"42fde7d.75a2f18","name":"Switch:Temp < 0 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"0","vt":"str"}],"checkall":"false","outputs":1,"x":1627.5,"y":1615,"wires":[["2e1bc9df.15f1ae"]]},{"id":"2e1bc9df.15f1ae","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"2","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1837.5,"y":1615,"wires":[["fbb950e5.08442"]]},{"id":"5ef27ae8.ce1c34","type":"inject","z":"42fde7d.75a2f18","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":2010,"y":840,"wires":[["c148e9c0.7847f"]]},{"id":"187a26a.43694d9","type":"function","z":"42fde7d.75a2f18","name":"online","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Sensoren sind online. \" + msg.day+ \".\" + msg.month+\".\" + msg.year +\" \"+ msg.hours+\":\"  + msg.mins+\"Uhr\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1991.416748046875,"y":770.25,"wires":[["58f70842.204ff8"]]},{"id":"2c0834e7.d0ff74","type":"ui_text","z":"42fde7d.75a2f18","group":"20b3b7f8.c09358","order":8,"width":0,"height":0,"name":"","label":"UV-Index:","format":"{{msg.payload}}","layout":"row-right","x":940,"y":1960,"wires":[]},{"id":"92bda1f6.0644d","type":"ui_text","z":"42fde7d.75a2f18","group":"e93d59b4.f58ac8","order":6,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 16-18 °C <br>  rel. Feuchte = 40-60 % ","format":"","layout":"row-spread","x":298.75,"y":936.25,"wires":[]},{"id":"b9f52fa6.334cb","type":"ui_text","z":"42fde7d.75a2f18","group":"1ab9bfc7.7bfb28","order":6,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 20 °C <br>  rel. Feuchte = 40-60 % ","format":"","layout":"row-spread","x":292.5,"y":641.25,"wires":[]},{"id":"2eed62e9.f710a6","type":"ui_text","z":"42fde7d.75a2f18","group":"9a0e3fbc.18ce58","order":0,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 10-15 °C <br>  rel. Feuchte = 50-65 % ","format":"","layout":"row-spread","x":304.9998779296875,"y":1258.75,"wires":[]},{"id":"443fbcbb.019bc4","type":"ui_text","z":"42fde7d.75a2f18","group":"d3e06eca.53a038","order":6,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 18 °C <br>  rel. Feuchte = 40-60 % ","format":"","layout":"row-spread","x":301.24993896484375,"y":91.25,"wires":[]},{"id":"9868dba3.ddd35","type":"ui_text","z":"42fde7d.75a2f18","group":"1811bcb3.2dacfb","order":6,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 23 °C <br>  rel. Feuchte = 50-70 % ","format":"","layout":"row-spread","x":303.74993896484375,"y":368.75,"wires":[]},{"id":"f78faff6.026d8","type":"ui_text","z":"42fde7d.75a2f18","group":"d3e06eca.53a038","order":3,"width":0,"height":0,"name":"","label":"max. gemessene Luftfeuchte","format":"{{msg.payload}} %","layout":"row-left","x":650.6943969726562,"y":279.4444580078125,"wires":[]},{"id":"300743fc.6ccd3c","type":"ui_text","z":"42fde7d.75a2f18","group":"1811bcb3.2dacfb","order":3,"width":0,"height":0,"name":"","label":"max. gemessene Luftfeuchte","format":"{{msg.payload}} %","layout":"row-left","x":648.75,"y":576.25,"wires":[]},{"id":"3bd8451c.118442","type":"ui_text","z":"42fde7d.75a2f18","group":"1ab9bfc7.7bfb28","order":3,"width":0,"height":0,"name":"","label":"max. gemessene Luftfeuchte","format":"{{msg.payload}} %","layout":"row-left","x":643.75,"y":843.75,"wires":[]},{"id":"d385627.4259c2","type":"ui_text","z":"42fde7d.75a2f18","group":"e93d59b4.f58ac8","order":3,"width":0,"height":0,"name":"","label":"max. gemessene Luftfeuchte","format":"{{msg.payload}} %","layout":"row-left","x":648.75,"y":1136.25,"wires":[]},{"id":"617ac155.f71f98","type":"ui_text","z":"42fde7d.75a2f18","group":"9a0e3fbc.18ce58","order":0,"width":0,"height":0,"name":"","label":"tiefste Temperatur: ","format":"{{msg.payload}} °C","layout":"row-left","x":970,"y":1360,"wires":[]},{"id":"3fe24276.853a6e","type":"ui_text","z":"42fde7d.75a2f18","group":"20b3b7f8.c09358","order":4,"width":"3","height":"1","name":"","label":"min: ","format":"{{msg.payload}} °C","layout":"row-left","x":934.1944274902344,"y":1730.1943359375,"wires":[]},{"id":"35ab22f2.786386","type":"ui_text","z":"42fde7d.75a2f18","group":"b30c1ef9.c856","order":4,"width":"3","height":"1","name":"","label":"min: ","format":"{{msg.payload}} °C","layout":"row-left","x":930,"y":1440,"wires":[]},{"id":"516cb884.eb0f88","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"20b3b7f8.c09358","order":6,"width":0,"height":0,"label":"UV","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":930,"y":1880,"wires":[[],[]]},{"id":"82febb4c.7a7f68","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"20b3b7f8.c09358","order":7,"width":0,"height":0,"label":"mW","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":930,"y":1920,"wires":[[],[]]},{"id":"f2f5dd65.b2a26","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"1ab9bfc7.7bfb28","order":1,"width":0,"height":0,"label":"Temperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff9595","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":590,"y":680,"wires":[[],[]]},{"id":"d4192348.b37708","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"1ab9bfc7.7bfb28","order":2,"width":0,"height":0,"label":"relative Luftfeuchte","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":613.75,"y":763.75,"wires":[[],[]]},{"id":"94eb580e.3de608","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"e93d59b4.f58ac8","order":1,"width":0,"height":0,"label":"Temperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff9595","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":598.75,"y":976.25,"wires":[[],[]]},{"id":"654e995b.c15558","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"e93d59b4.f58ac8","order":2,"width":0,"height":0,"label":"relative Luftfeuchte","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":618.75,"y":1056.25,"wires":[[],[]]},{"id":"d659566e.b077a8","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"9a0e3fbc.18ce58","order":1,"width":0,"height":0,"label":"Keller","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":930,"y":1320,"wires":[[],[]]},{"id":"2d1a4ce2.179454","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"d3e06eca.53a038","order":1,"width":0,"height":0,"label":"Temperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff9595","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":598.75,"y":116.25,"wires":[[],[]]},{"id":"8e263dbd.a549b8","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"d3e06eca.53a038","order":2,"width":0,"height":0,"label":"relative Luftfeuchte","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":610,"y":200,"wires":[[],[]]},{"id":"d2fc6a33.cd4ef8","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"1811bcb3.2dacfb","order":1,"width":0,"height":0,"label":"Temperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff9595","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":590,"y":420,"wires":[[],[]]},{"id":"80e1dd5b.d86e78","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"1811bcb3.2dacfb","order":2,"width":0,"height":0,"label":"relative Luftfeuchte","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":618.75,"y":496.25,"wires":[[],[]]},{"id":"968d8659.b61098","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"b30c1ef9.c856","order":1,"width":"0","height":"0","label":"Boden- und Außentemperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#27b62b","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":1000,"y":1580,"wires":[[],[]]},{"id":"413dba8a.bb7774","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"20b3b7f8.c09358","order":1,"width":0,"height":0,"label":"Außentemperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":970,"y":1640,"wires":[[],[]]},{"id":"8e5cfb.a4ee1b08","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"b30c1ef9.c856","order":2,"width":0,"height":0,"gtype":"gage","title":"Bodentemperatur","label":"","format":"{{value}} °C","min":"-10","max":"30","colors":["#3342ff","#0ce600","#ca3838"],"seg1":"10","seg2":"20","x":970,"y":1480,"wires":[]},{"id":"7be17f5a.bf77e8","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"1ab9bfc7.7bfb28","order":4,"width":"3","height":"3","gtype":"gage","title":"Temperatur","label":"","format":"{{value}} °C","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"22","seg2":"25","x":593.75,"y":723.75,"wires":[]},{"id":"f83db71c.aaa64","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"1ab9bfc7.7bfb28","order":5,"width":"3","height":"3","gtype":"gage","title":"rel. Luftfeuchte","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"65","seg2":"75","x":603.75,"y":803.75,"wires":[]},{"id":"d15c4617.a56988","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"e93d59b4.f58ac8","order":4,"width":"3","height":"3","gtype":"gage","title":"Temperatur","label":"","format":"{{value}} °C","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"22","seg2":"25","x":598.75,"y":1016.25,"wires":[]},{"id":"6b387ee1.b08b9","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"e93d59b4.f58ac8","order":5,"width":"3","height":"3","gtype":"gage","title":"rel. Luftfeuchte","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"65","seg2":"75","x":608.75,"y":1096.25,"wires":[]},{"id":"88dff466.9d0968","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"d3e06eca.53a038","order":4,"width":"3","height":"3","gtype":"gage","title":"Temperatur","label":"","format":"{{value}} °C","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"22","seg2":"25","x":600.6943969726562,"y":159.4444580078125,"wires":[]},{"id":"b8169f45.ab516","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"d3e06eca.53a038","order":5,"width":"3","height":"3","gtype":"gage","title":"rel. Luftfeuchte","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"65","seg2":"75","x":610.6943969726562,"y":239.4444580078125,"wires":[]},{"id":"aba007fa.594588","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"1811bcb3.2dacfb","order":4,"width":"3","height":"3","gtype":"gage","title":"Temperatur","label":"","format":"{{value}} °C","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"24","seg2":"26","x":598.75,"y":456.25,"wires":[]},{"id":"13df6221.27816e","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"1811bcb3.2dacfb","order":5,"width":"3","height":"3","gtype":"gage","title":"rel. Luftfeuchte","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"70","seg2":"80","x":608.75,"y":536.25,"wires":[]},{"id":"743a135d.0ff7f4","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"20b3b7f8.c09358","order":2,"width":0,"height":0,"gtype":"gage","title":"Außentemperatur","label":"","format":"{{value}} °C","min":"-10","max":"30","colors":["#3e1cff","#2dbc29","#ca3838"],"seg1":"10","seg2":"20","x":974.75,"y":1695.7499389648438,"wires":[]},{"id":"a98e28b7.db9118","type":"chatbot-telegram-receive","z":"319e799e.4970d6","bot":"45531229.75243c","botProduction":"45531229.75243c","x":90,"y":380,"wires":[["2f22dfbb.8fb18","2ab0299b.22e676"]]},{"id":"5cc9f94c.d5d338","type":"chatbot-telegram-send","z":"319e799e.4970d6","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":1890,"y":440,"wires":[]},{"id":"e630a39a.863b58","type":"chatbot-conversation","z":"319e799e.4970d6","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1880,"y":400,"wires":[["5cc9f94c.d5d338"]]},{"id":"2f22dfbb.8fb18","type":"chatbot-command","z":"319e799e.4970d6","name":"","command":"/kippe","x":270,"y":120,"wires":[["8fd129fb.0d88c","eec93b20.ce36a"]]},{"id":"1a243aa7.a639bd","type":"function","z":"319e799e.4970d6","name":"sendet Kippenanzahl","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Du hast heute schon \" + msg.payload +\" Zigaretten geraucht.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1300,"y":300,"wires":[["e630a39a.863b58"]]},{"id":"ca315871.953cb","type":"function","z":"319e799e.4970d6","name":"sendet Kippenintervall","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Vor \" + msg.payload +\" war deine letzte.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1300,"y":260,"wires":[["e630a39a.863b58"]]},{"id":"5118b183.db204","type":"function","z":"319e799e.4970d6","name":"sendet Bieranzahl","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Du hast heute schon \" + msg.payload +\" Bier getrunken.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1290,"y":520,"wires":[["e630a39a.863b58"]]},{"id":"bf8d820e.e2e2e8","type":"function","z":"319e799e.4970d6","name":"sendet Bierintervall","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Vor \" + msg.payload +\" war dein letztes.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1290,"y":480,"wires":[["e630a39a.863b58"]]},{"id":"2ab0299b.22e676","type":"chatbot-command","z":"319e799e.4970d6","name":"","command":"/bier","x":270,"y":640,"wires":[["73e8edf8.51ea94","b331444d.3cdc48"]]},{"id":"73e8edf8.51ea94","type":"function","z":"319e799e.4970d6","name":"+ 1","func":"msg.increment = 1;\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":640,"wires":[["5c6d479b.daa01"]]},{"id":"58db668b.db84","type":"function","z":"319e799e.4970d6","name":"reset","func":"msg.reset = true;\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":720,"wires":[["5c6d479b.daa01"]]},{"id":"e8489e0b.f8ce98","type":"function","z":"319e799e.4970d6","name":"- 1","func":"msg.decrement = 1;\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":680,"wires":[["5c6d479b.daa01"]]},{"id":"5c6d479b.daa01","type":"counter","z":"319e799e.4970d6","name":"","init":"0","step":1,"lower":"","upper":"","mode":"increment","outputs":2,"x":940,"y":680,"wires":[["5118b183.db204","c841f842.89d1e8","5748c0fc.7b4e38"],[]]},{"id":"eec93b20.ce36a","type":"function","z":"319e799e.4970d6","name":"+ 1","func":"msg.increment = 1;\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":120,"wires":[["9f0949c3.5f7088"]]},{"id":"c46f60c0.e34528","type":"function","z":"319e799e.4970d6","name":"reset","func":"msg.reset = true;\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":200,"wires":[["9f0949c3.5f7088"]]},{"id":"c67342b7.1eaff","type":"function","z":"319e799e.4970d6","name":"- 1","func":"msg.decrement = 1;\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":160,"wires":[["9f0949c3.5f7088"]]},{"id":"9f0949c3.5f7088","type":"counter","z":"319e799e.4970d6","name":"","init":"0","step":1,"lower":null,"upper":null,"mode":"increment","outputs":2,"x":920,"y":160,"wires":[["1a243aa7.a639bd","5826a816.5d49e","1befb16e.00fbef"],[]]},{"id":"bb5c6b5f.834d","type":"inject","z":"319e799e.4970d6","name":"reset um 04:30 Uhr","topic":"reset","payload":"","payloadType":"date","repeat":"","crontab":"30 04 * * *","once":false,"onceDelay":0.1,"x":560,"y":240,"wires":[["c46f60c0.e34528"]]},{"id":"c19e315c.bb1438","type":"inject","z":"319e799e.4970d6","name":"reset um 04:30 Uhr","topic":"reset","payload":"","payloadType":"date","repeat":"","crontab":"30 04 * * *","once":false,"onceDelay":0.1,"x":540,"y":760,"wires":[["58db668b.db84"]]},{"id":"d6c86312.ee3088","type":"persist in","z":"319e799e.4970d6","name":"Kippen","storageNode":"c09a3757.192e68","x":1720,"y":160,"wires":[]},{"id":"c1e82233.1a8778","type":"persist out","z":"319e799e.4970d6","name":"Kippen","storageNode":"c09a3757.192e68","x":1300,"y":20,"wires":[["5826a816.5d49e","543b74f5.6870ac"]]},{"id":"645ae80b.7d245","type":"persist in","z":"319e799e.4970d6","name":"Bier","storageNode":"64cca9da.899d5","x":1690,"y":680,"wires":[]},{"id":"cce8a6d0.2002e8","type":"persist out","z":"319e799e.4970d6","name":"Bier","storageNode":"64cca9da.899d5","x":1330,"y":680,"wires":[["5748c0fc.7b4e38"]]},{"id":"6d97335e.dbed54","type":"inject","z":"319e799e.4970d6","name":"minus 1","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":270,"y":160,"wires":[["c67342b7.1eaff"]]},{"id":"614d78f.2bb3508","type":"inject","z":"319e799e.4970d6","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":280,"y":680,"wires":[["e8489e0b.f8ce98"]]},{"id":"3d8eeb6a.87c054","type":"ui_button","z":"319e799e.4970d6","name":"","group":"3048233c.060214","order":4,"width":0,"height":0,"passthru":false,"label":"Nächste Kippe","color":"","bgcolor":"","icon":"smoke_rooms","payload":"1 Kippe geraucht","payloadType":"str","topic":"","x":300,"y":80,"wires":[["8fd129fb.0d88c","eec93b20.ce36a","3502b487.c0e50c","9413adc0.89d3d8"]]},{"id":"f0e30be2.07e3e","type":"ui_button","z":"319e799e.4970d6","name":"","group":"3048233c.060214","order":0,"width":"0","height":"0","passthru":false,"label":"Reset","color":"","bgcolor":"","icon":"fa-refresh","payload":"Counter resetted","payloadType":"str","topic":"","x":270,"y":200,"wires":[["c46f60c0.e34528","5d352384.8676dc"]]},{"id":"e19de207.a73c08","type":"ui_button","z":"319e799e.4970d6","name":"","group":"80ddcf8c.c82f","order":4,"width":0,"height":0,"passthru":false,"label":"Nächstes Bier","color":"","bgcolor":"","icon":"fa-beer","payload":"1 Bier getrunken","payloadType":"str","topic":"","x":300,"y":600,"wires":[["b331444d.3cdc48","73e8edf8.51ea94","a94409c.bcbaa78","7fc325d3.143abc"]]},{"id":"ffaab002.b2753","type":"ui_button","z":"319e799e.4970d6","name":"","group":"80ddcf8c.c82f","order":0,"width":"0","height":"0","passthru":false,"label":"Reset","color":"","bgcolor":"","icon":"fa-refresh","payload":"resetted","payloadType":"str","topic":"","x":270,"y":720,"wires":[["58db668b.db84","de5e5dad.20587"]]},{"id":"1befb16e.00fbef","type":"ui_text","z":"319e799e.4970d6","group":"3048233c.060214","order":2,"width":0,"height":0,"name":"","label":"Kippen: ","format":"{{msg.payload}}","layout":"row-left","x":1460,"y":200,"wires":[]},{"id":"abae6cbd.aff8f","type":"ui_text","z":"319e799e.4970d6","group":"3048233c.060214","order":3,"width":0,"height":0,"name":"","label":"Letzte Kippe vor ","format":"{{msg.payload}}","layout":"row-left","x":1480,"y":120,"wires":[]},{"id":"c841f842.89d1e8","type":"ui_text","z":"319e799e.4970d6","group":"80ddcf8c.c82f","order":2,"width":0,"height":0,"name":"","label":"Bier: ","format":"{{msg.payload}}","layout":"row-left","x":1450,"y":720,"wires":[]},{"id":"bbd7ed6c.d6917","type":"ui_text","z":"319e799e.4970d6","group":"80ddcf8c.c82f","order":3,"width":0,"height":0,"name":"","label":"Letztes Bier vor ","format":"{{msg.payload}}","layout":"row-left","x":1480,"y":640,"wires":[]},{"id":"5826a816.5d49e","type":"ui_chart","z":"319e799e.4970d6","name":"","group":"3048233c.060214","order":1,"width":0,"height":0,"label":"Kippen per day in a week","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"keine Daten","dot":true,"ymin":"0","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1510,"y":160,"wires":[["d6c86312.ee3088"],[]]},{"id":"5748c0fc.7b4e38","type":"ui_chart","z":"319e799e.4970d6","name":"","group":"80ddcf8c.c82f","order":1,"width":0,"height":0,"label":"Bier per day in 12 weeks","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"keine Daten","dot":true,"ymin":"0","ymax":"","removeOlder":"12","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1510,"y":680,"wires":[["645ae80b.7d245"],[]]},{"id":"a94409c.bcbaa78","type":"ui_toast","z":"319e799e.4970d6","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"1 Bier getrunken","x":970,"y":600,"wires":[]},{"id":"3502b487.c0e50c","type":"ui_toast","z":"319e799e.4970d6","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"1 Kippe geraucht","x":950,"y":80,"wires":[]},{"id":"5d352384.8676dc","type":"ui_toast","z":"319e799e.4970d6","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Counter resetted","x":310,"y":240,"wires":[]},{"id":"de5e5dad.20587","type":"ui_toast","z":"319e799e.4970d6","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"","x":310,"y":760,"wires":[]},{"id":"8fd129fb.0d88c","type":"interval-length","z":"319e799e.4970d6","format":"human","bytopic":false,"minimum":"","maximum":"","window":"","timeout":false,"minimumunit":"msecs","maximumunit":"msecs","windowunit":"msecs","startup":false,"name":"","x":940,"y":120,"wires":[["ca315871.953cb","abae6cbd.aff8f"],[]]},{"id":"b331444d.3cdc48","type":"interval-length","z":"319e799e.4970d6","format":"human","bytopic":false,"minimum":"","maximum":"","window":"","timeout":false,"minimumunit":"msecs","maximumunit":"msecs","windowunit":"msecs","startup":false,"name":"","x":960,"y":640,"wires":[["bf8d820e.e2e2e8","bbd7ed6c.d6917"],[]]},{"id":"967a4dda.7ee84","type":"ui_audio","z":"319e799e.4970d6","name":"","group":"80ddcf8c.c82f","voice":"de-DE","always":true,"x":940,"y":560,"wires":[]},{"id":"7fc325d3.143abc","type":"change","z":"319e799e.4970d6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Du Saufnase!","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":760,"y":560,"wires":[["967a4dda.7ee84"]]},{"id":"faa64f0f.62e8d","type":"ui_audio","z":"319e799e.4970d6","name":"","group":"3048233c.060214","voice":"de-DE","always":true,"x":920,"y":40,"wires":[]},{"id":"9413adc0.89d3d8","type":"change","z":"319e799e.4970d6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Rauch' nicht so viel!","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":740,"y":40,"wires":[["faa64f0f.62e8d"]]},{"id":"dee83340.6e2898","type":"mqtt in","z":"66429749.2b2058","name":"Außentemp","topic":"/keller/temp/28ffca9721747","qos":"2","broker":"a52cffb7.10b39","x":190,"y":140,"wires":[["e3d43081.fdf47"]]},{"id":"aa021fad.6eb558","type":"persist in","z":"66429749.2b2058","name":"Außentemp","storageNode":"db74e31a.876e08","x":951.8333282470703,"y":142.83333587646484,"wires":[]},{"id":"abf4a665.829f7","type":"persist out","z":"66429749.2b2058","name":"Außentemp","storageNode":"db74e31a.876e08","x":471.8333282470703,"y":82.83333587646484,"wires":[["e3d43081.fdf47"]]},{"id":"26c6bd68.b6258a","type":"mqtt in","z":"66429749.2b2058","name":"Bodentemp","topic":"/keller/temp/28ff8c388a1635a","qos":"2","broker":"a52cffb7.10b39","x":191.8333282470703,"y":222.83333587646484,"wires":[["3291d777.8112d8"]]},{"id":"b1c3183.21a48e8","type":"persist in","z":"66429749.2b2058","name":"Bodentemp","storageNode":"20de874a.301c5","x":951.8333282470703,"y":222.83333587646484,"wires":[]},{"id":"314f4fd6.fc5a98","type":"persist out","z":"66429749.2b2058","name":"Bodentemp","storageNode":"20de874a.301c5","x":471.8333282470703,"y":282.83333587646484,"wires":[["3291d777.8112d8"]]},{"id":"e5b41d97.2fae2","type":"comment","z":"66429749.2b2058","name":"disabled, weil Website zu langsam","info":"","x":871.8333282470703,"y":62.833335876464844,"wires":[]},{"id":"e3d43081.fdf47","type":"ui_chart","z":"66429749.2b2058","name":"","group":"b764fe0c.67683","order":1,"width":"0","height":"0","label":"Außentemperatur: 6 Monate","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":661.8333282470703,"y":142.83333587646484,"wires":[["aa021fad.6eb558"],[]]},{"id":"3291d777.8112d8","type":"ui_chart","z":"66429749.2b2058","name":"","group":"f36484db.bc7d78","order":1,"width":"0","height":"0","label":"Bodentemperatur: 6 Monate","chartType":"line","legend":"false","xformat":"dd HH:mm","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":661.8333282470703,"y":222.83333587646484,"wires":[["b1c3183.21a48e8"],[]]},{"id":"d477bf55.45e3c","type":"mqtt in","z":"a6b6df9b.b30b08","name":"Außentemp","topic":"/keller/temp/28ffca9721747","qos":"2","broker":"ae62bedc.7fc4a","x":190,"y":200,"wires":[["f16b6bfd.be0f78","e90d24a9.9969f"]]},{"id":"f5afcc54.37929","type":"http request","z":"a6b6df9b.b30b08","name":"","method":"GET","url":"https://docs.google.com/forms/d/e/1FAIpQLSeTRGyz6_9BH8iho8E065MWHGQNCzRutZUUjgMDW4ByMO_7XQ/formResponse?entry.578420309={{payload}}","tls":"","x":685,"y":199,"wires":[[]]},{"id":"643c3002.abf238","type":"comment","z":"a6b6df9b.b30b08","name":"Google-Daten","info":"https://docs.google.com/forms/d/e/1FAIpQLSe3cOoDqNwfl7ZYAc6vCDZkUSii6ULnF4TSMHgwTC5moEoZXQ/viewform?usp=sf_link\n\nTemperatur\n540525783\n\nHOW TO\nhttps://www.open-electronics.org/how-send-data-from-arduino-to-google-docs-spreadsheet/","x":685,"y":168,"wires":[]},{"id":"57d0c584.aea64c","type":"comment","z":"a6b6df9b.b30b08","name":"enable um Daten zu senden","info":"","x":846.0832977294922,"y":44.99998474121094,"wires":[]},{"id":"f16b6bfd.be0f78","type":"delay","z":"a6b6df9b.b30b08","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":416.0832977294922,"y":204.99998474121094,"wires":[["f5afcc54.37929"]]},{"id":"db76c80e.4b6ff8","type":"comment","z":"a6b6df9b.b30b08","name":"Sendet jede Stunde die Außentemperatur an Google","info":"Problem:\nDie Werte werden jedoch als Text und\nnicht als Zahl behandelt.","x":338.79161834716797,"y":139.16664505004883,"wires":[]},{"id":"e90d24a9.9969f","type":"file","z":"a6b6df9b.b30b08","name":"","filename":"~/home/test/test1","appendNewline":true,"createDir":true,"overwriteFile":"false","x":437.9583168029785,"y":306.25000381469727,"wires":[[]]},{"id":"6dfa88f7.8a89b","type":"ui_button","z":"15813f2.6428941","name":"","group":"4e091fe.905906","order":1,"width":0,"height":0,"passthru":false,"label":"update to repo","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":200,"y":80,"wires":[["d5e44806.55db4"]]},{"id":"d5e44806.55db4","type":"exec","z":"15813f2.6428941","command":"cd ~/.node-red/ ","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":500,"y":80,"wires":[[],[],[]]},{"id":"6b23d177.094ec","type":"switch","z":"5b346471.faeff4","name":"6","property":"payload[6].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":80,"wires":[["2cca0224.1e6ec6"]]},{"id":"fa3f810b.0195f8","type":"switch","z":"5b346471.faeff4","name":"7","property":"payload[7].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":120,"wires":[["380666a9.fd5c32"]]},{"id":"c5096121.68dd08","type":"switch","z":"5b346471.faeff4","name":"8","property":"payload[8].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":160,"wires":[["5afc2b05.c2f7d4"]]},{"id":"5407dcbc.2b887c","type":"switch","z":"5b346471.faeff4","name":"9","property":"payload[9].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":200,"wires":[["7ebf49d4.242bd8"]]},{"id":"239e31f1.8bd946","type":"switch","z":"5b346471.faeff4","name":"10","property":"payload[10].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":240,"wires":[["a9bd3fa1.85df48"]]},{"id":"b120593a.0a8488","type":"switch","z":"5b346471.faeff4","name":"11","property":"payload[11].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":280,"wires":[["222b421.12a60be"]]},{"id":"96d406f6.346638","type":"switch","z":"5b346471.faeff4","name":"12","property":"payload[12].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":320,"wires":[["845b0452.0fc3a8"]]},{"id":"3fbc4e6f.0877f2","type":"switch","z":"5b346471.faeff4","name":"13","property":"payload[13].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":231.66665649414062,"y":360.41668701171875,"wires":[["688ebd5b.6c8c44"]]},{"id":"2cca0224.1e6ec6","type":"change","z":"5b346471.faeff4","name":"Datum 6","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[6].dt_txt","tot":"msg"},{"t":"move","p":"payload[6].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":80,"wires":[[]]},{"id":"380666a9.fd5c32","type":"change","z":"5b346471.faeff4","name":"Datum 7","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[7].dt_txt","tot":"msg"},{"t":"move","p":"payload[7].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":120,"wires":[[]]},{"id":"5afc2b05.c2f7d4","type":"change","z":"5b346471.faeff4","name":"Datum 8","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[8].dt_txt","tot":"msg"},{"t":"move","p":"payload[8].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":160,"wires":[[]]},{"id":"7ebf49d4.242bd8","type":"change","z":"5b346471.faeff4","name":"Datum 9","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[9].dt_txt","tot":"msg"},{"t":"move","p":"payload[9].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":200,"wires":[[]]},{"id":"a9bd3fa1.85df48","type":"change","z":"5b346471.faeff4","name":"Datum 10","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[10].dt_txt","tot":"msg"},{"t":"move","p":"payload[10].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":240,"wires":[[]]},{"id":"222b421.12a60be","type":"change","z":"5b346471.faeff4","name":"Datum 11","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[11].dt_txt","tot":"msg"},{"t":"move","p":"payload[11].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":280,"wires":[[]]},{"id":"845b0452.0fc3a8","type":"change","z":"5b346471.faeff4","name":"Datum 12","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[12].dt_txt","tot":"msg"},{"t":"move","p":"payload[12].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":320,"wires":[[]]},{"id":"688ebd5b.6c8c44","type":"change","z":"5b346471.faeff4","name":"Datum 13","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[13].dt_txt","tot":"msg"},{"t":"move","p":"payload[13].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":360,"wires":[[]]},{"id":"fb58cbb7.f3f2f8","type":"comment","z":"5b346471.faeff4","name":"Wetter-Object enthält \"Rain\"?","info":"","x":150,"y":40,"wires":[]},{"id":"4da9f1.38447e1","type":"comment","z":"5b346471.faeff4","name":"Wann ?","info":"","x":530,"y":40,"wires":[]},{"id":"2a62ec60.7adae4","type":"switch","z":"24e7c0e3.35b6c8","name":"Regnet's?","property":"payload.weather","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":870,"y":360,"wires":[["ae77e5dd.5cb398"]]},{"id":"35336982.003056","type":"chatbot-telegram-send","z":"24e7c0e3.35b6c8","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":1830,"y":20,"wires":[]},{"id":"37cc9fa8.4e4aa8","type":"chatbot-conversation","z":"24e7c0e3.35b6c8","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1640,"y":20,"wires":[["35336982.003056","c3f1164c.1c94a8"]]},{"id":"c364279b.5298f","type":"function","z":"24e7c0e3.35b6c8","name":"sendet Regenwarnung-24h","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : msg.payload} };\nreturn msg;","outputs":1,"noerr":0,"x":1380,"y":280,"wires":[["37cc9fa8.4e4aa8"]]},{"id":"403f99cb.1cf968","type":"inject","z":"24e7c0e3.35b6c8","name":"jeden Tag um 2:30 Uhr","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"30 02 * * *","once":false,"onceDelay":0.1,"x":140,"y":280,"wires":[["e08e20f.129a36","cc41d4a9.71b8d8"]]},{"id":"fabdcc49.072f7","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":1,"width":0,"height":0,"name":"","label":"Wetter","format":"{{msg.payload.detail}}","layout":"row-spread","x":1000,"y":520,"wires":[]},{"id":"e153a8a3.1a5278","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":4,"width":0,"height":0,"name":"","label":"Windgeschwindigkeit","format":"{{msg.payload}} km/h","layout":"row-spread","x":1040,"y":640,"wires":[]},{"id":"972f681.da11d18","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":3,"width":0,"height":0,"name":"","label":"Luftfeuchtigkeit","format":"{{msg.payload}} %","layout":"row-spread","x":1020,"y":600,"wires":[]},{"id":"d4917b8c.56ca98","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":2,"width":0,"height":0,"name":"","label":"Temperatur","format":"{{msg.payload}} °C","layout":"row-spread","x":1010,"y":560,"wires":[]},{"id":"8fe9641.daedc18","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":5,"width":0,"height":0,"name":"","label":"Luftdruck","format":"{{msg.payload}} hPa","layout":"row-spread","x":1000,"y":680,"wires":[]},{"id":"e08e20f.129a36","type":"openweathermap","z":"24e7c0e3.35b6c8","name":"Wetter morgen","wtype":"forecast","lon":"13.3815","lat":"54.0958","city":"","country":"","language":"de","x":400,"y":240,"wires":[["57129b76.e64624","46058d61.d5bd1c"]]},{"id":"a1d10d5d.1ee55","type":"chatbot-command","z":"24e7c0e3.35b6c8","name":"","command":"/wetter","x":340,"y":20,"wires":[["ce56d5f.6a40928"]]},{"id":"66243b6f.6192dc","type":"chatbot-telegram-receive","z":"24e7c0e3.35b6c8","bot":"45531229.75243c","botProduction":"45531229.75243c","x":90,"y":20,"wires":[["a1d10d5d.1ee55"]]},{"id":"68d0c969.4f277","type":"function","z":"24e7c0e3.35b6c8","name":"Sende jetziges Wetter","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Das Wetter in \"+ msg.location.city +\" ist: \" + msg.payload.detail + \". \" +\n    \"Es sind \" + msg.payload.tempc + \" °C. \" +\n    \"Die Luftfeuchtigkeit beträgt \" + msg.payload.humidity + \" %. \" +\n    \"Die Windgeschwindigkeit beträgt \"+ Number((msg.payload.windspeed*3.6).toFixed(2)) + \" km/h. \" +\n    \"Der Luftdruck beträgt \" + msg.payload.pressure + \" hPa.\" } };\nreturn msg;","outputs":1,"noerr":0,"x":1390,"y":20,"wires":[["37cc9fa8.4e4aa8"]]},{"id":"baf221ec.1112c8","type":"persist in","z":"24e7c0e3.35b6c8","name":"wetter-jetzt","storageNode":"2bd215d2.8303c2","x":310,"y":580,"wires":[]},{"id":"ce56d5f.6a40928","type":"persist out","z":"24e7c0e3.35b6c8","name":"wetter-jetzt","storageNode":"2bd215d2.8303c2","x":650,"y":20,"wires":[["35f19834.6590f"]]},{"id":"fb36fff7.2f3a08","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"3fe2933d.d31a6c","order":1,"width":0,"height":0,"label":"Windgeschwindigkeit [km/h]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Daten werden alle 20 Minuten geladen.","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#81bfe9","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1060,"y":1040,"wires":[[],[]]},{"id":"35f7824.64e93fe","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"3fe2933d.d31a6c","order":5,"width":0,"height":0,"label":"Luftdruck [hPa]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Daten werden alle 20 Minuten geladen.","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1020,"y":920,"wires":[[],[]]},{"id":"cf32c102.3d4ef8","type":"exec","z":"1dba8088.33893f","command":"vcgencmd measure_temp","addpay":false,"append":"","useSpawn":"","timer":"","name":"RPi Temp.","x":350,"y":80,"wires":[["1bcd4b07.4afbed"],[],[]]},{"id":"6b1fe0d7.513468","type":"inject","z":"1dba8088.33893f","name":"","topic":"","payload":"","payloadType":"date","repeat":"10","crontab":"","once":false,"x":130,"y":140,"wires":[["cf32c102.3d4ef8","692c0035.760f78","e95aba4c.dcce48","798c4ba4.6c7fbc"]]},{"id":"1bcd4b07.4afbed","type":"function","z":"1dba8088.33893f","name":"","func":"str = msg.payload\nmsg.payload = str.substring(5,9);\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":80,"wires":[["3c38dbf8.1ef63c","c075ef6b.e0d188","3aafdd94.e846aa"]]},{"id":"103587ac.b4cd08","type":"exec","z":"1dba8088.33893f","command":"sudo reboot -h now","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Reboot","x":980,"y":1260,"wires":[[],[],[]]},{"id":"70415901.47833","type":"exec","z":"1dba8088.33893f","command":"sudo shutdown -h now","addpay":false,"append":"","useSpawn":"","timer":"","name":"Shutdown","x":980,"y":1440,"wires":[[],[],[]]},{"id":"692c0035.760f78","type":"exec","z":"1dba8088.33893f","command":"top -d 0.5 -b -n2 | grep \"Cpu(s)\"|tail -n 1 | awk '{print $2 + $4}'","addpay":false,"append":"","useSpawn":"","timer":"","name":"CPU Load","x":350,"y":140,"wires":[["d7e9e288.7c4e48","c33ef830.edd99"],[],[]]},{"id":"ec25e432.7e36f","type":"exec","z":"1dba8088.33893f","command":"df -h","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Disk Usage","x":350,"y":280,"wires":[["35616078.d54db"],[],[]]},{"id":"35616078.d54db","type":"function","z":"1dba8088.33893f","name":"Speicher","func":"var re = /([0-9]{2})%/\nvar idx = msg.payload.search(re);\nvar str = msg.payload;\nif (idx >=0) {\n    str = msg.payload.substring(idx, idx + 2);\n}\nmsg.payload = str;\nreturn msg;","outputs":1,"noerr":0,"x":540,"y":280,"wires":[["13d4c229.c71b2e","ff387701.5447e8","a427a697.20344","52eb4fac.1a85e8","e7128d05.b3dc78"]]},{"id":"a63cec85.fcb2c8","type":"inject","z":"1dba8088.33893f","name":"","topic":"","payload":"","payloadType":"date","repeat":"60","crontab":"","once":false,"x":130,"y":280,"wires":[["ec25e432.7e36f"]]},{"id":"aeb0c647.75bd88","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Der Speicher der Himbeere ist zu \" + msg.payload +\" % belegt.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1480,"y":940,"wires":[["c2286ea5.f32958"]]},{"id":"4a43a1a7.05c","type":"change","z":"1dba8088.33893f","name":"set Payload to flow.Speicher","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speicher","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":600,"y":940,"wires":[["aeb0c647.75bd88"]]},{"id":"ff387701.5447e8","type":"change","z":"1dba8088.33893f","name":"","rules":[{"t":"set","p":"Speicher","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":770,"y":280,"wires":[[]]},{"id":"8768d880.b5ef1","type":"chatbot-telegram-receive","z":"1dba8088.33893f","bot":"45531229.75243c","botProduction":"45531229.75243c","x":110,"y":880,"wires":[["8bed6b0.6f68998","fe094381.3a289","abd1f9b1.f3a138","efffd36d.f6511","bd0da198.91fac8","d31850fd.a87b28","1bf6f113.3d7b17"]]},{"id":"8bed6b0.6f68998","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/speicher","x":340,"y":960,"wires":[["4a43a1a7.05c"]],"outputLabels":["/wz"]},{"id":"c2286ea5.f32958","type":"chatbot-conversation","z":"1dba8088.33893f","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":2020,"y":540,"wires":[["749ad27d.985164"]]},{"id":"14b1ffcb.bb96a8","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Der Speicher der Himbeere ist zu \" + msg.payload + \" % belegt. Die logs werden automatisch gelöscht. Bitte warte auf den automatischen Reboot.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1480,"y":560,"wires":[["c2286ea5.f32958"]]},{"id":"a427a697.20344","type":"switch","z":"1dba8088.33893f","name":"Switch:Disk > 50 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"50","vt":"str"}],"checkall":"false","repair":false,"outputs":1,"x":570,"y":560,"wires":[["730a2ad0.b531a4","5e6da3e1.52ef54","55b05fea.58b7c"]]},{"id":"730a2ad0.b531a4","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"10","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":860,"y":560,"wires":[["14b1ffcb.bb96a8"]]},{"id":"78419f79.8559d","type":"comment","z":"1dba8088.33893f","name":"Achtung, wenn Speicher über 50% belegt","info":"Dies soll dem Schutz der SD-Karte dienen.","x":618,"y":523,"wires":[]},{"id":"8acb2586.54d678","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Die Speicherbelegung der Himbeere ist beträgt jetzt \"+ msg.payload + \" %. Die logs wurden wohl gelöscht.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1480,"y":440,"wires":[["c2286ea5.f32958"]]},{"id":"52eb4fac.1a85e8","type":"switch","z":"1dba8088.33893f","name":"Switch:Disk < 11 %","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"11","vt":"str"}],"checkall":"false","repair":false,"outputs":1,"x":570,"y":440,"wires":[["8cb9bbf6.db4308"]]},{"id":"8cb9bbf6.db4308","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"day","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":850,"y":440,"wires":[["8acb2586.54d678"]]},{"id":"6e1ae234.7f0104","type":"comment","z":"1dba8088.33893f","name":"Info: Logs wurden gelöscht","info":"","x":566,"y":400,"wires":[]},{"id":"fe094381.3a289","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/status","x":330,"y":920,"wires":[["4a43a1a7.05c"]]},{"id":"abd1f9b1.f3a138","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/shutdown","x":350,"y":1400,"wires":[["c4c064e1.95acd8","6c0ca2af.726aac"]]},{"id":"efffd36d.f6511","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/reboot","x":340,"y":1220,"wires":[["7262a734.2a9e6","1d9e94af.ab3f9b"]]},{"id":"6c0ca2af.726aac","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Himbeere wird in 3 Sekunden heruntergefahren.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1480,"y":1400,"wires":[["c2286ea5.f32958"]]},{"id":"c4c064e1.95acd8","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":820,"y":1440,"wires":[["70415901.47833"]]},{"id":"7262a734.2a9e6","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":820,"y":1260,"wires":[["103587ac.b4cd08"]]},{"id":"1d9e94af.ab3f9b","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Himbeere wird in 3 Sekunden neugestartet.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1480,"y":1220,"wires":[["c2286ea5.f32958"]]},{"id":"668cf8bc.6a36f8","type":"exec","z":"1dba8088.33893f","command":"sudo apt-get clean","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":1010,"y":1060,"wires":[[],[],[]]},{"id":"bd0da198.91fac8","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/clean","x":330,"y":1020,"wires":[["668cf8bc.6a36f8","b25cfe7d.3f21a8"]]},{"id":"b25cfe7d.3f21a8","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Der Befehl sudo apt-get clean wurde ausgeführt.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1480,"y":1020,"wires":[["c2286ea5.f32958"]]},{"id":"d31850fd.a87b28","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/remove","x":340,"y":860,"wires":[["5e6da3e1.52ef54","ae501a5.cf3c2e8"]],"outputLabels":["/wz"]},{"id":"5e6da3e1.52ef54","type":"exec","z":"1dba8088.33893f","command":"sudo rm /var/log/daemon.log /var/log/daemon.log.1 /var/log/syslog /var/log/syslog.1","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"löscht Logs","x":990,"y":740,"wires":[["436b0527.76a734"],[],[]]},{"id":"ae501a5.cf3c2e8","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Die logs sollten gelöscht worden sein.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1480,"y":860,"wires":[["c2286ea5.f32958"]]},{"id":"1bf6f113.3d7b17","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/stop","x":330,"y":1120,"wires":[["84d0ef1a.93ef28","de6c8a5.41117f8"]]},{"id":"342b6776.35d768","type":"exec","z":"1dba8088.33893f","command":"node-red-stop","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":1000,"y":1160,"wires":[[],[],[]]},{"id":"84d0ef1a.93ef28","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":820,"y":1160,"wires":[["342b6776.35d768"]]},{"id":"de6c8a5.41117f8","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Node-Red wird in 3 Sekunden ausgeschaltet. Zuhause musst du's im Terminal wieder starten!\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1480,"y":1120,"wires":[["c2286ea5.f32958"]]},{"id":"453e8bb8.eda20c","type":"inject","z":"1dba8088.33893f","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":2170,"y":720,"wires":[["203f19ee.58fbae"]]},{"id":"5aa9b46e.79cbc4","type":"function","z":"1dba8088.33893f","name":"online","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"RPi-Control ist online. \" + msg.day+ \".\" + msg.month+\".\" + msg.year +\" \"+ msg.hours+\":\"  + msg.mins+\"Uhr\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":2150,"y":640,"wires":[["c2286ea5.f32958"]]},{"id":"749ad27d.985164","type":"chatbot-telegram-send","z":"1dba8088.33893f","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":2210,"y":540,"wires":[]},{"id":"a16497ec.4ef8a","type":"exec","z":"1dba8088.33893f","command":"sudo reboot","addpay":false,"append":"","useSpawn":"","timer":"","name":"Reboot","x":980,"y":600,"wires":[["436b0527.76a734"],[],[]]},{"id":"55b05fea.58b7c","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"10","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":840,"y":600,"wires":[["a16497ec.4ef8a"]]},{"id":"b0f6cb3d.514848","type":"inject","z":"1dba8088.33893f","name":"auto-reboot nach 2,5 Tagen","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"00 00 * * 3,0","once":false,"onceDelay":0.1,"x":170,"y":1340,"wires":[[]]},{"id":"5d53f0a5.3dfb98","type":"ui_button","z":"1dba8088.33893f","name":"","group":"4e091fe.905906","order":3,"width":0,"height":0,"passthru":false,"label":"Reboot","color":"","bgcolor":"","icon":"settings_backup_restore","payload":"Die Himbeere wird neugestartet.","payloadType":"str","topic":"","x":400,"y":1260,"wires":[["8c8387d4.275e4","7262a734.2a9e6"]]},{"id":"cc16b1bd.e395b","type":"ui_button","z":"1dba8088.33893f","name":"","group":"4e091fe.905906","order":4,"width":0,"height":0,"passthru":false,"label":"Shutdown","color":"","bgcolor":"red","icon":"power_settings_new","payload":"Die Himbeere wird heruntergefahren.","payloadType":"str","topic":"","x":400,"y":1440,"wires":[["1954d46c.ae3744","c4c064e1.95acd8"]]},{"id":"407947df.c9609","type":"ui_button","z":"1dba8088.33893f","name":"","group":"4e091fe.905906","order":2,"width":0,"height":0,"passthru":false,"label":"clean Logs","color":"","bgcolor":"green","icon":"delete_forever","payload":"Die Logs wurden gelöscht.","payloadType":"str","topic":"","x":350,"y":760,"wires":[["5e6da3e1.52ef54","6681ae24.94e96"]]},{"id":"13898993.20dafe","type":"ui_chart","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":5,"width":0,"height":0,"label":"Temperatur [°C]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"55","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":1320,"y":80,"wires":[[],[]]},{"id":"c33ef830.edd99","type":"ui_chart","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":4,"width":0,"height":0,"label":"Prozessorauslastung [%]","chartType":"line","legend":"false","xformat":"HH:mm","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1350,"y":120,"wires":[[],[]]},{"id":"e7128d05.b3dc78","type":"ui_chart","z":"1dba8088.33893f","name":"","group":"bba410ad.4a4d28","order":0,"width":0,"height":0,"label":"Speicherplatzfüllung [%]","chartType":"line","legend":"false","xformat":"dd HH:mm","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1030,"y":280,"wires":[[],[]]},{"id":"3c38dbf8.1ef63c","type":"ui_gauge","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":2,"width":"3","height":"3","gtype":"gage","title":"CPU Temperatur","label":"","format":"{{value}} °C","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1010,"y":80,"wires":[]},{"id":"d7e9e288.7c4e48","type":"ui_gauge","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":1,"width":"0","height":"0","gtype":"gage","title":"Prozessorauslastung","label":"CPU","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1020,"y":120,"wires":[]},{"id":"b1ef3606.00c338","type":"ui_gauge","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":3,"width":"3","height":"3","gtype":"gage","title":"Arbeitsspeicher","label":"RAM","format":"{{msg.payload}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1000,"y":200,"wires":[]},{"id":"13d4c229.c71b2e","type":"ui_gauge","z":"1dba8088.33893f","name":"","group":"bba410ad.4a4d28","order":2,"width":0,"height":0,"gtype":"gage","title":"Belegter Speicherplatz","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1340,"y":280,"wires":[]},{"id":"6681ae24.94e96","type":"ui_toast","z":"1dba8088.33893f","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Logs wurden geloescht","x":430,"y":800,"wires":[]},{"id":"8c8387d4.275e4","type":"ui_toast","z":"1dba8088.33893f","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Die Himbeere wird neugestartet.","x":510,"y":1300,"wires":[]},{"id":"1954d46c.ae3744","type":"ui_toast","z":"1dba8088.33893f","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Die Himbeere wird heruntergefahren.","x":490,"y":1480,"wires":[]},{"id":"b41acfb3.e860b","type":"smooth","z":"1dba8088.33893f","name":"","property":"payload","action":"mean","count":"1","round":"1","mult":"single","x":660,"y":200,"wires":[["3347d28b.c2d4e6"]]},{"id":"4cf3f654.e4822","type":"exec","z":"1dba8088.33893f","command":"sudo shutdown -h now","addpay":false,"append":"","useSpawn":"","timer":"","name":"Shutdown","x":1200,"y":40,"wires":[[],[],[]]},{"id":"c075ef6b.e0d188","type":"switch","z":"1dba8088.33893f","name":"T > 60 °C","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"65","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":800,"y":20,"wires":[["ca895a9a.b5f918","dd6e09cc.b3b86"]]},{"id":"ca895a9a.b5f918","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1020,"y":40,"wires":[["4cf3f654.e4822"]]},{"id":"dd6e09cc.b3b86","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Himbeere ist überhitzt (>65 °C) und schaltet sich gleich aus!\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1480,"y":20,"wires":[["c2286ea5.f32958"]]},{"id":"5c0b421f.1c3374","type":"ui_chart","z":"1dba8088.33893f","name":"","group":"bba410ad.4a4d28","order":0,"width":0,"height":0,"label":"Arbeitsspeicher","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Warte auf Daten","dot":false,"ymin":"0","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1320,"y":200,"wires":[[],[]]},{"id":"53d7c2fd.4a097c","type":"openweathermap","z":"24e7c0e3.35b6c8","name":"Wetter jetzt","wtype":"current","lon":"13.3815","lat":"54.0958","city":"","country":"","language":"de","x":270,"y":540,"wires":[["83cf31dd.9bf58","c56470b3.f782c","ea5e9944.d9a84","7dbafb94.9eb7bc","2d9888e2.a15b4","46fc8f42.731048","fabdcc49.072f7","baf221ec.1112c8","2a62ec60.7adae4","19744fa4.b1b58","f31485d7.2e36d8","a133dd6c.4a2c5","12cf226e.8ac5c6","ae947d88.fbc8"]]},{"id":"d918ec60.444958","type":"inject","z":"24e7c0e3.35b6c8","name":"","topic":"","payload":"","payloadType":"date","repeat":"1200","crontab":"","once":true,"onceDelay":"1","x":110,"y":540,"wires":[["53d7c2fd.4a097c"]]},{"id":"2d9888e2.a15b4","type":"debug","z":"24e7c0e3.35b6c8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":330,"y":500,"wires":[]},{"id":"83cf31dd.9bf58","type":"function","z":"24e7c0e3.35b6c8","name":"extract tempc","func":"msg.payload = Number(msg.payload.tempc);\nvar topic=msg.topic;\nmsg.topic=\"Temperatur [°C]\";\ndelete msg.location;\ndelete msg.data;\n\nreturn msg;","outputs":1,"noerr":0,"x":540,"y":800,"wires":[["b29e009f.ead098","d4917b8c.56ca98","f1a06241.01199","290643d1.236eec"]]},{"id":"c56470b3.f782c","type":"function","z":"24e7c0e3.35b6c8","name":"extract humidity","func":"msg.payload = Number(msg.payload.humidity);\nvar topic=msg.topic;\nmsg.topic=\"Luftfeuchtigkeit [%]\";\ndelete msg.location;\ndelete msg.data;\n\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":840,"wires":[["972f681.da11d18","3f3344b2.1433e4","7d03dd.816e3424"]]},{"id":"ea5e9944.d9a84","type":"function","z":"24e7c0e3.35b6c8","name":"extract windspeed [km/h]","func":"msg.payload = Number((msg.payload.windspeed*3.6).toFixed(2));\nvar topic=msg.topic;\nmsg.topic=\"Windgeschwindigkeit [km/h]\";\n\ndelete msg.location;\ndelete msg.data;\n\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":1040,"wires":[["77f7a82a.5d6a2"]]},{"id":"7dbafb94.9eb7bc","type":"function","z":"24e7c0e3.35b6c8","name":"extract pressure","func":"msg.payload = Number(msg.payload.pressure);\nvar topic = msg.topic;\nmsg.topic = \"Luftdruck [hPa]\";\ndelete msg.location;\ndelete msg.data;\n\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":920,"wires":[["35f7824.64e93fe","8fe9641.daedc18","adc64bb4.a2e29"]]},{"id":"5f8eb90a.065e8","type":"comment","z":"24e7c0e3.35b6c8","name":"Graphen aus OWM","info":"","x":990,"y":780,"wires":[]},{"id":"46fc8f42.731048","type":"function","z":"24e7c0e3.35b6c8","name":"extract clouds","func":"msg.payload = Number(msg.payload.clouds);\nvar topic=msg.topic;\nmsg.topic=\"Wolken [%]\";\ndelete msg.location;\ndelete msg.data;\n\nreturn msg;","outputs":1,"noerr":0,"x":540,"y":880,"wires":[["3f3344b2.1433e4"]]},{"id":"3f3344b2.1433e4","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"9510e43b.435e4","order":3,"width":0,"height":0,"label":"Wolken & Luftfeuchtigkeit [%]","chartType":"line","legend":"true","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Daten werden alle 20 Minuten geladen.","dot":false,"ymin":"0","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#c0c0c0","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1070,"y":860,"wires":[[],[]]},{"id":"b29e009f.ead098","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"9510e43b.435e4","order":2,"width":0,"height":0,"label":"Temperatur [°C]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Daten werden alle 20 Minuten geladen.","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff4040","#1f77b4","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1020,"y":820,"wires":[[],[]]},{"id":"35f19834.6590f","type":"change","z":"24e7c0e3.35b6c8","name":". to ,","rules":[{"t":"change","p":"payload.tempc","pt":"msg","from":".","fromt":"str","to":",","tot":"str"},{"t":"change","p":"payload.humidity","pt":"msg","from":".","fromt":"str","to":",","tot":"str"},{"t":"change","p":"payload.windspeed","pt":"msg","from":".","fromt":"str","to":",","tot":"str"},{"t":"change","p":"payload.pressure","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1210,"y":20,"wires":[["68d0c969.4f277"]]},{"id":"5842c09e.30f158","type":"comment","z":"24e7c0e3.35b6c8","name":"Dashboard Text","info":"","x":980,"y":480,"wires":[]},{"id":"e104473.a78b738","type":"comment","z":"24e7c0e3.35b6c8","name":"Regenwarnung","info":"","x":360,"y":160,"wires":[]},{"id":"57129b76.e64624","type":"debug","z":"24e7c0e3.35b6c8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":430,"y":200,"wires":[]},{"id":"8023ea20.ee5e3","type":"chatbot-telegram-send","z":"66429749.2b2058","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":970,"y":440,"wires":[]},{"id":"cafc05e3.c9ce9","type":"chatbot-conversation","z":"66429749.2b2058","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":960,"y":400,"wires":[["8023ea20.ee5e3"]]},{"id":"1b5b6da7.2191e2","type":"function","z":"66429749.2b2058","name":"convert Text input","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : msg.payload} };\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":400,"wires":[["cafc05e3.c9ce9"]]},{"id":"4cb396f6.be1da8","type":"change","z":"66429749.2b2058","name":"notification","rules":[{"t":"set","p":"payload","pt":"msg","to":"Nachricht gesendet","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":510,"y":480,"wires":[["3e63922e.d55f86"]]},{"id":"5e53d92.f850128","type":"ui_text_input","z":"66429749.2b2058","name":"UI-Text input","label":"Jonas mit Text nerven:","group":"b43c6e3e.aa4638","order":3,"width":0,"height":0,"passthru":true,"mode":"text","delay":"0","topic":"","x":110,"y":400,"wires":[["1b5b6da7.2191e2","4cb396f6.be1da8","f0573e55.acb04"]]},{"id":"3e63922e.d55f86","type":"ui_toast","z":"66429749.2b2058","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Nachricht gesendet","x":690,"y":480,"wires":[]},{"id":"f0573e55.acb04","type":"ui_audio","z":"66429749.2b2058","name":"","group":"b43c6e3e.aa4638","voice":"de-DE","always":"","x":500,"y":440,"wires":[]},{"id":"7c952c6a.8ee35c","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/wiki","x":175,"y":1060,"wires":[["b884ad8e.07278"]]},{"id":"b884ad8e.07278","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Zufälliger Wikiartikel: https://de.wikipedia.org/wiki/Spezial:Zuf%C3%A4llige_Seite\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1205,"y":1060,"wires":[["c85f4e11.5dc6e"]]},{"id":"543b74f5.6870ac","type":"debug","z":"319e799e.4970d6","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1560,"y":40,"wires":[]},{"id":"203f19ee.58fbae","type":"function","z":"1dba8088.33893f","name":"timeConvert","func":"if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2170,"y":680,"wires":[["5aa9b46e.79cbc4"]]},{"id":"c148e9c0.7847f","type":"function","z":"42fde7d.75a2f18","name":"timeConvert","func":"if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":2010,"y":800,"wires":[["187a26a.43694d9"]]},{"id":"87e5ae0d.90e008","type":"function","z":"9cd507a9.4544c","name":"timeConvert","func":"if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1695,"y":540,"wires":[["94f5e86b.2845b8"]]},{"id":"d300369.42f4e48","type":"inject","z":"c01476eb.de81b","name":"Location (Greifswald)","topic":"Home","payload":"54.09311,13.38786","payloadType":"str","repeat":"180","crontab":"","once":true,"onceDelay":"","x":200,"y":140,"wires":[[]]},{"id":"d70df8b.35a7488","type":"function","z":"c01476eb.de81b","name":"make Weather object","func":"//parse forecast.io message\n\nvar weather = JSON.parse(msg.payload); \n\nvar data = weather.minutely.data;\nvar timeToRain = -1;\n\nvar i=1;\nfor (var i=0 ; i< data.length;i++) {\n\tif (data[i].precipProbability > 0.25) { weather.nextRain = parseInt(data[i].time); break; }\n}\n\n//reduce size of object\ndelete weather.minutely;\ndelete weather.hourly;\ndelete weather.daily;\ndelete weather.flags;\n\nif (weather.nextRain != null) {\n\tvar t =( weather.nextRain - parseInt(weather.currently.time) );\n\nif (t<0){t=0}\nelse{t = t/60;}\ntimeToRain = t;\n}\nvar msg2 = { payload:timeToRain};\nreturn msg2;","outputs":"1","x":596.9999389648438,"y":198,"wires":[["650884fe.cde0a4","aa1ad332.7e64f"]]},{"id":"aa1ad332.7e64f","type":"debug","z":"c01476eb.de81b","name":"","complete":true,"x":856.8333129882812,"y":132.5,"wires":[]},{"id":"650884fe.cde0a4","type":"mqtt out","z":"c01476eb.de81b","name":"Minutes to Rain","topic":"weather/forecast/minsToRain","broker":"becbd35b.d15588","x":845,"y":193,"wires":[]},{"id":"5641ce3f.67fcd8","type":"mqtt in","z":"c01476eb.de81b","name":"Minutes To Rain","topic":"weather/forecast/minsToRain","broker":"becbd35b.d15588","x":232,"y":297,"wires":[["72b9c520.2474c4"]]},{"id":"72b9c520.2474c4","type":"function","z":"c01476eb.de81b","name":"Is weather unsafe?","func":"// console.log(msg.topic, msg.payload, msg.qos, msg.retain);\n// context = {};\nvar unsafe=0;\nvar minsToRain = parseInt(msg.payload);\nif ((minsToRain >=0) && (minsToRain < 46) )\n{\n   unsafe=1;\n}\nmsg.payload=unsafe;\nreturn msg;","outputs":"1","x":479,"y":297,"wires":[["3cad2af6.f65eae"]]},{"id":"3cad2af6.f65eae","type":"mqtt out","z":"c01476eb.de81b","name":"Weather unsafe","topic":"weather/unsafe","broker":"becbd35b.d15588","x":737,"y":298,"wires":[]},{"id":"3640d654.c55a9a","type":"function","z":"c01476eb.de81b","name":"Rain Warning Colour","func":"// The received message is stored in 'msg'\n// It will have at least a 'payload' property:\n//   console.log(msg.payload);\n// The 'context' object is available to store state\n// between invocations of the function\n//   context = {};\n\n//if weather status switched off end flow now\nif(context.global.weatherStatus == \"0\")\n{\n   return null;\n}\nelse\n{\n\tvar red =0;\n\tvar blue =0;\n\tvar green =0;\n\t\n\tvar minsToRain = msg.payload;\n\t\n\tif (minsToRain == -1 || minsToRain > 45)\n\t{\n\t\tgreen=255;\n\t}\n\telse if (minsToRain == 0)\n\t{\n\t   red =255;\n\t}\n\telse\n\t{\n\t\t\tblue = (255 - (255 - (minsToRain*5)));\n\t        red = (255 - (minsToRain*5));\n\t        green =0;\n\t}\n\t\n\tmsg.payload = red + \",\" + green + \",\" + blue;\n}\nreturn msg;","outputs":1,"x":511.25,"y":452.75,"wires":[["9026891d.c0fae8","2a5735a9.93193a"]]},{"id":"9026891d.c0fae8","type":"debug","z":"c01476eb.de81b","name":"rgb out","active":true,"complete":"false","x":791.25,"y":500.75,"wires":[]},{"id":"2dfa0db3.62e7fa","type":"mqtt in","z":"c01476eb.de81b","name":"Minutes To Rain","topic":"weather/forecast/minsToRain","broker":"becbd35b.d15588","x":235.25,"y":454.75,"wires":[["3640d654.c55a9a"]]},{"id":"2a5735a9.93193a","type":"mqtt out","z":"c01476eb.de81b","name":"Ambient Light Lounge 1","topic":"home/ambient/lounge/1","broker":"becbd35b.d15588","x":844,"y":410,"wires":[]},{"id":"5940e6ec.ce6a","type":"debug","z":"c01476eb.de81b","name":"","active":true,"complete":"false","x":567,"y":137,"wires":[]},{"id":"188a4680.42b25a","type":"comment","z":"c01476eb.de81b","name":"Rain Forecaster","info":"","x":210,"y":93,"wires":[]},{"id":"7b092a0c.b07514","type":"inject","z":"7b723c75.b204ac","name":"","topic":"","payload":"","repeat":"","crontab":"*/30 * * * *","once":false,"x":230,"y":100,"wires":[["194db8c9.ba1157"]]},{"id":"194db8c9.ba1157","type":"http request","z":"7b723c75.b204ac","name":"","method":"GET","url":"http://www.swpc.noaa.gov/wingkp/wingkp_list.txt","x":354.99999141693115,"y":156,"wires":[["cbf3eae0.2be66"]]},{"id":"893425ef.7ab93","type":"debug","z":"7b723c75.b204ac","name":"","active":true,"complete":"false","x":741.0000371932983,"y":100.99999237060547,"wires":[]},{"id":"cbf3eae0.2be66","type":"function","z":"7b723c75.b204ac","name":"parse NOAA kp log","func":"var lat = 54.1;\n\n// first output is the current kp value\n// second is whether it is likely to be visible from your latitude\n// ( on a clear night etc etc )\n\nvar lines = msg.payload.split(\"\\n\");\nvar last = lines[lines.length - 2];\nlast = last.replace(/\\s{2,}/g, ' ');\nvar bits = last.split(\" \");\nvar status = Number(bits[4]);\nvar kp = Number(bits[bits.length - 1]);\n\nvar visible = false;\nvar edge = 3;\nif (lat >= 60) edge = 3;\nelse edge = (60-lat)/2 + 3;\n\nif (kp > edge) visible = true;\nif (lat < 45) visible = false;\n\nmsg = { payload:kp };\nmsg2 = { payload:visible };\n\nif (status <= 1) return [msg,msg2];\nreturn null;","outputs":"2","noerr":0,"x":515.0000104904175,"y":99.99999237060547,"wires":[["893425ef.7ab93"],["dd3e67a6.b9b83"]]},{"id":"36867009.c7ab88","type":"comment","z":"7b723c75.b204ac","name":"Idea shamelessly copied from http://blog.riyas.org/2014/01/raspberry-pi-as-northern-light-forcast.html?m=1","info":"","x":501.9999876022339,"y":57.99997806549072,"wires":[]},{"id":"dd3e67a6.b9b83","type":"debug","z":"7b723c75.b204ac","name":"","active":true,"complete":"false","x":743.0000371932983,"y":144.99998569488525,"wires":[]},{"id":"825c355d.cad64","type":"inject","z":"43c9dbb4.510e5c","name":"Get forecast","topic":"","payload":"developers-API-key/forecast/q/pws:IFINNING3.xml","payloadType":"string","repeat":"","crontab":"00 12 * * *","once":false,"x":180,"y":100,"wires":[[]]},{"id":"71d9d16d.3ba05","type":"comment","z":"43c9dbb4.510e5c","name":"Frost Warnings","info":"","x":158,"y":57,"wires":[]},{"id":"7f7b1496.aeb7a4","type":"mqtt out","z":"43c9dbb4.510e5c","name":"Weather Forecast","topic":"weather/forecast","broker":"702df46.141300c","x":690,"y":100,"wires":[]},{"id":"57534155.143098","type":"mqtt in","z":"43c9dbb4.510e5c","name":"Weather Forecast","topic":"weather/forecast","broker":"702df46.141300c","x":174,"y":145,"wires":[[]]},{"id":"dbc0d5fd.16c548","type":"debug","z":"43c9dbb4.510e5c","name":"","active":true,"complete":false,"x":844,"y":126,"wires":[]},{"id":"d70e8af2.e84fe8","type":"function","z":"43c9dbb4.510e5c","name":"Temp Calcs","func":"var weatherDATA = msg.payload.response.forecast[0].simpleforecast[0].forecastdays[0].forecastday[0];\nvar lowC = weatherDATA.low[0].celsius[0];\nvar wind = weatherDATA.avewind[0].mph;\nvar cloud = weatherDATA.icon[0];\nvar kvalue = 0;\n\n//This section calculates the kvalue\nif (wind>10)  {\n\tif ((cloud == \"clear\")||(cloud == \"partlycloudy\"))  {\n\tkvalue = 3;\n\t}\n\t\telse {\n\t\tkvalue = 2;\n\t\t}\n}\n\nelse if ((wind>5) && (wind<=10)) {\n\tif ((cloud == \"clear\")||(cloud == \"partlycloudy\"))  {\n\tkvalue = 4;\n\t}\n\t\telse {\n\t\tkvalue = 2;\n\t\t}\n}\n\nelse  {\n\tif ((cloud == \"clear\")||(cloud == \"partlycloudy\"))  {\n\tkvalue = 5;\n\t}\n\t\telse {\n\t\tkvalue = 3;\n\t\t}\n}\n\n//Deduct the kvalue from lowtemp to get grasstemp\nvar grasstemp = ((lowC) - (kvalue));\n\n//Check if Grass Temp or Air Temp is zero C or below\nif ((lowC <= 0)||(grasstemp <= 0)) {\n//If so, then send out an alert\nmsg.payload= ((\"Air temp forecast \") + (lowC) + (\"C, Grass temp forecast \" ) + (grasstemp) + (\"C, predicted tonight.\")) ;\nreturn [msg];\n}","outputs":1,"x":644,"y":145,"wires":[["dbc0d5fd.16c548"]]},{"id":"e95aba4c.dcce48","type":"memory","z":"1dba8088.33893f","name":"","relativeValues":true,"availableMemory":true,"activeMemory":true,"buffcacheMemory":false,"freeAvailableMemory":false,"totalMemory":false,"usedMemory":false,"freeMemory":false,"swapTotalMemory":false,"swapUsedMemory":false,"swapFreeMemory":false,"x":520,"y":200,"wires":[["b41acfb3.e860b"]]},{"id":"3347d28b.c2d4e6","type":"switch","z":"1dba8088.33893f","name":"","property":"payload","propertyType":"msg","rules":[{"t":"lt","v":"100","vt":"str"},{"t":"eq","v":"100","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":830,"y":200,"wires":[["b1ef3606.00c338","5c0b421f.1c3374"],[]]},{"id":"798c4ba4.6c7fbc","type":"exec","z":"1dba8088.33893f","command":"free | grep Mem | awk '{print (100*($4+$6+$7)/$2)}'","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Free Memory","x":350,"y":200,"wires":[[],[],[]]},{"id":"77f7a82a.5d6a2","type":"smooth","z":"24e7c0e3.35b6c8","name":"","property":"payload","action":"mean","count":"1","round":"1","mult":"single","x":760,"y":1040,"wires":[["fb36fff7.2f3a08","e153a8a3.1a5278","b3ea019.a97cf"]]},{"id":"19744fa4.b1b58","type":"function","z":"24e7c0e3.35b6c8","name":"extract rain","func":"msg.payload = Number(msg.data.rain[\"3h\"||\"1h\"]);\nvar topic=msg.topic;\nmsg.topic=\"Niederschlag [mm]\";\ndelete msg.location;\ndelete msg.data;\n\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":960,"wires":[["e50b275.26e7d58","8194a598.e7da68"]]},{"id":"e50b275.26e7d58","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"9510e43b.435e4","order":4,"width":0,"height":0,"label":"Niederschlag [mm]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Daten werden alle 20 Minuten geladen.","dot":false,"ymin":"0","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1030,"y":960,"wires":[[],[]]},{"id":"f31485d7.2e36d8","type":"function","z":"24e7c0e3.35b6c8","name":"extract sunrise","func":"msg.payload = Number(msg.payload.sunrise)*1000;\n\nvar topic=msg.topic;\nmsg.topic=\"Sonnenaufgang\";\ndelete msg.location;\ndelete msg.data;\n\nreturn msg;","outputs":1,"noerr":0,"x":540,"y":1200,"wires":[["2fa87cc5.9e0284"]]},{"id":"a133dd6c.4a2c5","type":"function","z":"24e7c0e3.35b6c8","name":"extract sunset","func":"msg.payload = Number(msg.payload.sunset)*1000;\nvar topic=msg.topic;\nmsg.topic=\"Sonnenuntergang\";\ndelete msg.location;\ndelete msg.data;\n\nreturn msg;","outputs":1,"noerr":0,"x":540,"y":1280,"wires":[["e77b55a7.6ae9b"]]},{"id":"2fa87cc5.9e0284","type":"moment","z":"24e7c0e3.35b6c8","name":"","topic":"","input":"payload","inputType":"msg","inTz":"Europe/Berlin","adjAmount":0,"adjType":"days","adjDir":"add","format":"object","locale":"C","output":"payload","outputType":"msg","outTz":"Europe/Berlin","x":780,"y":1180,"wires":[["2dd69d20.e8813a"]]},{"id":"2dd69d20.e8813a","type":"function","z":"24e7c0e3.35b6c8","name":"extract hh+mm/60","func":"msg.payload = Number((msg.payload.hours+(msg.payload.minutes/60)).toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":1180,"wires":[["230c6a0a.285e8e","1f89ba0e.396cee"]]},{"id":"230c6a0a.285e8e","type":"debug","z":"24e7c0e3.35b6c8","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":1230,"y":1240,"wires":[]},{"id":"dac3e1d.b73172","type":"http request","z":"24e7c0e3.35b6c8","name":"","method":"GET","url":"https://docs.google.com/forms/d/e/1FAIpQLScCx3Ue2GpB0LAwEvQKvQlRRyIKZWdUcCcSWopBAdhrPxv_Eg//formResponse?entry.1823024709={{payload}}","tls":"a4011a1f.414af","x":1690,"y":800,"wires":[[]]},{"id":"30bfd091.bd21b8","type":"comment","z":"24e7c0e3.35b6c8","name":"Google-Daten","info":"https://docs.google.com/forms/d/e/1FAIpQLSe3cOoDqNwfl7ZYAc6vCDZkUSii6ULnF4TSMHgwTC5moEoZXQ/viewform?usp=sf_link\n\nTemperatur\n540525783\n\nHOW TO\nhttps://www.open-electronics.org/how-send-data-from-arduino-to-google-docs-spreadsheet/","x":1690,"y":769,"wires":[]},{"id":"f1a06241.01199","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1421.0832977294922,"y":805.9999847412109,"wires":[["dac3e1d.b73172"]]},{"id":"d05b6dd2.300858","type":"http request","z":"24e7c0e3.35b6c8","name":"","method":"GET","url":"https://docs.google.com/forms/d/e/1FAIpQLScCx3Ue2GpB0LAwEvQKvQlRRyIKZWdUcCcSWopBAdhrPxv_Eg/formResponse?entry.217278396={{payload}}","tls":"a4011a1f.414af","x":1695,"y":841,"wires":[[]]},{"id":"7d03dd.816e3424","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1426.0832977294922,"y":846.9999847412109,"wires":[["d05b6dd2.300858"]]},{"id":"3556d068.c11da","type":"http request","z":"24e7c0e3.35b6c8","name":"","method":"GET","url":"https://docs.google.com/forms/d/e/1FAIpQLScCx3Ue2GpB0LAwEvQKvQlRRyIKZWdUcCcSWopBAdhrPxv_Eg/formResponse?entry.1772854754={{payload}}","tls":"a4011a1f.414af","x":1695,"y":881,"wires":[[]]},{"id":"adc64bb4.a2e29","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1426.0832977294922,"y":886.9999847412109,"wires":[["3556d068.c11da"]]},{"id":"64a3a8bf.611428","type":"http request","z":"24e7c0e3.35b6c8","name":"","method":"GET","url":"https://docs.google.com/forms/d/e/1FAIpQLScCx3Ue2GpB0LAwEvQKvQlRRyIKZWdUcCcSWopBAdhrPxv_Eg/formResponse?entry.376198577={{payload}}","tls":"a4011a1f.414af","x":1695,"y":921,"wires":[[]]},{"id":"b3ea019.a97cf","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1426.0832977294922,"y":926.9999847412109,"wires":[["64a3a8bf.611428"]]},{"id":"8657dc93.0ee3","type":"http request","z":"24e7c0e3.35b6c8","name":"","method":"GET","url":"https://docs.google.com/forms/d/e/1FAIpQLScCx3Ue2GpB0LAwEvQKvQlRRyIKZWdUcCcSWopBAdhrPxv_Eg/formResponse?entry.647112640}={{payload}}","tls":"a4011a1f.414af","x":1695,"y":961,"wires":[[]]},{"id":"8194a598.e7da68","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1426.0832977294922,"y":966.9999847412109,"wires":[["8657dc93.0ee3"]]},{"id":"2b824eba.bc88e2","type":"exec","z":"1dba8088.33893f","command":"sudo apt-get update","addpay":false,"append":"","useSpawn":"true","timer":"","oldrc":false,"name":"","x":1020,"y":660,"wires":[["436b0527.76a734"],[],[]]},{"id":"a8f2c88c.c4aed","type":"inject","z":"1dba8088.33893f","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":600,"y":660,"wires":[["2b824eba.bc88e2"]]},{"id":"f694a0bd.841e4","type":"worldmap","z":"a6b6df9b.b30b08","name":"","lat":"54.09594","lon":"13.38227","zoom":"10","layer":"OSM","cluster":"0","maxage":"","usermenu":"show","layers":"show","panit":"false","panlock":"false","zoomlock":"false","path":"/worldmap","x":580,"y":480,"wires":[]},{"id":"7a7b3f33.6aa618","type":"inject","z":"a6b6df9b.b30b08","name":"","topic":"test","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":180,"y":520,"wires":[["8b0f089e.06db88"]]},{"id":"8b0f089e.06db88","type":"change","z":"a6b6df9b.b30b08","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"name:\"käse\", lat:54.09705, lon:13.47078, icon:bathtub","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":480,"wires":[["f694a0bd.841e4","3ecc2d07.36c3d2"]]},{"id":"3ecc2d07.36c3d2","type":"debug","z":"a6b6df9b.b30b08","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":540,"y":580,"wires":[]},{"id":"12cf226e.8ac5c6","type":"function","z":"24e7c0e3.35b6c8","name":"extract snow","func":"msg.payload = Number(msg.data.snow[\"3h\"||\"1h\"]);\nvar topic=msg.topic;\nmsg.topic=\"Schnee [mm]\";\ndelete msg.location;\ndelete msg.data;\n\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":1000,"wires":[["e50b275.26e7d58"]]},{"id":"c3f1164c.1c94a8","type":"debug","z":"24e7c0e3.35b6c8","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":1790,"y":140,"wires":[]},{"id":"1f89ba0e.396cee","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"6","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1220,"y":1180,"wires":[["addd27b4.8f30c","8698a290.240c2"]]},{"id":"e77b55a7.6ae9b","type":"moment","z":"24e7c0e3.35b6c8","name":"","topic":"","input":"payload","inputType":"msg","inTz":"Europe/Berlin","adjAmount":0,"adjType":"days","adjDir":"add","format":"object","locale":"C","output":"payload","outputType":"msg","outTz":"Europe/Berlin","x":780,"y":1300,"wires":[["dbaa5992.fec5"]]},{"id":"dbaa5992.fec5","type":"function","z":"24e7c0e3.35b6c8","name":"extract hh+mm/60","func":"msg.payload = Number((msg.payload.hours+(msg.payload.minutes/60)).toFixed(2));\n\nreturn msg;","outputs":1,"noerr":0,"x":1010,"y":1300,"wires":[["c77e9075.bf4378","230c6a0a.285e8e"]]},{"id":"c77e9075.bf4378","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"6","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1220,"y":1300,"wires":[["d48d350c.ec1fc8","d0df1ac9.ef1e58"]]},{"id":"2eb9e5ec.489ff2","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":440,"y":1320,"wires":[["22964500.340c54"]]},{"id":"2a076dbb.2e8702","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":440,"y":1560,"wires":[["d721f363.87b228"]]},{"id":"118f4eb.0aa8cb1","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":380,"y":980,"wires":[["94eb580e.3de608"]]},{"id":"3a1a498a.205e9e","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":380,"y":1040,"wires":[["654e995b.c15558"]]},{"id":"ecdbcec4.3d92","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":380,"y":760,"wires":[["d4192348.b37708"]]},{"id":"751a6fed.6ae128","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":380,"y":680,"wires":[["f2f5dd65.b2a26"]]},{"id":"e8473df8.74ead8","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":380,"y":480,"wires":[["80e1dd5b.d86e78"]]},{"id":"70c1c9c3.173708","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":380,"y":420,"wires":[["d2fc6a33.cd4ef8"]]},{"id":"8aecb997.7bf3b","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":380,"y":120,"wires":[["2d1a4ce2.179454"]]},{"id":"3bf51427.10ea1c","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":380,"y":200,"wires":[["8e263dbd.a549b8"]]},{"id":"3aafdd94.e846aa","type":"smooth","z":"1dba8088.33893f","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":1160,"y":80,"wires":[["13898993.20dafe"]]},{"id":"436b0527.76a734","type":"ui_text","z":"1dba8088.33893f","group":"4e091fe.905906","order":0,"width":"6","height":"3","name":"","label":"Console output:","format":"{{msg.payload}}","layout":"col-center","x":1600,"y":660,"wires":[]},{"id":"addd27b4.8f30c","type":"persist in","z":"24e7c0e3.35b6c8","name":"sunrise_persist","storageNode":"b4d4bd8a.189c78","x":1720,"y":1180,"wires":[]},{"id":"d48d350c.ec1fc8","type":"persist in","z":"24e7c0e3.35b6c8","name":"sunset_persist","storageNode":"18d37f5f.03b6f9","x":1720,"y":1300,"wires":[]},{"id":"fcdc489f.3e1f38","type":"persist out","z":"24e7c0e3.35b6c8","name":"sunrise_persist","storageNode":"b4d4bd8a.189c78","x":1500,"y":1120,"wires":[["8698a290.240c2"]]},{"id":"9cccacfb.a0e898","type":"persist out","z":"24e7c0e3.35b6c8","name":"sunset_persist","storageNode":"18d37f5f.03b6f9","x":1500,"y":1360,"wires":[["d0df1ac9.ef1e58"]]},{"id":"bed3b416.9afc8","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":6,"width":0,"height":0,"name":"","label":"letzte Werte um:","format":"{{msg.time}}","layout":"row-spread","x":1030,"y":720,"wires":[]},{"id":"ae947d88.fbc8","type":"moment","z":"24e7c0e3.35b6c8","name":"","topic":"","input":"time","inputType":"msg","inTz":"Europe/Berlin","adjAmount":0,"adjType":"days","adjDir":"add","format":"timeAgo","locale":"C","output":"time","outputType":"msg","outTz":"Europe/Berlin","x":600,"y":620,"wires":[["bed3b416.9afc8"]]},{"id":"d0df1ac9.ef1e58","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"ca2863e7.4b7a48","order":2,"width":0,"height":0,"label":"Sonnenuntergang","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"Daten werden alle 20 Minuten geladen.","dot":false,"ymin":"","ymax":"","removeOlder":"48","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1520,"y":1320,"wires":[[],[]]},{"id":"8698a290.240c2","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"ca2863e7.4b7a48","order":1,"width":0,"height":0,"label":"Sonnenaufgang","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"Daten werden alle 20 Minuten geladen.","dot":false,"ymin":"","ymax":"","removeOlder":"48","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1500,"y":1160,"wires":[[],[]]},{"id":"5d27e35b.c9207c","type":"mqtt out","z":"594176aa.61db68","name":"","topic":"garten/pump","qos":"","retain":"","broker":"e9af44e4.929f3","x":4910,"y":500,"wires":[]},{"id":"81e850d6.82b94","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"garten/soilmoist","qos":"2","broker":"fa6f670a.8af6c8","x":140,"y":2220,"wires":[["c5a65346.a200f","d06390b.1f1667"]]},{"id":"85c0dfde.67c8d8","type":"range","z":"42fde7d.75a2f18","minin":"3700","maxin":"2130","minout":"0","maxout":"100","action":"scale","round":true,"property":"payload","name":"map 0 to 100 %","x":540,"y":2280,"wires":[["244b5010.927d38","d409ecf6.39bea","19b573a0.3d3b64","7a48af92.0ac78"]]},{"id":"8f4f2734.38fa38","type":"ui_gauge","z":"42fde7d.75a2f18","name":"gauge","group":"b30c1ef9.c856","order":8,"width":0,"height":0,"gtype":"gage","title":"Bodenfeuchte","label":"%","format":"{{value}}","min":0,"max":"100","colors":["#c10000","#467e01","#00ae00"],"seg1":"25","seg2":"75","x":1130,"y":2200,"wires":[]},{"id":"fcdfe08a.96596","type":"ui_text","z":"42fde7d.75a2f18","group":"b30c1ef9.c856","order":9,"width":"3","height":"1","name":"","label":"mean","format":"{{msg.payload}} %","layout":"row-left","x":1130,"y":2280,"wires":[]},{"id":"d409ecf6.39bea","type":"smooth","z":"42fde7d.75a2f18","name":"mean","property":"payload","action":"mean","count":"5","round":"0","mult":"single","x":730,"y":2280,"wires":[["fcdfe08a.96596"]]},{"id":"19b573a0.3d3b64","type":"smooth","z":"42fde7d.75a2f18","name":"SD","property":"payload","action":"sd","count":"5","round":"2","mult":"single","x":730,"y":2320,"wires":[["57e63938.797048"]]},{"id":"c233d116.711ec8","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"b30c1ef9.c856","order":7,"width":0,"height":0,"label":"Bodenfeuchtigkeit","chartType":"line","legend":"false","xformat":"HH:mm","interpolate":"linear","nodata":"display this text before valid data arrives","dot":false,"ymin":"0","ymax":"110","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"604800","cutout":"20","useOneColor":false,"colors":["#1f77b4","#000000","#000000","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1170,"y":2160,"wires":[[],[]]},{"id":"57e63938.797048","type":"ui_text","z":"42fde7d.75a2f18","group":"b30c1ef9.c856","order":10,"width":"3","height":"1","name":"","label":"SD","format":"{{msg.payload}} %","layout":"row-left","x":1130,"y":2320,"wires":[]},{"id":"b2baa439.e5d608","type":"mqtt in","z":"42fde7d.75a2f18","name":"Wassertank:Schalter","topic":"garten/water","qos":"2","broker":"fa6f670a.8af6c8","x":160,"y":2720,"wires":[["478dbebb.f7d7","4a1482f0.224ef4","978be755.30168","53e72b35.d1fa8c"]]},{"id":"9c1d92da.e12c","type":"switch","z":"42fde7d.75a2f18","name":"schalter auf >0 V","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"3","vt":"str"},{"t":"lte","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":550,"y":2620,"wires":[["e55641f3.e3e3a8"],["54da4d8c.de6a34"]]},{"id":"c80d2386.573aa","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1850,"y":2600,"wires":[["a2d4611c.09a9b"]]},{"id":"a2d4611c.09a9b","type":"function","z":"42fde7d.75a2f18","name":"Wassertank ist leer","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Der Wassertank ist leer.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":2030,"y":2600,"wires":[["58f70842.204ff8"]]},{"id":"754ff4e5.ab049c","type":"switch","z":"42fde7d.75a2f18","name":"trocken <= 40 %","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"40","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1640,"y":2240,"wires":[["9e359590.7d1638"]]},{"id":"9e359590.7d1638","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1830,"y":2240,"wires":[["b3dff98b.dad84"]]},{"id":"b3dff98b.dad84","type":"function","z":"42fde7d.75a2f18","name":"die Erde ist trocken!","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Erde ist trocken.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":2030,"y":2240,"wires":[["58f70842.204ff8"]]},{"id":"fe1b4a06.5d62f8","type":"ui_slider","z":"594176aa.61db68","name":"","label":"Pumpdauer [min]","tooltip":"Minuten","group":"49556807.7c156","order":4,"width":0,"height":0,"passthru":false,"outs":"end","topic":"","min":0,"max":"2","step":"0.1","x":4110,"y":160,"wires":[["1dfe614c.33d1a7"]]},{"id":"c0d3db3d.844d6","type":"function","z":"594176aa.61db68","name":"minutes to milliseconds","func":"msg.payload = (msg.payload * 60000);\nreturn msg;","outputs":1,"noerr":0,"x":4690,"y":500,"wires":[["5d27e35b.c9207c"]]},{"id":"c2e82e8.932b6d","type":"ui_text","z":"42fde7d.75a2f18","group":"49556807.7c156","order":2,"width":0,"height":0,"name":"","label":"Der Tank ist","format":"{{msg.topic}}.","layout":"row-left","x":1150,"y":2620,"wires":[]},{"id":"e55641f3.e3e3a8","type":"change","z":"42fde7d.75a2f18","name":"leer","rules":[{"t":"set","p":"topic","pt":"msg","to":"fast leer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":2580,"wires":[["c2e82e8.932b6d","c80d2386.573aa"]]},{"id":"54da4d8c.de6a34","type":"change","z":"42fde7d.75a2f18","name":"gefüllt","rules":[{"t":"set","p":"topic","pt":"msg","to":"noch gefüllt","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":2640,"wires":[["c2e82e8.932b6d"]]},{"id":"478dbebb.f7d7","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"2","round":"","mult":"single","x":340,"y":2660,"wires":[["9c1d92da.e12c","54d4c712.7915"]]},{"id":"2338861e.dd4dfa","type":"debug","z":"42fde7d.75a2f18","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":1560,"y":2900,"wires":[]},{"id":"c87c2279.157488","type":"switch","z":"594176aa.61db68","name":">0 min","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4400,"y":260,"wires":[["aa65b539.189ea","ac43823a.0529d8","c0d3db3d.844d6"]]},{"id":"b786a19e.2ea9e8","type":"ui_button","z":"594176aa.61db68","name":"","group":"49556807.7c156","order":5,"width":0,"height":0,"passthru":true,"label":"pumpe Wasser [10 L/min]","tooltip":"pumpt jetzt eingestellte Menge","color":"","bgcolor":"","icon":"fa-tint","payload":"slider","payloadType":"flow","topic":"","x":4140,"y":260,"wires":[["c87c2279.157488"]]},{"id":"1dfe614c.33d1a7","type":"change","z":"594176aa.61db68","name":"","rules":[{"t":"set","p":"slider","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4420,"y":160,"wires":[[]]},{"id":"aa65b539.189ea","type":"Message Counter","z":"594176aa.61db68","name":"","units":"hours","interval":"24","alignToClock":true,"generator":"internal","x":4630,"y":300,"wires":[["2b59461d.c69c92"],[]]},{"id":"92f0adf.86d665","type":"chatbot-telegram-receive","z":"594176aa.61db68","bot":"45531229.75243c","botProduction":"45531229.75243c","x":3950,"y":360,"wires":[["c4ae02f.38ee1"]]},{"id":"c4ae02f.38ee1","type":"chatbot-command","z":"594176aa.61db68","name":"","command":"/pump","x":4050,"y":320,"wires":[["9e0ab776.577bb"]]},{"id":"9e0ab776.577bb","type":"function","z":"594176aa.61db68","name":"Abgabe von 1.5 L via Telegram","func":"msg.payload = 0.15;\nreturn msg;","outputs":1,"noerr":0,"x":4210,"y":360,"wires":[["f47d7fd8.af9158"]]},{"id":"4a1482f0.224ef4","type":"interval-length","z":"42fde7d.75a2f18","format":"human","bytopic":false,"minimum":"","maximum":"","window":"","timeout":false,"msgTimeout":"300","minimumunit":"secs","maximumunit":"msecs","windowunit":"msecs","msgTimeoutUnit":"secs","startup":true,"msgField":"payload","repeatTimeout":true,"name":"","x":1360,"y":2940,"wires":[["2338861e.dd4dfa"],["36b62f23.a4b998"]]},{"id":"36b62f23.a4b998","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"3","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1840,"y":2940,"wires":[["8ebc33d.af07ed"]]},{"id":"8ebc33d.af07ed","type":"function","z":"42fde7d.75a2f18","name":"no connection","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Der ESP32 im Keller hat keine Verbindung. Er sendete seit über 2.5 Minuten keine Nachricht mehr.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":2020,"y":2940,"wires":[["58f70842.204ff8"]]},{"id":"2b59461d.c69c92","type":"ui_text","z":"594176aa.61db68","group":"49556807.7c156","order":6,"width":0,"height":0,"name":"","label":"Es wurde schon ","format":"{{msg.payload}}-mal geklickt.","layout":"row-left","x":4880,"y":300,"wires":[]},{"id":"c5a65346.a200f","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"2","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":330,"y":2220,"wires":[["85c0dfde.67c8d8","ff19ac10.fec1a8","8f6fed33.da4948","ef788254.097ed8"]]},{"id":"22964500.340c54","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"2","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":770,"y":1320,"wires":[["d659566e.b077a8"]]},{"id":"d721f363.87b228","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"2","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":610,"y":1560,"wires":[["968d8659.b61098","8e5cfb.a4ee1b08"]]},{"id":"df1f71b6.f823","type":"ui_toast","z":"594176aa.61db68","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"pumpe aktiviert","x":4880,"y":260,"wires":[]},{"id":"ac43823a.0529d8","type":"change","z":"594176aa.61db68","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Pumpe aktiviert {{flow.slider}}","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":4630,"y":260,"wires":[["df1f71b6.f823"]]},{"id":"46058d61.d5bd1c","type":"persist in","z":"24e7c0e3.35b6c8","name":"wetter-morgen","storageNode":"4884f7f.6bf7808","x":660,"y":200,"wires":[]},{"id":"992e2711.2a8818","type":"mqtt in","z":"594176aa.61db68","name":"","topic":"garten/pump","qos":"0","broker":"e9af44e4.929f3","x":3250,"y":20,"wires":[["44ecbe7d.f1ddb8","32dc2633.d21122","a928a8e0.0eee8"]]},{"id":"44ecbe7d.f1ddb8","type":"debug","z":"594176aa.61db68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":3290,"y":80,"wires":[]},{"id":"32dc2633.d21122","type":"function","z":"594176aa.61db68","name":"milliseconds to minutes","func":"msg.payload = (msg.payload / 60000);\nreturn msg;","outputs":1,"noerr":0,"x":3670,"y":20,"wires":[["d8611be2.c34a98"]]},{"id":"2a4b0e17.0cfb42","type":"ui_chart","z":"594176aa.61db68","name":"","group":"49556807.7c156","order":7,"width":0,"height":0,"label":"Pumpzeit [min]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":true,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":4100,"y":20,"wires":[[],[]]},{"id":"fe5dd1bd.45c378","type":"chatbot-conversation","z":"594176aa.61db68","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":3980,"y":440,"wires":[["c588ffef.06ddb8"]]},{"id":"c588ffef.06ddb8","type":"chatbot-telegram-send","z":"594176aa.61db68","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":3990,"y":400,"wires":[]},{"id":"a928a8e0.0eee8","type":"function","z":"594176aa.61db68","name":"Telegram: Pumpe läuft","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Pumpe läuft für jetzt \" + msg.payload/60000 +\" Minuten.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":3590,"y":80,"wires":[["fe5dd1bd.45c378"]]},{"id":"d8611be2.c34a98","type":"delay","z":"594176aa.61db68","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"2","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":3900,"y":20,"wires":[["2a4b0e17.0cfb42"]]},{"id":"45d7ce13.afec8","type":"change","z":"24e7c0e3.35b6c8","name":"get from global.regen24h","rules":[{"t":"set","p":"payload","pt":"msg","to":"regen24h","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":920,"y":280,"wires":[["c364279b.5298f"]]},{"id":"ae77e5dd.5cb398","type":"function","z":"24e7c0e3.35b6c8","name":"sendet Regenwarnung-jetzt","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Heute wird es regnen!\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1380,"y":360,"wires":[["37cc9fa8.4e4aa8"]]},{"id":"c983fb33.90db58","type":"inject","z":"24e7c0e3.35b6c8","name":"","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":650,"y":320,"wires":[["45d7ce13.afec8"]]},{"id":"cc41d4a9.71b8d8","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"delay","timeout":"15","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":670,"y":280,"wires":[["45d7ce13.afec8"]]},{"id":"244b5010.927d38","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"","mult":"single","x":740,"y":2240,"wires":[["4d5f2775.14171","c233d116.711ec8","8f4f2734.38fa38","754ff4e5.ab049c"]]},{"id":"4d5f2775.14171","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"soilmoist","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":180,"y":2140,"wires":[[]]},{"id":"ff19ac10.fec1a8","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"49556807.7c156","order":9,"width":0,"height":0,"label":"Bodenfeuchte (Rohdaten)","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1190,"y":2100,"wires":[[],[]]},{"id":"8f6fed33.da4948","type":"change","z":"42fde7d.75a2f18","name":"min","rules":[{"t":"set","p":"topic","pt":"msg","to":"min","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":2160,"wires":[["ff19ac10.fec1a8"]]},{"id":"ef788254.097ed8","type":"change","z":"42fde7d.75a2f18","name":"max","rules":[{"t":"set","p":"topic","pt":"msg","to":"max","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":2120,"wires":[["ff19ac10.fec1a8"]]},{"id":"54d4c712.7915","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"wassertank","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":160,"y":2600,"wires":[[]]},{"id":"978be755.30168","type":"change","z":"42fde7d.75a2f18","name":"max","rules":[{"t":"set","p":"topic","pt":"msg","to":"max","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":2720,"wires":[["a87a69d5.99f238"]]},{"id":"53e72b35.d1fa8c","type":"change","z":"42fde7d.75a2f18","name":"min","rules":[{"t":"set","p":"topic","pt":"msg","to":"min","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":730,"y":2760,"wires":[["a87a69d5.99f238"]]},{"id":"a87a69d5.99f238","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"49556807.7c156","order":10,"width":0,"height":0,"label":"Wasserstand (Rohdaten)","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1190,"y":2740,"wires":[[],[]]},{"id":"9ffa7d9a.305638","type":"comment","z":"594176aa.61db68","name":"Regen: ja/nein","info":"","x":700,"y":240,"wires":[]},{"id":"24fe25d7.279c02","type":"comment","z":"594176aa.61db68","name":"Tank voll/leer","info":"","x":1910,"y":340,"wires":[]},{"id":"515594af.1481b4","type":"inject","z":"594176aa.61db68","name":"","topic":"waterlevel","payload":"0","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":2090,"y":260,"wires":[["d6323a3f.d796f8"]]},{"id":"8255a5da.19a288","type":"inject","z":"594176aa.61db68","name":"","topic":"waterlevel","payload":"250","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":2100,"y":220,"wires":[["d6323a3f.d796f8"]]},{"id":"d6323a3f.d796f8","type":"switch","z":"594176aa.61db68","name":">0","property":"waterlevel","propertyType":"msg","rules":[{"t":"neq","v":"0","vt":"str"},{"t":"eq","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":2250,"y":380,"wires":[["fc3d1b5.136e968","f826a79f.1fb618"],["afb14c6f.a33b2"]]},{"id":"266a971f.2b7678","type":"change","z":"594176aa.61db68","name":"Wassertank","rules":[{"t":"set","p":"waterlevel","pt":"msg","to":"wassertank","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1950,"y":380,"wires":[["d6323a3f.d796f8"]]},{"id":"afb14c6f.a33b2","type":"change","z":"594176aa.61db68","name":"waterlevel = true","rules":[{"t":"set","p":"waterlevel","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2430,"y":440,"wires":[["1cbc1548.8cf103","ad34290b.b1bb4"]]},{"id":"5a2bb7dd.4eeff","type":"comment","z":"594176aa.61db68","name":"Boden feucht/trocken","info":"","x":1940,"y":700,"wires":[]},{"id":"e272cfbc.492508","type":"switch","z":"594176aa.61db68","name":"Moist <50%","property":"payload","propertyType":"msg","rules":[{"t":"lt","v":"50","vt":"str"},{"t":"gt","v":"50","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":2250,"y":740,"wires":[["d7d9c100.93084"],["44bb3987.9a7fe","aaa715c0.d67558"]]},{"id":"5bd04ddb.a925f4","type":"change","z":"594176aa.61db68","name":"Bodenfeuchte","rules":[{"t":"set","p":"payload","pt":"msg","to":"soilmoist","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":1960,"y":740,"wires":[["e272cfbc.492508"]]},{"id":"66522363.d0c564","type":"inject","z":"594176aa.61db68","name":"","topic":"Soilmoist","payload":"15","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":2090,"y":820,"wires":[["e272cfbc.492508"]]},{"id":"105e774d.f2d7d1","type":"inject","z":"594176aa.61db68","name":"","topic":"Soilmoist","payload":"65","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":2090,"y":860,"wires":[["e272cfbc.492508"]]},{"id":"d7d9c100.93084","type":"change","z":"594176aa.61db68","name":"dry = true","rules":[{"t":"set","p":"dry","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":2400,"y":700,"wires":[["6a0a1dfe.71c574","7f09816b.37df1"]]},{"id":"741a147d.58ed2c","type":"function","z":"594176aa.61db68","name":"Tank:voll UND Boden:trocken","func":"context.data = context.data || new Object();\n\nswitch (msg.topic) {\n    case \"wassertank\":\n        context.data.wassertank = msg.payload;\n        msg = null;\n        break;\n\n    case \"soilmoist\":\n        context.data.soilmoist = msg.payload;\n        msg = null;\n        break;    \n        \n    default:\n        msg = null;\n    \tbreak;\n\n}\n\nif(context.data.wassertank != null && context.data.soilmoist != null) {\n\tmsg2 = new Object();\n    msg2 = context.data;\n    context.data=null;\n\treturn msg2;\n} else return msg;","outputs":1,"noerr":0,"x":3210,"y":580,"wires":[["737f9b47.ecb764"]]},{"id":"1cbc1548.8cf103","type":"function","z":"594176aa.61db68","name":"Task1:Wassertank = voll","func":"msg.topic=\"wassertank\";\nmsg.payload=\"voll\"\nreturn msg;","outputs":1,"noerr":0,"x":2810,"y":440,"wires":[["741a147d.58ed2c","e1685504.825bf"]]},{"id":"6a0a1dfe.71c574","type":"function","z":"594176aa.61db68","name":"Task2:Boden=trocken","func":"msg.topic=\"soilmoist\";\nmsg.payload=\"trocken\"\nreturn msg;","outputs":1,"noerr":0,"x":2800,"y":700,"wires":[["741a147d.58ed2c","e1685504.825bf"]]},{"id":"fa4e5630.4d6f18","type":"comment","z":"594176aa.61db68","name":"Tank voll UND Boden trocken","info":"","x":3150,"y":520,"wires":[]},{"id":"7f09816b.37df1","type":"debug","z":"594176aa.61db68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":2590,"y":640,"wires":[]},{"id":"e1685504.825bf","type":"debug","z":"594176aa.61db68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":2950,"y":580,"wires":[]},{"id":"2eb1fb4b.235c74","type":"change","z":"594176aa.61db68","name":"set unkown values","rules":[{"t":"set","p":"waterlevel","pt":"msg","to":"?","tot":"str"},{"t":"set","p":"dry","pt":"msg","to":"?","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1750,"y":560,"wires":[["266a971f.2b7678","5bd04ddb.a925f4","ccb4a551.997d6"]]},{"id":"ccb4a551.997d6","type":"debug","z":"594176aa.61db68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":1990,"y":560,"wires":[]},{"id":"737f9b47.ecb764","type":"change","z":"594176aa.61db68","name":"","rules":[{"t":"set","p":"pump","pt":"msg","to":"true","tot":"bool"}],"action":"","property":"","from":"","to":"","reg":false,"x":3460,"y":580,"wires":[["9c072126.d01338","f2d03864.62faf"]]},{"id":"fc3d1b5.136e968","type":"switch","z":"594176aa.61db68","name":"waterlevel = false","property":"waterlevel","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":2430,"y":320,"wires":[["b5c5aab1.2393c"]]},{"id":"b5c5aab1.2393c","type":"change","z":"594176aa.61db68","name":"push to global.nowater","rules":[{"t":"set","p":"waterlevel","pt":"global","to":"waterlevel","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2450,"y":280,"wires":[[]]},{"id":"bcb9b7d1.8d1da8","type":"change","z":"594176aa.61db68","name":"push to global.feuchteerde","rules":[{"t":"set","p":"feuchteerde","pt":"global","to":"dry","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":2460,"y":940,"wires":[[]]},{"id":"ad34290b.b1bb4","type":"debug","z":"594176aa.61db68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":2590,"y":500,"wires":[]},{"id":"e6f76c29.633b9","type":"switch","z":"594176aa.61db68","name":"0 03:00","property":"payload[0].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"},{"t":"neq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":380,"y":360,"wires":[["c69093f8.b54e58"],["89aae715.3ffc08"]]},{"id":"e1fe0b91.de79d","type":"debug","z":"594176aa.61db68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":410,"y":300,"wires":[]},{"id":"2316bb99.0bd7ec","type":"persist out","z":"594176aa.61db68","name":"wetter-morgen","storageNode":"4884f7f.6bf7808","x":160,"y":500,"wires":[["e1fe0b91.de79d","e6f76c29.633b9","7e7d89d3.9117b","a3fd3643.b83368","17d3b.d640b2c53","3cd640e1.c44858","a5962959.fbfbf8","db64da60.338258","81099fa6.1deb08"]]},{"id":"7e7d89d3.9117b","type":"switch","z":"594176aa.61db68","name":"1 06:00","property":"payload[1].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"},{"t":"neq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":380,"y":400,"wires":[["c69093f8.b54e58"],["89aae715.3ffc08"]]},{"id":"a3fd3643.b83368","type":"switch","z":"594176aa.61db68","name":"2 09:00","property":"payload[2].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"},{"t":"neq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":380,"y":440,"wires":[["c69093f8.b54e58"],["89aae715.3ffc08"]]},{"id":"17d3b.d640b2c53","type":"switch","z":"594176aa.61db68","name":"3 12:00","property":"payload[3].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"},{"t":"neq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":380,"y":480,"wires":[["c69093f8.b54e58"],["89aae715.3ffc08"]]},{"id":"3cd640e1.c44858","type":"switch","z":"594176aa.61db68","name":"4 15:00","property":"payload[4].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"},{"t":"neq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":380,"y":520,"wires":[["c69093f8.b54e58"],["89aae715.3ffc08"]]},{"id":"a5962959.fbfbf8","type":"switch","z":"594176aa.61db68","name":"5 18:00","property":"payload[5].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"},{"t":"neq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":380,"y":560,"wires":[["c69093f8.b54e58"],["89aae715.3ffc08"]]},{"id":"db64da60.338258","type":"switch","z":"594176aa.61db68","name":"6 21:00","property":"payload[6].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"},{"t":"neq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":380,"y":600,"wires":[["c69093f8.b54e58"],["89aae715.3ffc08"]]},{"id":"81099fa6.1deb08","type":"switch","z":"594176aa.61db68","name":"7 24:00","property":"payload[7].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"},{"t":"neq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":380,"y":640,"wires":[["c69093f8.b54e58"],["89aae715.3ffc08"]]},{"id":"73a583ac.ab8e64","type":"inject","z":"594176aa.61db68","name":"täglich um 18:30","topic":"","payload":"","payloadType":"str","repeat":"","crontab":"30 18 * * *","once":false,"onceDelay":0.1,"x":130,"y":460,"wires":[["2316bb99.0bd7ec"]]},{"id":"c69093f8.b54e58","type":"function","z":"594176aa.61db68","name":"rain=true","func":"msg.rain = true;\n\ndelete msg.payload;\ndelete msg.topic;\ndelete msg.location;\ndelete msg.data;\ndelete msg.title;\nreturn msg;","outputs":1,"noerr":0,"x":680,"y":440,"wires":[["ab9216ac.9d7f1"]]},{"id":"89aae715.3ffc08","type":"function","z":"594176aa.61db68","name":"rain=false","func":"msg.rain = false;\n\ndelete msg.payload;\ndelete msg.topic;\ndelete msg.location;\ndelete msg.data;\ndelete msg.title;\nreturn msg;","outputs":1,"noerr":0,"x":690,"y":560,"wires":[["6129ba8.73f91c4"]]},{"id":"ab9216ac.9d7f1","type":"Message Counter","z":"594176aa.61db68","name":"","units":"seconds","interval":"10","alignToClock":true,"generator":"internal","x":870,"y":440,"wires":[["a96e0df8.cd6c2"],[]]},{"id":"a96e0df8.cd6c2","type":"switch","z":"594176aa.61db68","name":"mehr als 1x Regen/Tag","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"1","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":1150,"y":360,"wires":[["9a02565.5aa4528"]]},{"id":"6129ba8.73f91c4","type":"Message Counter","z":"594176aa.61db68","name":"","units":"seconds","interval":"10","alignToClock":true,"generator":"internal","x":870,"y":560,"wires":[["50c84ded.892cd4"],[]]},{"id":"50c84ded.892cd4","type":"switch","z":"594176aa.61db68","name":"weniger als 1x Regen/Tag","property":"payload","propertyType":"msg","rules":[{"t":"cont","v":"7","vt":"str"},{"t":"cont","v":"8","vt":"str"}],"checkall":"true","repair":false,"outputs":2,"x":1160,"y":560,"wires":[["879031b1.9b23b8"],["879031b1.9b23b8"]]},{"id":"bbaea783.2dea88","type":"inject","z":"594176aa.61db68","name":"","topic":"","payload":"0","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":700,"wires":[["50c84ded.892cd4"]]},{"id":"e028a076.ad94a8","type":"inject","z":"594176aa.61db68","name":"","topic":"","payload":"1","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":740,"wires":[["50c84ded.892cd4"]]},{"id":"e4686b45.7c08d8","type":"inject","z":"594176aa.61db68","name":"","topic":"","payload":"2","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":780,"wires":[["50c84ded.892cd4"]]},{"id":"3d361184.a05a76","type":"inject","z":"594176aa.61db68","name":"","topic":"","payload":"3","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":820,"wires":[["50c84ded.892cd4"]]},{"id":"34acf6b3.b78c82","type":"inject","z":"594176aa.61db68","name":"","topic":"","payload":"4","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":860,"wires":[["50c84ded.892cd4"]]},{"id":"b735dc11.ead538","type":"inject","z":"594176aa.61db68","name":"","topic":"","payload":"5","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":900,"wires":[["50c84ded.892cd4"]]},{"id":"97442d77.658e38","type":"inject","z":"594176aa.61db68","name":"","topic":"","payload":"6","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":940,"wires":[["50c84ded.892cd4"]]},{"id":"e5f96417.eb117","type":"inject","z":"594176aa.61db68","name":"","topic":"","payload":"7","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":980,"wires":[["50c84ded.892cd4"]]},{"id":"6323f43e.c0d18c","type":"inject","z":"594176aa.61db68","name":"","topic":"","payload":"8","payloadType":"num","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":810,"y":1020,"wires":[["50c84ded.892cd4"]]},{"id":"879031b1.9b23b8","type":"function","z":"594176aa.61db68","name":"write msg.rain to false","func":"msg.rain = false;\n\ndelete msg.payload;\ndelete msg.topic;\ndelete msg.interval;\ndelete msg.units;\ndelete msg.generator;\ndelete msg.alignToClock;\ndelete msg.totalMessageCount;\ndelete msg.isReset;\nreturn msg;","outputs":1,"noerr":0,"x":1470,"y":560,"wires":[["2eb1fb4b.235c74"]]},{"id":"1044d33b.9c03f5","type":"change","z":"594176aa.61db68","name":"push to global.regen24h","rules":[{"t":"set","p":"regen24h","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":1160,"y":440,"wires":[[]]},{"id":"9a02565.5aa4528","type":"function","z":"594176aa.61db68","name":"heute wird es regnen","func":"msg.payload = 'Heute wird es regnen!';\nreturn msg;","outputs":1,"noerr":0,"x":1140,"y":400,"wires":[["1044d33b.9c03f5"]]},{"id":"fb2fc06f.4a237","type":"comment","z":"594176aa.61db68","name":"to Telegram","info":"","x":1070,"y":320,"wires":[]},{"id":"e2fecce3.a290a","type":"comment","z":"594176aa.61db68","name":"24h Wetterdienst abfrage von 03:00-24 Uhr","info":"","x":270,"y":240,"wires":[]},{"id":"44bb3987.9a7fe","type":"switch","z":"594176aa.61db68","name":"dry = false","property":"dry","propertyType":"msg","rules":[{"t":"false"}],"checkall":"true","repair":false,"outputs":1,"x":2410,"y":900,"wires":[["bcb9b7d1.8d1da8"]]},{"id":"f826a79f.1fb618","type":"function","z":"594176aa.61db68","name":"Telegram: Tank leer; kein Wasser","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Wäre der Tank nicht leer, würde die Pumpe jetzt laufen.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":3620,"y":380,"wires":[["fe5dd1bd.45c378"]]},{"id":"aaa715c0.d67558","type":"function","z":"594176aa.61db68","name":"Telegram: Erde feucht; kein Wasser","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Wäre die Erde nicht so feucht, würde die Pumpe jetzt laufen.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":3630,"y":740,"wires":[["fe5dd1bd.45c378"]]},{"id":"9c072126.d01338","type":"function","z":"594176aa.61db68","name":"Telegram: Pumpe wird ausgelöst","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Kein Regen heute, der Tank ist nicht leer und das Beet ist trocken.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":3620,"y":460,"wires":[["fe5dd1bd.45c378"]]},{"id":"7305517f.1638d8","type":"change","z":"594176aa.61db68","name":"push to global.regen24h","rules":[{"t":"set","p":"pumptime","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":4450,"y":100,"wires":[[]]},{"id":"e82042fa.e6e418","type":"ui_dropdown","z":"594176aa.61db68","name":"","label":"Standardfördermenge","tooltip":"","place":"","group":"49556807.7c156","order":1,"width":0,"height":0,"passthru":true,"options":[{"label":"0 L","value":"0.0","type":"str"},{"label":"2 L","value":"0.2","type":"str"},{"label":"4 L","value":"0.4","type":"str"},{"label":"5 L","value":"0.5","type":"str"},{"label":"6 L","value":"0.6","type":"str"},{"label":"8 L","value":"0.8","type":"str"},{"label":"10 L","value":"1","type":"str"}],"payload":"","topic":"","x":4120,"y":100,"wires":[["7305517f.1638d8"]]},{"id":"f2d03864.62faf","type":"change","z":"594176aa.61db68","name":"get from flow.pumptime","rules":[{"t":"set","p":"payload","pt":"msg","to":"pumptime","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":4010,"y":580,"wires":[["78aea3df.db3f4c","f47d7fd8.af9158"]]},{"id":"78aea3df.db3f4c","type":"debug","z":"594176aa.61db68","name":"","active":true,"tosidebar":true,"console":false,"tostatus":false,"complete":"true","x":4250,"y":700,"wires":[]},{"id":"d06390b.1f1667","type":"debug","z":"42fde7d.75a2f18","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":340,"y":2420,"wires":[]},{"id":"7a48af92.0ac78","type":"debug","z":"42fde7d.75a2f18","name":"","active":false,"tosidebar":true,"console":false,"tostatus":false,"complete":"false","x":620,"y":2420,"wires":[]},{"id":"603af096.8a2de8","type":"smooth","z":"42fde7d.75a2f18","name":"max","property":"payload","action":"max","count":"1000","round":"2","mult":"single","x":455.5,"y":1777.2499389648438,"wires":[["a6892bf7.bc3918"]]},{"id":"a6892bf7.bc3918","type":"ui_text","z":"42fde7d.75a2f18","group":"20b3b7f8.c09358","order":3,"width":"3","height":"1","name":"","label":"max: ","format":"{{msg.payload}} °C","layout":"row-left","x":935.5,"y":1777.2499389648438,"wires":[]},{"id":"a65a4fac.a5d62","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"2","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":610,"y":1640,"wires":[["413dba8a.bb7774","968d8659.b61098"]]},{"id":"1da779c.c35d586","type":"smooth","z":"42fde7d.75a2f18","name":"","property":"payload","action":"mean","count":"5","round":"2","mult":"single","x":440,"y":1640,"wires":[["a65a4fac.a5d62"]]},{"id":"d4674ab4.9c6f58","type":"comment","z":"42fde7d.75a2f18","name":"UV-Messung","info":"","x":90,"y":1840,"wires":[]},{"id":"a7a518db.4df608","type":"comment","z":"42fde7d.75a2f18","name":"Bodenfeuchte","info":"","x":70,"y":2100,"wires":[]},{"id":"f150b66e.dff278","type":"comment","z":"42fde7d.75a2f18","name":"Wassertank","info":"","x":70,"y":2540,"wires":[]},{"id":"90c4e1a9.d74cf8","type":"comment","z":"42fde7d.75a2f18","name":"ESP noch verbunden?","info":"","x":1300,"y":2880,"wires":[]},{"id":"4bb59199.9c0388","type":"smooth","z":"42fde7d.75a2f18","name":"max","property":"payload","action":"max","count":"1000","round":"2","mult":"single","x":450,"y":1480,"wires":[["fadca7f3.31d5a8"]]},{"id":"fadca7f3.31d5a8","type":"ui_text","z":"42fde7d.75a2f18","group":"b30c1ef9.c856","order":3,"width":"3","height":"1","name":"","label":"max: ","format":"{{msg.payload}} °C","layout":"row-left","x":930,"y":1400,"wires":[]},{"id":"bc599d24.909e28","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Keller","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":290,"y":1320,"wires":[["2eb9e5ec.489ff2"]]},{"id":"f47d7fd8.af9158","type":"switch","z":"594176aa.61db68","name":">0 min","property":"payload","propertyType":"msg","rules":[{"t":"gt","v":"0","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":4440,"y":620,"wires":[["c0d3db3d.844d6"]]},{"id":"7aafa134.7fc83","type":"inject","z":"594176aa.61db68","name":"standardfördermenge","topic":"","payload":"0.5","payloadType":"str","repeat":"","crontab":"","once":true,"onceDelay":0.1,"x":3900,"y":100,"wires":[["e82042fa.e6e418"]]},{"id":"ac2e8f85.f576d8","type":"switch","z":"24e7c0e3.35b6c8","name":"","property":"payload","propertyType":"msg","rules":[{"t":"eq","v":"","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":260,"y":880,"wires":[[]]},{"id":"338062f9.67e3c6","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"außentemp","pt":"global","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":480,"y":1600,"wires":[[]]},{"id":"290643d1.236eec","type":"change","z":"24e7c0e3.35b6c8","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"außentemp","tot":"global"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":740,"wires":[["b29e009f.ead098"]]}]