[{"id":"1dba8088.33893f","type":"tab","label":"RPi-Control","disabled":false,"info":""},{"id":"42fde7d.75a2f18","type":"tab","label":"MQTT-Sensoren","disabled":false,"info":""},{"id":"9cd507a9.4544c","type":"tab","label":"Telegram-Bot","disabled":false,"info":""},{"id":"24e7c0e3.35b6c8","type":"tab","label":"Wetter","disabled":false,"info":""},{"id":"319e799e.4970d6","type":"tab","label":"Counter","disabled":false,"info":""},{"id":"66429749.2b2058","type":"tab","label":"Langzeit-Graph","disabled":true,"info":""},{"id":"a6b6df9b.b30b08","type":"tab","label":"Data to Google-Spreadsheet","disabled":false,"info":""},{"id":"15813f2.6428941","type":"tab","label":"Push to Repo","disabled":false,"info":""},{"id":"5b346471.faeff4","type":"subflow","name":"Wetter-morgen","info":"Der 5-Tage-Wetter-Bericht soll morgens um 6:00 Uhr\nabgerufen werden.\nDann nur auf das morgige Wetter gekürzt und nach\nRegen (Rain) gefiltert werden.\n\nTime:\n0: 06:00 Uhr - heute\n1: 09:00 Uhr\n2: 12:00 Uhr\n3: 15:00 Uhr\n4: 18:00 Uhr\n5: 21:00 Uhr\n6: 24:00 Uhr - morgen --> Array 6 bis 13\n7: 03:00 Uhr\n8: 06:00 Uhr\n9: 09:00 Uhr\n10: 12:00 Uhr\n11: 15:00 Uhr\n12: 18:00 Uhr\n13: 21:00 Uhr","in":[{"x":60,"y":240,"wires":[{"id":"6b23d177.094ec"},{"id":"fa3f810b.0195f8"},{"id":"c5096121.68dd08"},{"id":"5407dcbc.2b887c"},{"id":"239e31f1.8bd946"},{"id":"b120593a.0a8488"},{"id":"96d406f6.346638"},{"id":"3fbc4e6f.0877f2"}]}],"out":[{"x":400,"y":240,"wires":[{"id":"6b23d177.094ec","port":0},{"id":"fa3f810b.0195f8","port":0},{"id":"c5096121.68dd08","port":0},{"id":"5407dcbc.2b887c","port":0},{"id":"239e31f1.8bd946","port":0},{"id":"b120593a.0a8488","port":0},{"id":"96d406f6.346638","port":0},{"id":"3fbc4e6f.0877f2","port":0}]},{"x":840,"y":240,"wires":[{"id":"2cca0224.1e6ec6","port":0},{"id":"380666a9.fd5c32","port":0},{"id":"5afc2b05.c2f7d4","port":0},{"id":"7ebf49d4.242bd8","port":0},{"id":"a9bd3fa1.85df48","port":0},{"id":"222b421.12a60be","port":0},{"id":"845b0452.0fc3a8","port":0},{"id":"688ebd5b.6c8c44","port":0}]}],"outputLabels":["Regen","Datum+Zeit"]},{"id":"efd5bd9c.32077","type":"ui_base","theme":{"name":"theme-dark","lightTheme":{"default":"#0094CE","baseColor":"#0094CE","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"darkTheme":{"default":"#097479","baseColor":"#9d263e","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif","edited":true,"reset":false},"customTheme":{"name":"","default":"#4B7930","baseColor":"#4B7930","baseFont":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"},"themeState":{"base-color":{"default":"#097479","value":"#097479","edited":false},"page-titlebar-backgroundColor":{"value":"#9d263e","edited":false},"page-backgroundColor":{"value":"#111111","edited":false},"page-sidebar-backgroundColor":{"value":"#000000","edited":false},"group-textColor":{"value":"#d13f5c","edited":false},"group-borderColor":{"value":"#555555","edited":false},"group-backgroundColor":{"value":"#333333","edited":false},"widget-textColor":{"value":"#eeeeee","edited":false},"widget-backgroundColor":{"value":"#9d263e","edited":false},"widget-borderColor":{"value":"#333333","edited":false},"base-font":{"value":"-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"}}},"site":{"name":"Node-RED Dashboard","hideToolbar":"false","allowSwipe":"true","dateFormat":"DD/MM/YYYY","sizes":{"sx":48,"sy":48,"gx":10,"gy":10,"cx":8,"cy":4,"px":0,"py":0}}},{"id":"48b61eee.369028","type":"ui_group","z":"","name":"Actions","tab":"a81ae7be.8668d8","order":4,"disp":true,"width":"6"},{"id":"9a9bcd96.3728b","type":"ui_group","z":"","name":"Speicher","tab":"a81ae7be.8668d8","order":2,"disp":false,"width":"6","collapse":false},{"id":"a81ae7be.8668d8","type":"ui_tab","z":"","name":"RPi Control","icon":"settings_applications","order":5},{"id":"b512ddf8.30c2c8","type":"ui_tab","z":"","name":"Home","icon":"home","order":1},{"id":"a7ad9951.2548b8","type":"ui_group","z":"","name":"Bodentemperatur","tab":"692dab66.7f83a4","order":2,"disp":true,"width":"6","collapse":true},{"id":"fa6f670a.8af6c8","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"1eb5f175.24493f","type":"ui_group","z":"","name":"Prozessor","tab":"a81ae7be.8668d8","order":1,"disp":false,"width":"6","collapse":false},{"id":"42f097d1.786b78","type":"ui_group","z":"","name":"Keller","tab":"b512ddf8.30c2c8","order":5,"disp":true,"width":"6","collapse":true},{"id":"c32b961d.74e278","type":"ui_group","z":"","name":"UV","tab":"692dab66.7f83a4","order":3,"disp":true,"width":"6","collapse":true},{"id":"692dab66.7f83a4","type":"ui_tab","z":"","name":"Garten","icon":"nature_people","order":2},{"id":"76c2741a.cf162c","type":"ui_group","z":"","name":"Wohnzimmer","tab":"b512ddf8.30c2c8","order":3,"disp":true,"width":"6","collapse":true},{"id":"31093ace.5bd31e","type":"ui_group","z":"","name":"Außentemperatur","tab":"f0b33a40.48e7b","order":1,"disp":true,"width":"12","collapse":true},{"id":"8f021d0b.b6468","type":"ui_group","z":"","name":"Küche","tab":"b512ddf8.30c2c8","order":1,"disp":true,"width":"6","collapse":true},{"id":"d8adad0d.437698","type":"ui_group","z":"","name":"Bad","tab":"b512ddf8.30c2c8","order":2,"disp":true,"width":"6","collapse":true},{"id":"517c4aab.63262c","type":"ui_group","z":"","name":"Schlafzimmer","tab":"b512ddf8.30c2c8","order":4,"disp":true,"width":"6","collapse":true},{"id":"901b06c7.69a9b","type":"ui_tab","z":"","name":"Counter","icon":"smoke_rooms","order":4},{"id":"8bb42d27.da57c8","type":"ui_group","z":"","name":"Kippencounter","tab":"901b06c7.69a9b","disp":true,"width":"6","collapse":false},{"id":"5ad6b993.e52a38","type":"persist-store","z":"","filename":"persistance_langzeit-temp.json","interval":"60"},{"id":"f0b33a40.48e7b","type":"ui_tab","z":"","name":"Langzeit","icon":"timelapse","order":3},{"id":"63c37945.44385","type":"ui_group","z":"","name":"Außentemperatur","tab":"692dab66.7f83a4","order":1,"disp":true,"width":"6","collapse":true},{"id":"11b86915.0a264f","type":"persist-store","z":"","filename":"persistance_kippen.json","interval":"60"},{"id":"4b4dc27f.5f814c","type":"persist-store","z":"","filename":"persistance_bodentemp.json","interval":"60"},{"id":"c2a5d7ff.9af3f","type":"ui_group","z":"","name":"Biercounter","tab":"901b06c7.69a9b","order":2,"disp":true,"width":"6","collapse":true},{"id":"b6cfab4c.63f658","type":"persist-store","z":"","filename":"persistance_bier.json","interval":"60"},{"id":"f54d5b91.51469","type":"persist-store","z":"","filename":"persist_kippen.json","interval":"60"},{"id":"e3062250.fc4f3","type":"persist-store","z":"","filename":"persist_bier.json","interval":"60"},{"id":"4a1b50b3.f899c","type":"ui_group","z":"","name":"Actions","tab":"61dcc973.12466","order":4,"disp":true,"width":"6","collapse":false},{"id":"9735cae4.41d7a","type":"ui_group","z":"","name":"Prozessor","tab":"61dcc973.12466","order":1,"disp":false,"width":"6","collapse":false},{"id":"26af34a5.214444","type":"ui_group","z":"","name":"Speicher","tab":"61dcc973.12466","order":2,"disp":false,"width":"6","collapse":false},{"id":"61dcc973.12466","type":"ui_tab","z":"","name":"RPi Control","icon":"settings_applications","order":5},{"id":"2a1fd159.cf2a3e","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"66b9cc5c.5ff2d4","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"e555285.1c8e358","type":"ui_group","z":"","name":"UV","tab":"95c6638b.97b39","order":4,"disp":true,"width":"6","collapse":true},{"id":"e93d59b4.f58ac8","type":"ui_group","z":0,"name":"Schlafzimmer","tab":"5f03f509.7d82c4","order":4,"disp":true,"width":"6","collapse":true},{"id":"1ab9bfc7.7bfb28","type":"ui_group","z":0,"name":"Wohnzimmer","tab":"5f03f509.7d82c4","order":3,"disp":true,"width":"6","collapse":true},{"id":"9a0e3fbc.18ce58","type":"ui_group","z":"","name":"Keller","tab":"5f03f509.7d82c4","order":5,"disp":true,"width":"6","collapse":true},{"id":"d3e06eca.53a038","type":"ui_group","z":"","name":"Küche","tab":"5f03f509.7d82c4","order":1,"disp":true,"width":"6","collapse":true},{"id":"1811bcb3.2dacfb","type":"ui_group","z":0,"name":"Bad","tab":"5f03f509.7d82c4","order":2,"disp":true,"width":"6","collapse":true},{"id":"20b3b7f8.c09358","type":"ui_group","z":0,"name":"Außentemperatur","tab":"95c6638b.97b39","order":1,"disp":true,"width":"6","collapse":true},{"id":"b30c1ef9.c856","type":"ui_group","z":"","name":"Bodentemperatur","tab":"95c6638b.97b39","order":2,"disp":true,"width":"6","collapse":true},{"id":"95c6638b.97b39","type":"ui_tab","z":"","name":"Garten","icon":"nature_people","order":2},{"id":"5f03f509.7d82c4","type":"ui_tab","z":"","name":"Home","icon":"home","order":1},{"id":"c09a3757.192e68","type":"persist-store","z":"","filename":"kippen_Apirl18_persistance.json","interval":"60"},{"id":"64cca9da.899d5","type":"persist-store","z":"","filename":"bier_April18_persistance.json","interval":"60"},{"id":"3048233c.060214","type":"ui_group","z":0,"name":"Kippencounter","tab":"fb12a104.75fb6","disp":true,"width":"6","collapse":false},{"id":"80ddcf8c.c82f","type":"ui_group","z":0,"name":"Biercounter","tab":"fb12a104.75fb6","order":2,"disp":true,"width":"6","collapse":true},{"id":"b43c6e3e.aa4638","type":"ui_group","z":"","name":"Außentemperatur","tab":"256d6b38.40198c","order":1,"disp":true,"width":"12","collapse":true},{"id":"fb12a104.75fb6","type":"ui_tab","z":"","name":"Counter","icon":"smoke_rooms","order":4},{"id":"256d6b38.40198c","type":"ui_tab","z":"","name":"Langzeit","icon":"timelapse","order":3},{"id":"a52cffb7.10b39","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"db74e31a.876e08","type":"persist-store","z":"","filename":"persistance_langzeit-temp.json","interval":"60"},{"id":"20de874a.301c5","type":"persist-store","z":"","filename":"persistance_bodentemp.json","interval":"60"},{"id":"b764fe0c.67683","type":"ui_group","z":"","name":"Außentemperatur","tab":"3ffb6c67.0ead4c","order":1,"disp":true,"width":"12","collapse":true},{"id":"f36484db.bc7d78","type":"ui_group","z":0,"name":"Bodentemperatur","tab":"3ffb6c67.0ead4c","disp":true,"width":"6","collapse":false},{"id":"3ffb6c67.0ead4c","type":"ui_tab","z":"","name":"Langzeit","icon":"timelapse","order":3},{"id":"ae62bedc.7fc4a","type":"mqtt-broker","z":"","broker":"localhost","port":"1883","clientid":"","usetls":false,"compatmode":true,"keepalive":"60","cleansession":true,"birthTopic":"","birthQos":"0","birthPayload":"","willTopic":"","willQos":"0","willPayload":"msg.payload = {chatId :173173012, type : 'message', content : msg.payload}"},{"id":"9c059d27.146c2","type":"ui_group","z":"","name":"Actions","tab":"75eef3b7.49e5bc","order":4,"disp":true,"width":"6","collapse":false},{"id":"75eef3b7.49e5bc","type":"ui_tab","z":"","name":"RPi Control","icon":"settings_applications","order":5},{"id":"45531229.75243c","type":"chatbot-telegram-node","z":"","botname":"FMS63_Bot","usernames":"173173012","providerToken":"","polling":"1000","store":"","log":"","parseMode":"","debug":false},{"id":"6dc5a67a.4ad8a8","type":"ui_group","z":"","name":"Wetter in Greifswald","tab":"7c6bedea.ab500c","order":3,"disp":true,"width":"6","collapse":true},{"id":"2bd215d2.8303c2","type":"persist-store","z":"","filename":"wetter-jetzt-persistance.json","interval":"60"},{"id":"7c6bedea.ab500c","type":"ui_tab","z":"","name":"Garten","icon":"nature_people","order":2},{"id":"4e091fe.905906","type":"ui_group","z":"","name":"Actions","tab":"2205fd7a.f5e6d2","order":4,"disp":true,"width":"6","collapse":false},{"id":"c247c9ad.e586a8","type":"ui_group","z":"","name":"Prozessor","tab":"2205fd7a.f5e6d2","order":1,"disp":false,"width":"6","collapse":false},{"id":"bba410ad.4a4d28","type":"ui_group","z":"","name":"Speicher","tab":"2205fd7a.f5e6d2","order":2,"disp":false,"width":"6","collapse":false},{"id":"2205fd7a.f5e6d2","type":"ui_tab","z":"","name":"RPi Control","icon":"settings_applications","order":5},{"id":"6558071a.fca348","type":"exec","z":0,"command":"vcgencmd measure_temp","addpay":false,"append":"","useSpawn":"","timer":"","name":"RPi Temp.","x":330,"y":100,"wires":[["88d09ea3.912138"],[],[]]},{"id":"7dedba89.f747f4","type":"inject","z":0,"name":"","topic":"","payload":"","payloadType":"date","repeat":"10","crontab":"","once":false,"x":110,"y":160,"wires":[["6558071a.fca348","6caa419c.3077d8","52a2cd8a.d81754"]]},{"id":"88d09ea3.912138","type":"function","z":0,"name":"","func":"str = msg.payload\nmsg.payload = str.substring(5,9);\nreturn msg;","outputs":1,"noerr":0,"x":530,"y":100,"wires":[["e7b0aba8.f6bd88","dbc3401.832354","797a7730.de197"]]},{"id":"b1e412c2.eaa818","type":"exec","z":0,"command":"sudo reboot -h now","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Reboot","x":747.8333740234375,"y":1025.5,"wires":[[],[],[]]},{"id":"7c8203c6.9137ec","type":"exec","z":0,"command":"sudo shutdown -h now","addpay":false,"append":"","useSpawn":"","timer":"","name":"Shutdown","x":747.8333740234375,"y":1065.5,"wires":[[],[],[]]},{"id":"6caa419c.3077d8","type":"exec","z":0,"command":"top -d 0.5 -b -n2 | grep \"Cpu(s)\"|tail -n 1 | awk '{print $2 + $4}'","addpay":false,"append":"","useSpawn":"","timer":"","name":"CPU Load","x":330,"y":160,"wires":[["4cd9c98.d252838","584fc1f1.648ef"],[],[]]},{"id":"52a2cd8a.d81754","type":"exec","z":0,"command":"free | grep Mem | awk '{print (100*($4+$6+$7)/$2)}'","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Free Memory","x":330,"y":220,"wires":[["91522283.78838"],[],[]]},{"id":"a4cef2c4.c1bf48","type":"exec","z":0,"command":"df -h","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Disk Usage","x":330,"y":300,"wires":[["96bb5a5c.951e88"],[],[]]},{"id":"96bb5a5c.951e88","type":"function","z":0,"name":"Speicher","func":"var re = /([0-9]{2})%/\nvar idx = msg.payload.search(re);\nvar str = msg.payload;\nif (idx >=0) {\n    str = msg.payload.substring(idx, idx + 2);\n}\nmsg.payload = str;\nreturn msg;","outputs":1,"noerr":0,"x":520,"y":300,"wires":[["a03206a8.e0d1c","881b696a.cab198","4595eb8b.51e98c","b9441402.c8d968","73f4766f.40441","49fd9ed0.fc0e6"]]},{"id":"d5f6b466.c0fe1","type":"inject","z":0,"name":"","topic":"","payload":"","payloadType":"date","repeat":"60","crontab":"","once":false,"x":110,"y":300,"wires":[["a4cef2c4.c1bf48"]]},{"id":"71dc835e.f6d41c","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Der Speicher der Himbeere ist zu \" + msg.payload +\" % belegt.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1132.5,"y":917.5,"wires":[["fc6c6084.2cfd88"]]},{"id":"67d7bca0.e2dd2c","type":"change","z":0,"name":"set Payload to flow.Speicher","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speicher","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":807.8333740234375,"y":905.5,"wires":[["71dc835e.f6d41c"]]},{"id":"881b696a.cab198","type":"change","z":0,"name":"","rules":[{"t":"set","p":"Speicher","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":750,"y":300,"wires":[[]]},{"id":"d0462850.f4c068","type":"chatbot-telegram-receive","z":0,"bot":"","x":117.8333740234375,"y":945.5,"wires":[["1224b6a5.32bb11","b5702c44.e8e08","d7efc634.96b148","3ebe0744.3ba968","4a79920b.1108dc","e7a10ca6.fc58b8","7b38dfac.3fc6e8"]]},{"id":"1224b6a5.32bb11","type":"chatbot-command","z":0,"name":"","command":"/speicher","x":347.8333740234375,"y":825.5,"wires":[["67d7bca0.e2dd2c"]],"outputLabels":["/wz"]},{"id":"fc6c6084.2cfd88","type":"chatbot-conversation","z":0,"name":"","botTelegram":"","botSlack":"","botFacebook":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1575.4166259765625,"y":772,"wires":[["d271cf5b.b30b3"]]},{"id":"7eea036e.f95644","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Der Speicher der Himbeere ist zu \" + msg.payload + \" % belegt. Die logs werden automatisch gelöscht. Bitte warte oder reboote.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1140,"y":460,"wires":[["fc6c6084.2cfd88"]]},{"id":"4595eb8b.51e98c","type":"switch","z":0,"name":"Switch:Disk > 80 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"80","vt":"str"}],"checkall":"false","outputs":1,"x":546,"y":460,"wires":[["91f85c07.f217f","40935f94.556d08"]]},{"id":"91f85c07.f217f","type":"delay","z":0,"name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":826,"y":461.25,"wires":[["7eea036e.f95644"]]},{"id":"6af2cbb5.3dd14c","type":"comment","z":0,"name":"Achtung, wenn Speicher über 80% belegt","info":"","x":598,"y":423,"wires":[]},{"id":"6441fc4.cec9384","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Die Speicherbelegung der Himbeere ist nun unter 15 %. \"+ \"Sie beträgt momentan \" + msg.payload + \" %. Die logs wurden wohl gelöscht.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1140,"y":540,"wires":[["fc6c6084.2cfd88"]]},{"id":"b9441402.c8d968","type":"switch","z":0,"name":"Switch:Disk < 15 %","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"15","vt":"str"}],"checkall":"false","outputs":1,"x":546,"y":540,"wires":[["d5bf3d14.98de1"]]},{"id":"d5bf3d14.98de1","type":"delay","z":0,"name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"day","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":824.75,"y":540,"wires":[["6441fc4.cec9384"]]},{"id":"1f0fa87c.cd051","type":"comment","z":0,"name":"Info: Logs wurden gelöscht","info":"","x":546,"y":500,"wires":[]},{"id":"b5702c44.e8e08","type":"chatbot-command","z":0,"name":"","command":"/status","x":337.8333740234375,"y":905.5,"wires":[["67d7bca0.e2dd2c"]]},{"id":"d7efc634.96b148","type":"chatbot-command","z":0,"name":"","command":"/shutdown","x":357.8333740234375,"y":1065.5,"wires":[["72ada116.11a97","4b6061eb.1cff68"]]},{"id":"3ebe0744.3ba968","type":"chatbot-command","z":0,"name":"","command":"/reboot","x":347.8333740234375,"y":1025.5,"wires":[["8e8cc30e.00b438","a8f1dba1.6a75f8"]]},{"id":"4b6061eb.1cff68","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Himbeere wird in 3 Sekunden heruntergefahren.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1131.25,"y":1085,"wires":[["fc6c6084.2cfd88"]]},{"id":"72ada116.11a97","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":587.8333740234375,"y":1065.5,"wires":[["7c8203c6.9137ec"]]},{"id":"8e8cc30e.00b438","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":587.8333740234375,"y":1025.5,"wires":[["b1e412c2.eaa818"]]},{"id":"a8f1dba1.6a75f8","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Himbeere wird in 3 Sekunden neugestartet.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1131.25,"y":1042.5,"wires":[["fc6c6084.2cfd88"]]},{"id":"a3d85123.950cb","type":"exec","z":0,"command":"sudo apt-get clean","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":777.8333740234375,"y":945.5,"wires":[[],[],[]]},{"id":"4a79920b.1108dc","type":"chatbot-command","z":0,"name":"","command":"/clean","x":337.8333740234375,"y":945.5,"wires":[["a3d85123.950cb","362bb2df.8edf4e"]]},{"id":"362bb2df.8edf4e","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Der Befehl sudo apt-get clean wurde ausgeführt.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1131.25,"y":962.5,"wires":[["fc6c6084.2cfd88"]]},{"id":"e7a10ca6.fc58b8","type":"chatbot-command","z":0,"name":"","command":"/remove","x":347.8333740234375,"y":865.5,"wires":[["40935f94.556d08","82939090.db71c8"]],"outputLabels":["/wz"]},{"id":"40935f94.556d08","type":"exec","z":0,"command":"sudo rm /var/log/daemon.log /var/log/daemon.log.1 /var/log/syslog /var/log/syslog.1","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"löscht Logs","x":757.8333740234375,"y":845.5,"wires":[[],[],[]]},{"id":"82939090.db71c8","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Die logs sollten gelöscht worden sein.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1132.5,"y":870,"wires":[["fc6c6084.2cfd88"]]},{"id":"7b38dfac.3fc6e8","type":"chatbot-command","z":0,"name":"","command":"/stop","x":337.8333740234375,"y":985.5,"wires":[["ed3a73c1.538938","bf1b6f59.5f2808"]]},{"id":"c11c9f26.a7f56","type":"exec","z":0,"command":"node-red-stop","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":767.8333740234375,"y":985.5,"wires":[[],[],[]]},{"id":"ed3a73c1.538938","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":587.8333740234375,"y":985.5,"wires":[["c11c9f26.a7f56"]]},{"id":"bf1b6f59.5f2808","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Node-Red wird in 3 Sekunden ausgeschaltet. Zuhause musst du's im Terminal wieder starten!\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1131.25,"y":1002.5,"wires":[["fc6c6084.2cfd88"]]},{"id":"73f4766f.40441","type":"switch","z":0,"name":"Speicher > 85 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"85","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":540,"y":620,"wires":[["229d9aaa.15a57e","c1b35f10.3cbdd8"]]},{"id":"229d9aaa.15a57e","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Auto-Reboot in 3 Sekunden. Speicherplatz am Limit!\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1140,"y":620,"wires":[["fc6c6084.2cfd88"]]},{"id":"b45d96c1.24d758","type":"comment","z":0,"name":"Auto-Reboot, wenn Speicher > 85%","info":"","x":560,"y":580,"wires":[]},{"id":"cc4d4988.2250b8","type":"inject","z":0,"name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":1627.4166259765625,"y":1247,"wires":[["6cb5ed4c.c3d08c"]]},{"id":"6cb5ed4c.c3d08c","type":"function","z":0,"name":"online","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"RPi-Control ist online. \" + msg.payload} };\nreturn msg2;","outputs":1,"noerr":0,"x":1582.083251953125,"y":1130.6666259765625,"wires":[["fc6c6084.2cfd88"]]},{"id":"d271cf5b.b30b3","type":"chatbot-telegram-send","z":0,"bot":"","track":false,"outputs":0,"x":1732.3332824707031,"y":872.6666564941404,"wires":[]},{"id":"8a8de96.72dea98","type":"function","z":0,"name":"timeConvert-Funktioniert noch nicht","func":"if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1485.166748046875,"y":1202,"wires":[[]]},{"id":"627f9bf3.9971c4","type":"exec","z":0,"command":"sudo reboot","addpay":false,"append":"","useSpawn":"","timer":"","name":"Reboot","x":920,"y":620,"wires":[[],[],[]]},{"id":"c1b35f10.3cbdd8","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":780,"y":620,"wires":[["627f9bf3.9971c4"]]},{"id":"6725bed6.86814","type":"inject","z":0,"name":"auto-reboot nach 2,5 Tagen","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"00 00 * * 3,0","once":false,"onceDelay":0.1,"x":700,"y":1280,"wires":[["b1e412c2.eaa818"]]},{"id":"1f2619ee.6dc746","type":"ui_button","z":0,"name":"","group":"4a1b50b3.f899c","order":2,"width":0,"height":0,"passthru":false,"label":"Reboot","color":"","bgcolor":"","icon":"settings_backup_restore","payload":"Die Himbeere wird neugestartet.","payloadType":"str","topic":"","x":100,"y":1040,"wires":[["b1e412c2.eaa818","ea1500a5.e093a8"]]},{"id":"258447b5.95481","type":"ui_button","z":0,"name":"","group":"4a1b50b3.f899c","order":3,"width":0,"height":0,"passthru":false,"label":"Shutdown","color":"","bgcolor":"red","icon":"power_settings_new","payload":"Die Himbeere wird heruntergefahren.","payloadType":"str","topic":"","x":97.5,"y":1085,"wires":[["7c8203c6.9137ec","b02966d1.670e38"]]},{"id":"eafa551.7990ca8","type":"ui_button","z":0,"name":"","group":"4a1b50b3.f899c","order":1,"width":0,"height":0,"passthru":false,"label":"clean Logs","color":"","bgcolor":"green","icon":"delete_forever","payload":"","payloadType":"str","topic":"","x":97.8333740234375,"y":845.5,"wires":[["40935f94.556d08","36d29808.866d88"]]},{"id":"dbc3401.832354","type":"ui_chart","z":0,"name":"","group":"9735cae4.41d7a","order":5,"width":0,"height":0,"label":"Temperatur [°C]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"55","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":1000,"y":140,"wires":[[],[]]},{"id":"584fc1f1.648ef","type":"ui_chart","z":0,"name":"","group":"9735cae4.41d7a","order":4,"width":0,"height":0,"label":"Prozessorauslastung [%]","chartType":"line","legend":"false","xformat":"HH:mm","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1030,"y":220,"wires":[[],[]]},{"id":"49fd9ed0.fc0e6","type":"ui_chart","z":0,"name":"","group":"26af34a5.214444","order":0,"width":0,"height":0,"label":"Speicherplatzfüllung [%]","chartType":"line","legend":"false","xformat":"dd HH:mm","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1010,"y":300,"wires":[[],[]]},{"id":"e7b0aba8.f6bd88","type":"ui_gauge","z":0,"name":"","group":"9735cae4.41d7a","order":2,"width":"3","height":"3","gtype":"gage","title":"CPU Temperatur","label":"","format":"{{value}} °C","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1010,"y":100,"wires":[]},{"id":"4cd9c98.d252838","type":"ui_gauge","z":0,"name":"","group":"9735cae4.41d7a","order":1,"width":"0","height":"0","gtype":"gage","title":"Prozessorauslastung","label":"CPU","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1020,"y":180,"wires":[]},{"id":"f86ad15a.042d38","type":"ui_gauge","z":0,"name":"","group":"9735cae4.41d7a","order":3,"width":"3","height":"3","gtype":"gage","title":"Arbeitsspeicher","label":"RAM","format":"{{msg.payload}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1000,"y":260,"wires":[]},{"id":"a03206a8.e0d1c","type":"ui_gauge","z":0,"name":"","group":"26af34a5.214444","order":2,"width":0,"height":0,"gtype":"gage","title":"Belegter Speicherplatz","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1000,"y":340,"wires":[]},{"id":"36d29808.866d88","type":"ui_toast","z":0,"position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Logs wurden geloescht","x":297.8333740234375,"y":765.5,"wires":[]},{"id":"ea1500a5.e093a8","type":"ui_toast","z":0,"position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Die Himbeere wird neugestartet.","x":310,"y":1140,"wires":[]},{"id":"b02966d1.670e38","type":"ui_toast","z":0,"position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Die Himbeere wird heruntergefahren.","x":330,"y":1180,"wires":[]},{"id":"91522283.78838","type":"smooth","z":0,"name":"","property":"payload","action":"mean","count":"1","round":"1","mult":"single","x":540,"y":220,"wires":[["f86ad15a.042d38","b7917e9.0ea67"]]},{"id":"cb81ecfc.1bc33","type":"exec","z":0,"command":"sudo shutdown -h now","addpay":false,"append":"","useSpawn":"","timer":"","name":"Shutdown","x":1180,"y":60,"wires":[[],[],[]]},{"id":"797a7730.de197","type":"switch","z":0,"name":"T > 60 °C","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"60","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":780,"y":60,"wires":[["21dfb007.2ffb8","5212c9ae.bf8588"]]},{"id":"21dfb007.2ffb8","type":"delay","z":0,"name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1040,"y":60,"wires":[["cb81ecfc.1bc33"]]},{"id":"5212c9ae.bf8588","type":"function","z":0,"name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Himbeere ist überhitzt und schaltet sich gleich aus!\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1380,"y":60,"wires":[["fc6c6084.2cfd88"]]},{"id":"b7917e9.0ea67","type":"ui_chart","z":0,"name":"","group":"26af34a5.214444","order":0,"width":0,"height":0,"label":"Arbeitsspeicher","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Warte auf Daten","dot":false,"ymin":"0","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1210,"y":260,"wires":[[],[]]},{"id":"fd45db12.25175","type":"chatbot-telegram-receive","z":"9cd507a9.4544c","bot":"45531229.75243c","botProduction":"45531229.75243c","x":170,"y":100,"wires":[["99189be8.f456a","40456a35.55a8bc","aadd3f4e.424838","17574561.378a03","7c4831e5.de97d","83ffd1bf.6eba3","5b6c24fa.ada844","554c8b43.dbefb4","1d99a257.9c8be6","34b6ec88.da4604"]]},{"id":"203faaa2.ca3b36","type":"chatbot-telegram-send","z":"9cd507a9.4544c","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":1805,"y":120,"wires":[]},{"id":"99189be8.f456a","type":"chatbot-message","z":"9cd507a9.4544c","name":"Miau","message":[{"message":"Miau"}],"answer":false,"track":false,"x":1005,"y":80,"wires":[["203faaa2.ca3b36"]]},{"id":"d3cd4e8b.483da8","type":"comment","z":"9cd507a9.4544c","name":"Auto-Reply","info":"","x":1015,"y":40,"wires":[]},{"id":"40456a35.55a8bc","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/keller","x":165,"y":440,"wires":[["a9350713.d0b868"]]},{"id":"aadd3f4e.424838","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/garten","x":175,"y":341.25,"wires":[["5dc1ed02.d3007c","6b139a11.23df14"]],"outputLabels":["/wz"]},{"id":"b70fa6c.a9247d8","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Bodentemperatur beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":340,"wires":[["c85f4e11.5dc6e"]]},{"id":"c85f4e11.5dc6e","type":"chatbot-conversation","z":"9cd507a9.4544c","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1500,"y":280,"wires":[["203faaa2.ca3b36"]]},{"id":"11b618ea.c13267","type":"mqtt in","z":"9cd507a9.4544c","name":"Bodentemperatur","topic":"/keller/temp/28ff8c388a1635a","qos":"0","broker":"2a1fd159.cf2a3e","x":175,"y":1140,"wires":[["7486af88.bc83"]]},{"id":"5dc1ed02.d3007c","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Bodentemperatur","rules":[{"t":"set","p":"payload","pt":"msg","to":"Bodentemperatur","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":903.75,"y":342.5,"wires":[["b70fa6c.a9247d8"]]},{"id":"d640d426.490bd8","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Bodentemperatur","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":520,"y":1140,"wires":[[]]},{"id":"f676ea61.6e4d9","type":"comment","z":"9cd507a9.4544c","name":"Commands","info":"","x":150,"y":240,"wires":[]},{"id":"2b93ec49.e518c4","type":"comment","z":"9cd507a9.4544c","name":"Input für Commands","info":"","x":185,"y":1080,"wires":[]},{"id":"65567046.038e58","type":"comment","z":"9cd507a9.4544c","name":"Textausgabe des Commands","info":"","x":1195,"y":240,"wires":[]},{"id":"dc2ee456.c19ae8","type":"comment","z":"9cd507a9.4544c","name":"Auswahl des Inputs","info":"","x":845,"y":240,"wires":[]},{"id":"b640f37.1e6fd9","type":"mqtt in","z":"9cd507a9.4544c","name":"Außen","topic":"/keller/temp/28ffca9721747","qos":"2","broker":"2a1fd159.cf2a3e","x":145,"y":1200,"wires":[["d8e90af2.dd38e"]]},{"id":"5a2d02b3.4b3be4","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Außen","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":490,"y":1200,"wires":[[]]},{"id":"6b139a11.23df14","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Außentemperatur","rules":[{"t":"set","p":"payload","pt":"msg","to":"Außen","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":905,"y":380,"wires":[["6b19b609.17b028"]]},{"id":"6b19b609.17b028","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Außentemperatur beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1196.25,"y":377.5,"wires":[["c85f4e11.5dc6e"]]},{"id":"17574561.378a03","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/wz","x":165,"y":500,"wires":[["585d944c.f3d0ec","7beacb3f.961bdc"]]},{"id":"a9350713.d0b868","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Keller","rules":[{"t":"set","p":"payload","pt":"msg","to":"Keller","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":865,"y":440,"wires":[["df3d6237.e40b08"]]},{"id":"df3d6237.e40b08","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur im Keller beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":440,"wires":[["c85f4e11.5dc6e"]]},{"id":"ed377c28.419508","type":"mqtt in","z":"9cd507a9.4544c","name":"Keller","topic":"/keller/temp/28ff84ed6117326","qos":"2","broker":"2a1fd159.cf2a3e","x":145,"y":1260,"wires":[["a72dadd6.bdbab"]]},{"id":"33478b39.e6df9c","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Keller","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":490,"y":1260,"wires":[[]]},{"id":"585d944c.f3d0ec","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Wohnzimmer","rules":[{"t":"set","p":"payload","pt":"msg","to":"Wohnzimmer/Temp","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":885,"y":500,"wires":[["b819564c.8306e"]]},{"id":"b819564c.8306e","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur im Wohnzimmer beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":500,"wires":[["c85f4e11.5dc6e"]]},{"id":"7c4831e5.de97d","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/status","x":165,"y":280,"wires":[["2a38175b.00f14","9d844fc5.e63fc","372a4a5.62d0f36","8cbf4b13.c60138","38d698ec.1d219","31eba3e5.623844","70b545d3.9dbb84","2dc1157c.f314fa","a2d3e186.d59cd8","4182bbf8.88d5ec","62e5482b.660858"]]},{"id":"a72dadd6.bdbab","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":1260,"wires":[["33478b39.e6df9c"]]},{"id":"d8e90af2.dd38e","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":1200,"wires":[["5a2d02b3.4b3be4"]]},{"id":"7486af88.bc83","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":320,"y":1140,"wires":[["d640d426.490bd8"]]},{"id":"14174217.87f9fe","type":"chatbot-message","z":"9cd507a9.4544c","name":"schnurrr","message":[{"message":"*schnurrrrr*"}],"answer":false,"track":false,"x":1015,"y":140,"wires":[["203faaa2.ca3b36"]]},{"id":"83ffd1bf.6eba3","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/streicheln","x":505,"y":140,"wires":[["14174217.87f9fe"]]},{"id":"3c03ae63.393da2","type":"mqtt in","z":"9cd507a9.4544c","name":"Wohnzimmer/Temp","topic":"/wz/temp","qos":"0","broker":"2a1fd159.cf2a3e","x":185,"y":1340,"wires":[["d2bcd0e2.6257e8"]]},{"id":"d97e8dbd.e1dd78","type":"mqtt in","z":"9cd507a9.4544c","name":"Wohnzimmer/Humid","topic":"/wz/humid","qos":"0","broker":"2a1fd159.cf2a3e","x":185,"y":1380,"wires":[["32e7c381.37ee44"]]},{"id":"ca506da0.17b328","type":"mqtt in","z":"9cd507a9.4544c","name":"Küche/Temp","topic":"/kueche/temp","qos":"2","broker":"2a1fd159.cf2a3e","x":165,"y":1440,"wires":[["55b587c8.88e7b"]]},{"id":"f7c7fda.433088","type":"mqtt in","z":"9cd507a9.4544c","name":"Bad/Temp","topic":"/bad/temp","qos":"0","broker":"2a1fd159.cf2a3e","x":155,"y":1540,"wires":[["735d99d4.0f56c"]]},{"id":"5406f164.01bb78","type":"mqtt in","z":"9cd507a9.4544c","name":"Bad/Humid","topic":"/bad/humid","qos":"0","broker":"2a1fd159.cf2a3e","x":155,"y":1580,"wires":[["99d4e736.e93808"]]},{"id":"5153c6e9.4a323","type":"mqtt in","z":"9cd507a9.4544c","name":"Schlafzimmer/Temp","topic":"/sz/temp","qos":"2","broker":"2a1fd159.cf2a3e","x":185,"y":1660,"wires":[["8f241140.eaabb"]]},{"id":"b0d04bb0.66aa4","type":"mqtt in","z":"9cd507a9.4544c","name":"Schlafzimmer/Humid","topic":"/sz/humid","qos":"2","broker":"2a1fd159.cf2a3e","x":183.8889058430991,"y":1697.7777777777778,"wires":[["327b3c7.6c738c4"]]},{"id":"d2bcd0e2.6257e8","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":365,"y":1340,"wires":[["78671a1b.cff1d4"]]},{"id":"78671a1b.cff1d4","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Wohnzimmer/Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":575,"y":1340,"wires":[[]]},{"id":"32e7c381.37ee44","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":365,"y":1380,"wires":[["c89a3cb8.e62558"]]},{"id":"c89a3cb8.e62558","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Wohnzimmer/Humid","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":575,"y":1380,"wires":[[]]},{"id":"55b587c8.88e7b","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":365,"y":1440,"wires":[["a72d13d0.88a82"]]},{"id":"a72d13d0.88a82","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Küche/Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":555,"y":1440,"wires":[[]]},{"id":"308f2535.d33fe2","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":365,"y":1480,"wires":[["40a46ea4.56523"]]},{"id":"40a46ea4.56523","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Küche/Humid","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":555,"y":1480,"wires":[[]]},{"id":"735d99d4.0f56c","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":365,"y":1540,"wires":[["f937b207.248d6"]]},{"id":"f937b207.248d6","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Bad/Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":545,"y":1540,"wires":[[]]},{"id":"99d4e736.e93808","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":365,"y":1580,"wires":[["4b2b24df.3ad7f4"]]},{"id":"4b2b24df.3ad7f4","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Bad/Humid","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":545,"y":1580,"wires":[[]]},{"id":"8f241140.eaabb","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":358.3333333333335,"y":1657.7777777777778,"wires":[["f335d3b6.2aca2"]]},{"id":"f335d3b6.2aca2","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Schlafzimmer/Temp","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":568.3333333333335,"y":1657.7777777777778,"wires":[[]]},{"id":"327b3c7.6c738c4","type":"change","z":"9cd507a9.4544c","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":358.3333333333335,"y":1697.7777777777778,"wires":[["2ddd595b.c3ac9e"]]},{"id":"2ddd595b.c3ac9e","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"Schlafzimmer/Humid","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":568.3333333333335,"y":1697.7777777777778,"wires":[[]]},{"id":"5b6c24fa.ada844","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/kueche","x":175,"y":600,"wires":[["e19ecbb2.1cb688","153f085d.fb78b8"]]},{"id":"bcdacb4e.c03a3","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur in der Küche beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":600,"wires":[["c85f4e11.5dc6e"]]},{"id":"e19ecbb2.1cb688","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Küche","rules":[{"t":"set","p":"payload","pt":"msg","to":"K��che/Temp","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":865,"y":600,"wires":[["bcdacb4e.c03a3"]]},{"id":"7beacb3f.961bdc","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Wohnzimmer","rules":[{"t":"set","p":"payload","pt":"msg","to":"Wohnzimmer/Humid","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":885,"y":540,"wires":[["717b14a7.7415c4"]]},{"id":"717b14a7.7415c4","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die relative Luftfeuchtigkeit im Wohnzimmer beträgt \" + msg.payload +\" %.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":540,"wires":[["c85f4e11.5dc6e"]]},{"id":"153f085d.fb78b8","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Küche","rules":[{"t":"set","p":"payload","pt":"msg","to":"Küche/Humid","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":865,"y":640,"wires":[["19cea69f.2b1159"]]},{"id":"19cea69f.2b1159","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die relative Luftfeuchtigkeit in der Küche beträgt \" + msg.payload +\" %.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":640,"wires":[["c85f4e11.5dc6e"]]},{"id":"554c8b43.dbefb4","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/bad","x":165,"y":700,"wires":[["5a6c743a.205c5c","23865084.d9bcf"]]},{"id":"4d96ee2e.90791","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur im Bad beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":700,"wires":[["c85f4e11.5dc6e"]]},{"id":"5a6c743a.205c5c","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Bad","rules":[{"t":"set","p":"payload","pt":"msg","to":"Bad/Temp","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":865,"y":700,"wires":[["4d96ee2e.90791"]]},{"id":"23865084.d9bcf","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Bad","rules":[{"t":"set","p":"payload","pt":"msg","to":"Bad/Humid","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":865,"y":740,"wires":[["eb4d662a.95eca"]]},{"id":"eb4d662a.95eca","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die relative Luftfeuchtigkeit im Bad beträgt \" + msg.payload +\" %.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":740,"wires":[["c85f4e11.5dc6e"]]},{"id":"1d99a257.9c8be6","type":"chatbot-command","z":"9cd507a9.4544c","name":"","command":"/sz","x":165,"y":800,"wires":[["df8bad5e.5c6a","d167ac93.979568"]]},{"id":"5377f77a.4ec8","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Temperatur im Schlafzimmer beträgt \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":800,"wires":[["c85f4e11.5dc6e"]]},{"id":"df8bad5e.5c6a","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Schlafzimmer","rules":[{"t":"set","p":"payload","pt":"msg","to":"Schlafzimmer/Temp","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":895,"y":800,"wires":[["5377f77a.4ec8"]]},{"id":"d167ac93.979568","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Schlafzimmer","rules":[{"t":"set","p":"payload","pt":"msg","to":"Schlafzimmer/Humid","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":895,"y":840,"wires":[["a06d9f82.0925e8"]]},{"id":"a06d9f82.0925e8","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die relative Luftfeuchtigkeit im Schlafzimmer beträgt \" + msg.payload +\" %.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":840,"wires":[["c85f4e11.5dc6e"]]},{"id":"897701e4.42aa","type":"mqtt in","z":"9cd507a9.4544c","name":"Küche/Humid","topic":"/kueche/humid","qos":"2","broker":"2a1fd159.cf2a3e","x":165,"y":1480,"wires":[["308f2535.d33fe2"]]},{"id":"2a38175b.00f14","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"50","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":200,"wires":[["5dc1ed02.d3007c"]]},{"id":"9d844fc5.e63fc","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"100","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":220,"wires":[["6b139a11.23df14"]]},{"id":"372a4a5.62d0f36","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"150","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":240,"wires":[["a9350713.d0b868"]]},{"id":"8cbf4b13.c60138","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"200","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":260,"wires":[["585d944c.f3d0ec"]]},{"id":"38d698ec.1d219","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"250","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":280,"wires":[["7beacb3f.961bdc"]]},{"id":"31eba3e5.623844","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"300","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":300,"wires":[["e19ecbb2.1cb688"]]},{"id":"70b545d3.9dbb84","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"350","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":320,"wires":[["153f085d.fb78b8"]]},{"id":"2dc1157c.f314fa","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"400","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":340,"wires":[["5a6c743a.205c5c"]]},{"id":"a2d3e186.d59cd8","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"450","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":360,"wires":[["23865084.d9bcf"]]},{"id":"4182bbf8.88d5ec","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"500","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":380,"wires":[["df8bad5e.5c6a"]]},{"id":"62e5482b.660858","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"delay","timeout":"550","timeoutUnits":"milliseconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":565,"y":400,"wires":[["d167ac93.979568"]]},{"id":"2adfb731.909ac","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Guten Morgen, draußen sind es \" + msg.payload +\" °C.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1195,"y":960,"wires":[["c85f4e11.5dc6e"]]},{"id":"fb2244c4.5e12a","type":"change","z":"9cd507a9.4544c","name":"set Payload to flow.Außentemperatur","rules":[{"t":"set","p":"payload","pt":"msg","to":"Außen","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":885,"y":960,"wires":[["2adfb731.909ac"]]},{"id":"6a587716.dbe898","type":"delay","z":"9cd507a9.4544c","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"20","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":615,"y":960,"wires":[["fb2244c4.5e12a"]]},{"id":"cce335ec.90701","type":"comment","z":"9cd507a9.4544c","name":"Guten-Morgen-Temperatur","info":"","x":545,"y":900,"wires":[]},{"id":"fccc61b4.caab48","type":"inject","z":"9cd507a9.4544c","name":"GutenMorgen-Msg","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"30 07 * * *","once":false,"x":375,"y":960,"wires":[["6a587716.dbe898"]]},{"id":"34b6ec88.da4604","type":"debug","z":"9cd507a9.4544c","name":"","active":true,"console":"false","complete":"false","x":648,"y":56.666656494140625,"wires":[]},{"id":"d5acf26.b7a301","type":"inject","z":"9cd507a9.4544c","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":1685,"y":380,"wires":[["94f5e86b.2845b8"]]},{"id":"94f5e86b.2845b8","type":"function","z":"9cd507a9.4544c","name":"online-status","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Telegram-Bot ist online. \" + msg.payload} };\nreturn msg;","outputs":1,"noerr":0,"x":1685,"y":340,"wires":[["c85f4e11.5dc6e"]]},{"id":"b34ad1f0.c38348","type":"mqtt in","z":"9cd507a9.4544c","name":"Wohnzimmer/Humid","topic":"/wz/humid","qos":"0","broker":"2a1fd159.cf2a3e","x":185,"y":1920,"wires":[["f4743edc.b52c68"]]},{"id":"70b892ba.9f804c","type":"mqtt in","z":"9cd507a9.4544c","name":"Küche/Humid","topic":"/kueche/humid","qos":"2","broker":"2a1fd159.cf2a3e","x":165,"y":1840,"wires":[["432313d7.45505c"]]},{"id":"a382c891.c8fc6","type":"mqtt in","z":"9cd507a9.4544c","name":"Schlafzimmer/Humid","topic":"/sz/humid","qos":"2","broker":"2a1fd159.cf2a3e","x":185,"y":1960,"wires":[["17d2ea72.a4f1e6"]]},{"id":"8dd4e147.b461b8","type":"mqtt in","z":"9cd507a9.4544c","name":"Bad/Humid","topic":"/bad/humid","qos":"0","broker":"2a1fd159.cf2a3e","x":155,"y":1880,"wires":[["171dc271.785736"]]},{"id":"432313d7.45505c","type":"falling-edge","z":"9cd507a9.4544c","name":"fällt um 8 %","threshold":"8","x":445,"y":1840,"wires":[["6f49b27.47857cc"]]},{"id":"171dc271.785736","type":"falling-edge","z":"9cd507a9.4544c","name":"fällt um 8 %","threshold":"8","x":445,"y":1880,"wires":[["a8101f6c.de6e8"]]},{"id":"f4743edc.b52c68","type":"falling-edge","z":"9cd507a9.4544c","name":"fällt um 8 %","threshold":"8","x":445,"y":1920,"wires":[["d3e2581e.b3508"]]},{"id":"17d2ea72.a4f1e6","type":"falling-edge","z":"9cd507a9.4544c","name":"fällt um 8 %","threshold":"8","x":445,"y":1960,"wires":[["e1fbd7cf.b453b8"]]},{"id":"d6ceb712.ba6f3","type":"function","z":"9cd507a9.4544c","name":"Sende Payload als Nachricht","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : msg.topic +\": gut gelüftet\"} };\nreturn msg;","outputs":1,"noerr":0,"x":935,"y":1900,"wires":[["3c3b15a2.3b3352"]]},{"id":"6f49b27.47857cc","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Küche","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":605,"y":1840,"wires":[["d6ceb712.ba6f3"]]},{"id":"a8101f6c.de6e8","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Bad","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":605,"y":1880,"wires":[["d6ceb712.ba6f3"]]},{"id":"d3e2581e.b3508","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Wohnzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":605,"y":1920,"wires":[["d6ceb712.ba6f3"]]},{"id":"e1fbd7cf.b453b8","type":"change","z":"9cd507a9.4544c","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Schlafzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":605,"y":1960,"wires":[["d6ceb712.ba6f3"]]},{"id":"3c3b15a2.3b3352","type":"chatbot-conversation","z":"9cd507a9.4544c","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1185,"y":1900,"wires":[["259041e.7eff03e"]]},{"id":"259041e.7eff03e","type":"chatbot-telegram-send","z":"9cd507a9.4544c","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":1205,"y":1940,"wires":[]},{"id":"5aa7161.821fb68","type":"mqtt in","z":"42fde7d.75a2f18","name":"Bodentemp","topic":"/keller/temp/28ff8c388a1635a","qos":"2","broker":"66b9cc5c.5ff2d4","x":150,"y":1520,"wires":[["8e5cfb.a4ee1b08","67f9ebdd.a2b1d4","9eef66af.634a7","623f0065.1220d"]]},{"id":"30989ad5.2a4336","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/keller/UV/UV","qos":"0","broker":"66b9cc5c.5ff2d4","x":190,"y":1853.75,"wires":[["516cb884.eb0f88"]]},{"id":"58f70842.204ff8","type":"chatbot-conversation","z":"42fde7d.75a2f18","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1928.75,"y":696.25,"wires":[["5a24cb29.017a6c"]]},{"id":"cd1300c3.ccc2","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/keller/UV/mW","qos":"0","broker":"66b9cc5c.5ff2d4","x":190,"y":1893.75,"wires":[["82febb4c.7a7f68"]]},{"id":"d142bb7b.51ac68","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/keller/UV/index","qos":"0","broker":"66b9cc5c.5ff2d4","x":200,"y":1933.75,"wires":[["2c0834e7.d0ff74"]]},{"id":"67f9ebdd.a2b1d4","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Bodentemperatur","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":941.25,"y":1521.25,"wires":[["e1eeeb58.fcc7b","7bd4b6dc.e18478"]]},{"id":"d4674ab4.9c6f58","type":"comment","z":"42fde7d.75a2f18","name":"UV-Messung","info":"","x":143.75,"y":1810.7499389648438,"wires":[]},{"id":"5a24cb29.017a6c","type":"chatbot-telegram-send","z":"42fde7d.75a2f18","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":2167.3215942382812,"y":697.6786499023438,"wires":[]},{"id":"e1eeeb58.fcc7b","type":"switch","z":"42fde7d.75a2f18","name":"Switch:Temp < 10 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"10","vt":"str"}],"checkall":"false","outputs":1,"x":1188.75,"y":1556.25,"wires":[[]]},{"id":"fbb950e5.08442","type":"function","z":"42fde7d.75a2f18","name":"Achtung! Es ist kalt draußen","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Es friert! \" + msg.payload + \" °C\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1668.75,"y":1596.25,"wires":[["58f70842.204ff8"]]},{"id":"83f39f4a.8172f","type":"mqtt in","z":"42fde7d.75a2f18","name":"Außentemp","topic":"/keller/temp/28ffca9721747","qos":"2","broker":"66b9cc5c.5ff2d4","x":154.5,"y":1662.7500610351562,"wires":[["1d37c9c4.8af116","743a135d.0ff7f4","18d950c7.994797","e8f7080a.f03ea8","413dba8a.bb7774"]]},{"id":"1d37c9c4.8af116","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Außentemperatur","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":941.25,"y":1660,"wires":[["7bd4b6dc.e18478"]]},{"id":"ff7c9e4b.ff00d","type":"mqtt in","z":"42fde7d.75a2f18","name":"Wohnzimmer/Temp","topic":"/wz/temp","qos":"0","broker":"66b9cc5c.5ff2d4","x":178.75,"y":696.25,"wires":[["f2f5dd65.b2a26","7be17f5a.bf77e8","221c3db4.67ec1a"]]},{"id":"c0a30241.1e5288","type":"mqtt in","z":"42fde7d.75a2f18","name":"Wohnzimmer/Humid","topic":"/wz/humid","qos":"0","broker":"66b9cc5c.5ff2d4","x":178.75,"y":736.25,"wires":[["f83db71c.aaa64","c59c01e6.f3f8b","586e3ebe.abcfa8","d4192348.b37708"]]},{"id":"200a1f74.a8b7d8","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/sz/temp","qos":"2","broker":"66b9cc5c.5ff2d4","x":159.16654459635402,"y":1017.2222832573784,"wires":[["94eb580e.3de608","d15c4617.a56988","3ad9b4ef.9fd9d4"]]},{"id":"81dabc15.9003f8","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/sz/humid","qos":"2","broker":"66b9cc5c.5ff2d4","x":158.05545043945312,"y":1055.0000610351562,"wires":[["6b387ee1.b08b9","fd876998.e865","67154afc.b92ddc","654e995b.c15558"]]},{"id":"a64e7ae7.bdb9e8","type":"mqtt in","z":"42fde7d.75a2f18","name":"Keller","topic":"/keller/temp/28ff84ed6117326","qos":"2","broker":"66b9cc5c.5ff2d4","x":144.99981689453125,"y":1320,"wires":[["e23ee1cf.ade318","d659566e.b077a8"]]},{"id":"334f16c5.b15dc2","type":"comment","z":"42fde7d.75a2f18","name":"Garten","info":"","x":123.75,"y":1475,"wires":[]},{"id":"f7cc7eea.efced8","type":"comment","z":"42fde7d.75a2f18","name":"Wohnzimmer","info":"","x":138.75,"y":606.25,"wires":[]},{"id":"67154afc.b92ddc","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Schlafzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":1016.25,"wires":[["cd85315e.3a6de8"]]},{"id":"4b6e4523.5ec2a4","type":"switch","z":"42fde7d.75a2f18","name":"Humid > 72 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"72","vt":"str"}],"checkall":"false","outputs":1,"x":1287.5001220703125,"y":1013.75,"wires":[["8fc767d9.3648b"]]},{"id":"630959e0.3e22f","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Humid","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Luftfeuchte im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" %.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1597.5001220703125,"y":1012.5,"wires":[["58f70842.204ff8"]]},{"id":"cd85315e.3a6de8","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1107.5001220703125,"y":1015,"wires":[["4b6e4523.5ec2a4"]]},{"id":"586e3ebe.abcfa8","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Wohnzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":716.25,"wires":[["a0784ae1.c2553"]]},{"id":"d982cc32.b2a0a8","type":"switch","z":"42fde7d.75a2f18","name":"Humid > 70 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"70","vt":"str"}],"checkall":"false","outputs":1,"x":1283.7501220703125,"y":716.25,"wires":[["e5bebd1c.187c78"]]},{"id":"e0ee34f9.72404","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Humid","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Luftfeuchte im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" %.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1598.75,"y":716.25,"wires":[["58f70842.204ff8"]]},{"id":"a0784ae1.c2553","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1107.5001220703125,"y":716.25,"wires":[["d982cc32.b2a0a8"]]},{"id":"41616906.5ba3f8","type":"comment","z":"42fde7d.75a2f18","name":"Schlafzimmer","info":"","x":143.75,"y":905,"wires":[]},{"id":"adeb1f61.790128","type":"comment","z":"42fde7d.75a2f18","name":"Keller","info":"","x":130,"y":1221.25,"wires":[]},{"id":"ea30cb18.2f0338","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/kueche/temp","qos":"2","broker":"66b9cc5c.5ff2d4","x":178.75,"y":136.25,"wires":[["2d1a4ce2.179454","88dff466.9d0968","2daa5b59.66b02c"]]},{"id":"6f6ab794.91cfb","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/kueche/humid","qos":"2","broker":"66b9cc5c.5ff2d4","x":191.25,"y":197.5,"wires":[["b8169f45.ab516","e9b41cb.f0daf6","3c804f8.5e4f6b","8e263dbd.a549b8"]]},{"id":"d85d0e8d.d8e4c","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/bad/temp","qos":"0","broker":"66b9cc5c.5ff2d4","x":164.99993896484375,"y":428.75,"wires":[["d2fc6a33.cd4ef8","aba007fa.594588","fd9dcf85.2775f8"]]},{"id":"b0add091.6d285","type":"mqtt in","z":"42fde7d.75a2f18","name":"","topic":"/bad/humid","qos":"0","broker":"66b9cc5c.5ff2d4","x":164.99993896484375,"y":468.75,"wires":[["13df6221.27816e","a9412b3e.7e49c","ee28421d.5005a","80e1dd5b.d86e78"]]},{"id":"ee28421d.5005a","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Bad","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":436.25,"wires":[["2c4afb45.bf6794"]]},{"id":"d779a396.3d9f28","type":"switch","z":"42fde7d.75a2f18","name":"Humid > 80 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"80","vt":"str"}],"checkall":"false","outputs":1,"x":1288.7501220703125,"y":432.5,"wires":[["97edc369.6e97d"]]},{"id":"eafa2b7f.57ce98","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Humid","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Luftfeuchte im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" %.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1598.75,"y":433.75,"wires":[["58f70842.204ff8"]]},{"id":"2c4afb45.bf6794","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1110.0001220703125,"y":435,"wires":[["d779a396.3d9f28"]]},{"id":"3c804f8.5e4f6b","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Küche","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":156.25,"wires":[["ec960e1b.582b68"]]},{"id":"3528d9c8.0234be","type":"switch","z":"42fde7d.75a2f18","name":"Humid > 70 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"70","vt":"str"}],"checkall":"false","repair":false,"outputs":1,"x":1288.7501220703125,"y":155,"wires":[["841c295d.0dfa2"]]},{"id":"bd613941.d7af6","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Humid","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Luftfeuchte in der \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" %.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1598.75,"y":156.25,"wires":[["58f70842.204ff8"]]},{"id":"ec960e1b.582b68","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1108.7501220703125,"y":156.25,"wires":[["3528d9c8.0234be"]]},{"id":"cdaee872.fb6568","type":"comment","z":"42fde7d.75a2f18","name":"Küche","info":"","x":128.75006103515625,"y":56.25,"wires":[]},{"id":"f55e55f6.4dba18","type":"comment","z":"42fde7d.75a2f18","name":"Bad","info":"","x":128.75006103515625,"y":335,"wires":[]},{"id":"ffc57253.b30928","type":"comment","z":"42fde7d.75a2f18","name":"Alarm","info":"","x":918.75,"y":56.25,"wires":[]},{"id":"e9b41cb.f0daf6","type":"smooth","z":"42fde7d.75a2f18","name":"","action":"max","count":"1000","round":"2","mult":"single","x":348.75,"y":278.75,"wires":[["f78faff6.026d8"]]},{"id":"a9412b3e.7e49c","type":"smooth","z":"42fde7d.75a2f18","name":"","action":"max","count":"1000","round":"2","mult":"single","x":328.75,"y":536.25,"wires":[["300743fc.6ccd3c"]]},{"id":"c59c01e6.f3f8b","type":"smooth","z":"42fde7d.75a2f18","name":"","action":"max","count":"1000","round":"2","mult":"single","x":303.75,"y":823.75,"wires":[["3bd8451c.118442"]]},{"id":"fd876998.e865","type":"smooth","z":"42fde7d.75a2f18","name":"max","action":"max","count":"1000","round":"2","mult":"single","x":298.75,"y":1096.25,"wires":[["d385627.4259c2"]]},{"id":"2daa5b59.66b02c","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Küche","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":116.25,"wires":[["825c2e7f.cdbf98"]]},{"id":"7e377283.a2b7d4","type":"switch","z":"42fde7d.75a2f18","name":"Temp < 17 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"17","vt":"str"}],"checkall":"false","outputs":1,"x":1288.7501220703125,"y":115,"wires":[["c6dabc33.f3cd68"]]},{"id":"bc68cbfd.a2b848","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Temp","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Temperatur in der \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" °C.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1588.75,"y":116.25,"wires":[["58f70842.204ff8"]]},{"id":"825c2e7f.cdbf98","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1108.7501220703125,"y":116.25,"wires":[["7e377283.a2b7d4"]]},{"id":"c6dabc33.f3cd68","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":116.25,"wires":[["bc68cbfd.a2b848"]]},{"id":"841c295d.0dfa2","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.7499389648438,"y":157.5,"wires":[["bd613941.d7af6"]]},{"id":"97edc369.6e97d","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1440,"y":433.75,"wires":[["eafa2b7f.57ce98"]]},{"id":"e5bebd1c.187c78","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":716.25,"wires":[["e0ee34f9.72404"]]},{"id":"8fc767d9.3648b","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.7501220703125,"y":1012.5,"wires":[["630959e0.3e22f"]]},{"id":"fd9dcf85.2775f8","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Bad","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":396.25,"wires":[["69cd637.cffa21c"]]},{"id":"844b0256.72387","type":"switch","z":"42fde7d.75a2f18","name":"Temp < 17 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"17","vt":"str"}],"checkall":"false","outputs":1,"x":1288.7501220703125,"y":395,"wires":[["c05dc8b.1da83b8"]]},{"id":"b977cf66.c7c28","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Temp","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Temperatur im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" °C.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1588.75,"y":396.25,"wires":[["58f70842.204ff8"]]},{"id":"69cd637.cffa21c","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1108.7501220703125,"y":396.25,"wires":[["844b0256.72387"]]},{"id":"c05dc8b.1da83b8","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":396.25,"wires":[["b977cf66.c7c28"]]},{"id":"221c3db4.67ec1a","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Wohnzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":676.25,"wires":[["17b0b1ee.74a56e"]]},{"id":"4f51b39f.19d3d4","type":"switch","z":"42fde7d.75a2f18","name":"Temp < 17 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"17","vt":"str"}],"checkall":"false","outputs":1,"x":1282.5001220703125,"y":675,"wires":[["5c3ecd74.9108ac"]]},{"id":"b7734fe7.503f98","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Temp","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Temperatur im \"+ msg.topic + \" betr��gt momentan \" + msg.payload + \" °C.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1588.75,"y":676.25,"wires":[["58f70842.204ff8"]]},{"id":"17b0b1ee.74a56e","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1107.5001220703125,"y":676.25,"wires":[["4f51b39f.19d3d4"]]},{"id":"5c3ecd74.9108ac","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":676.25,"wires":[["b7734fe7.503f98"]]},{"id":"3ad9b4ef.9fd9d4","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Schlafzimmer","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":938.75,"y":976.25,"wires":[["b9297dec.7dfa08"]]},{"id":"9669b4ef.ebed98","type":"switch","z":"42fde7d.75a2f18","name":"Temp < 17°C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"17","vt":"str"}],"checkall":"false","outputs":1,"x":1278.7501220703125,"y":975,"wires":[["751351b3.9d6448"]]},{"id":"d486cee0.92f23","type":"function","z":"42fde7d.75a2f18","name":"Nachricht: Temp","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Temperatur im \"+ msg.topic + \" beträgt momentan \" + msg.payload + \" °C.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1588.75,"y":976.25,"wires":[["58f70842.204ff8"]]},{"id":"b9297dec.7dfa08","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"30","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1108.7501220703125,"y":976.25,"wires":[["9669b4ef.ebed98"]]},{"id":"751351b3.9d6448","type":"change","z":"42fde7d.75a2f18","name":". to ,","rules":[{"t":"change","p":"payload","pt":"msg","from":".","fromt":"str","to":",","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":1438.75,"y":976.25,"wires":[["d486cee0.92f23"]]},{"id":"e23ee1cf.ade318","type":"smooth","z":"42fde7d.75a2f18","name":"min","action":"min","count":"1000","round":"2","mult":"single","x":363.75,"y":1360,"wires":[["617ac155.f71f98"]]},{"id":"18d950c7.994797","type":"smooth","z":"42fde7d.75a2f18","name":"min","action":"min","count":"1000","round":"2","mult":"single","x":457.5000305175781,"y":1716.25,"wires":[["3fe24276.853a6e"]]},{"id":"9eef66af.634a7","type":"smooth","z":"42fde7d.75a2f18","name":"min","action":"min","count":"1000","round":"2","mult":"single","x":451.25,"y":1520,"wires":[["35ab22f2.786386"]]},{"id":"623f0065.1220d","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Bodentemperatur","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":346.25,"y":1576.25,"wires":[["968d8659.b61098"]]},{"id":"e8f7080a.f03ea8","type":"change","z":"42fde7d.75a2f18","name":"","rules":[{"t":"set","p":"topic","pt":"msg","to":"Außentemperatur","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":346.25,"y":1607.5,"wires":[["968d8659.b61098"]]},{"id":"76821992.59109","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"2","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1428.75,"y":1576.25,"wires":[["fbb950e5.08442"]]},{"id":"7bd4b6dc.e18478","type":"switch","z":"42fde7d.75a2f18","name":"Switch:Temp < 0 °C","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"0","vt":"str"}],"checkall":"false","outputs":1,"x":1178.75,"y":1616.25,"wires":[["2e1bc9df.15f1ae"]]},{"id":"2e1bc9df.15f1ae","type":"delay","z":"42fde7d.75a2f18","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"2","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1428.75,"y":1616.25,"wires":[["fbb950e5.08442"]]},{"id":"5ef27ae8.ce1c34","type":"inject","z":"42fde7d.75a2f18","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":2005.75,"y":814.25,"wires":[["187a26a.43694d9"]]},{"id":"187a26a.43694d9","type":"function","z":"42fde7d.75a2f18","name":"online","func":"var msg1 = {\"topic\": msg.topic,\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Sensoren sind online. \" + msg.payload} };\nreturn msg1;","outputs":1,"noerr":0,"x":1991.416748046875,"y":770.25,"wires":[["58f70842.204ff8"]]},{"id":"2c0834e7.d0ff74","type":"ui_text","z":"42fde7d.75a2f18","group":"e555285.1c8e358","order":3,"width":0,"height":0,"name":"","label":"UV-Index:","format":"{{msg.payload}}","layout":"row-right","x":602,"y":1937.75,"wires":[]},{"id":"92bda1f6.0644d","type":"ui_text","z":"42fde7d.75a2f18","group":"e93d59b4.f58ac8","order":6,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 16-18 °C <br>  rel. Feuchte = 40-60 % ","format":"","layout":"row-spread","x":298.75,"y":936.25,"wires":[]},{"id":"b9f52fa6.334cb","type":"ui_text","z":"42fde7d.75a2f18","group":"1ab9bfc7.7bfb28","order":6,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 20 °C <br>  rel. Feuchte = 40-60 % ","format":"","layout":"row-spread","x":292.5,"y":641.25,"wires":[]},{"id":"2eed62e9.f710a6","type":"ui_text","z":"42fde7d.75a2f18","group":"9a0e3fbc.18ce58","order":0,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 10-15 °C <br>  rel. Feuchte = 50-65 % ","format":"","layout":"row-spread","x":304.9998779296875,"y":1258.75,"wires":[]},{"id":"443fbcbb.019bc4","type":"ui_text","z":"42fde7d.75a2f18","group":"d3e06eca.53a038","order":6,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 18 °C <br>  rel. Feuchte = 40-60 % ","format":"","layout":"row-spread","x":301.24993896484375,"y":91.25,"wires":[]},{"id":"9868dba3.ddd35","type":"ui_text","z":"42fde7d.75a2f18","group":"1811bcb3.2dacfb","order":6,"width":"6","height":"2","name":"","label":"Optimal: <br> T = 23 °C <br>  rel. Feuchte = 50-70 % ","format":"","layout":"row-spread","x":303.74993896484375,"y":368.75,"wires":[]},{"id":"f78faff6.026d8","type":"ui_text","z":"42fde7d.75a2f18","group":"d3e06eca.53a038","order":3,"width":0,"height":0,"name":"","label":"max. gemessene Luftfeuchte","format":"{{msg.payload}} %","layout":"row-left","x":650.6943969726562,"y":279.4444580078125,"wires":[]},{"id":"300743fc.6ccd3c","type":"ui_text","z":"42fde7d.75a2f18","group":"1811bcb3.2dacfb","order":3,"width":0,"height":0,"name":"","label":"max. gemessene Luftfeuchte","format":"{{msg.payload}} %","layout":"row-left","x":648.75,"y":576.25,"wires":[]},{"id":"3bd8451c.118442","type":"ui_text","z":"42fde7d.75a2f18","group":"1ab9bfc7.7bfb28","order":3,"width":0,"height":0,"name":"","label":"max. gemessene Luftfeuchte","format":"{{msg.payload}} %","layout":"row-left","x":643.75,"y":843.75,"wires":[]},{"id":"d385627.4259c2","type":"ui_text","z":"42fde7d.75a2f18","group":"e93d59b4.f58ac8","order":3,"width":0,"height":0,"name":"","label":"max. gemessene Luftfeuchte","format":"{{msg.payload}} %","layout":"row-left","x":648.75,"y":1136.25,"wires":[]},{"id":"617ac155.f71f98","type":"ui_text","z":"42fde7d.75a2f18","group":"9a0e3fbc.18ce58","order":0,"width":0,"height":0,"name":"","label":"tiefste Temperatur: ","format":"{{msg.payload}} °C","layout":"row-left","x":616.9443969726562,"y":1359.4444580078125,"wires":[]},{"id":"3fe24276.853a6e","type":"ui_text","z":"42fde7d.75a2f18","group":"20b3b7f8.c09358","order":3,"width":0,"height":0,"name":"","label":"tiefste Temperatur: ","format":"{{msg.payload}} °C","layout":"row-left","x":610.6944274902344,"y":1716.9443969726562,"wires":[]},{"id":"35ab22f2.786386","type":"ui_text","z":"42fde7d.75a2f18","group":"b30c1ef9.c856","order":3,"width":0,"height":0,"name":"","label":"tiefste Temperatur: ","format":"{{msg.payload}} °C","layout":"row-left","x":614.4444274902344,"y":1520.6943969726562,"wires":[]},{"id":"516cb884.eb0f88","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"e555285.1c8e358","order":1,"width":0,"height":0,"label":"UV","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":592,"y":1857.75,"wires":[[],[]]},{"id":"82febb4c.7a7f68","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"e555285.1c8e358","order":2,"width":0,"height":0,"label":"mW","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":592,"y":1897.75,"wires":[[],[]]},{"id":"f2f5dd65.b2a26","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"1ab9bfc7.7bfb28","order":1,"width":0,"height":0,"label":"Temperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff9595","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":593.75,"y":683.75,"wires":[[],[]]},{"id":"d4192348.b37708","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"1ab9bfc7.7bfb28","order":2,"width":0,"height":0,"label":"relative Luftfeuchte","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":613.75,"y":763.75,"wires":[[],[]]},{"id":"94eb580e.3de608","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"e93d59b4.f58ac8","order":1,"width":0,"height":0,"label":"Temperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff9595","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":598.75,"y":976.25,"wires":[[],[]]},{"id":"654e995b.c15558","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"e93d59b4.f58ac8","order":2,"width":0,"height":0,"label":"relative Luftfeuchte","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":618.75,"y":1056.25,"wires":[[],[]]},{"id":"d659566e.b077a8","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"9a0e3fbc.18ce58","order":1,"width":0,"height":0,"label":"Keller","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":576.2498168945312,"y":1317.5,"wires":[[],[]]},{"id":"2d1a4ce2.179454","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"d3e06eca.53a038","order":1,"width":0,"height":0,"label":"Temperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff9595","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":598.75,"y":116.25,"wires":[[],[]]},{"id":"8e263dbd.a549b8","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"d3e06eca.53a038","order":2,"width":0,"height":0,"label":"relative Luftfeuchte","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":620.6943969726562,"y":199.4444580078125,"wires":[[],[]]},{"id":"d2fc6a33.cd4ef8","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"1811bcb3.2dacfb","order":1,"width":0,"height":0,"label":"Temperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#ff9595","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":598.75,"y":416.25,"wires":[[],[]]},{"id":"80e1dd5b.d86e78","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"1811bcb3.2dacfb","order":2,"width":0,"height":0,"label":"relative Luftfeuchte","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":618.75,"y":496.25,"wires":[[],[]]},{"id":"968d8659.b61098","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"b30c1ef9.c856","order":1,"width":"0","height":"0","label":"Boden- und Außentemperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#aec7e8","#27b62b","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":650,"y":1590,"wires":[[],[]]},{"id":"413dba8a.bb7774","type":"ui_chart","z":"42fde7d.75a2f18","name":"","group":"20b3b7f8.c09358","order":1,"width":0,"height":0,"label":"Außentemperatur","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"86400","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":611.25,"y":1642.5,"wires":[[],[]]},{"id":"8e5cfb.a4ee1b08","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"b30c1ef9.c856","order":2,"width":0,"height":0,"gtype":"gage","title":"Bodentemperatur","label":"","format":"{{value}} °C","min":"-10","max":"30","colors":["#3342ff","#0ce600","#ca3838"],"seg1":"10","seg2":"20","x":614.4999389648438,"y":1487.2500610351562,"wires":[]},{"id":"7be17f5a.bf77e8","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"1ab9bfc7.7bfb28","order":4,"width":"3","height":"3","gtype":"gage","title":"Temperatur","label":"","format":"{{value}} °C","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"22","seg2":"25","x":593.75,"y":723.75,"wires":[]},{"id":"f83db71c.aaa64","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"1ab9bfc7.7bfb28","order":5,"width":"3","height":"3","gtype":"gage","title":"rel. Luftfeuchte","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"65","seg2":"75","x":603.75,"y":803.75,"wires":[]},{"id":"d15c4617.a56988","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"e93d59b4.f58ac8","order":4,"width":"3","height":"3","gtype":"gage","title":"Temperatur","label":"","format":"{{value}} °C","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"22","seg2":"25","x":598.75,"y":1016.25,"wires":[]},{"id":"6b387ee1.b08b9","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"e93d59b4.f58ac8","order":5,"width":"3","height":"3","gtype":"gage","title":"rel. Luftfeuchte","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"65","seg2":"75","x":608.75,"y":1096.25,"wires":[]},{"id":"88dff466.9d0968","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"d3e06eca.53a038","order":4,"width":"3","height":"3","gtype":"gage","title":"Temperatur","label":"","format":"{{value}} °C","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"22","seg2":"25","x":600.6943969726562,"y":159.4444580078125,"wires":[]},{"id":"b8169f45.ab516","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"d3e06eca.53a038","order":5,"width":"3","height":"3","gtype":"gage","title":"rel. Luftfeuchte","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"65","seg2":"75","x":610.6943969726562,"y":239.4444580078125,"wires":[]},{"id":"aba007fa.594588","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"1811bcb3.2dacfb","order":4,"width":"3","height":"3","gtype":"gage","title":"Temperatur","label":"","format":"{{value}} °C","min":0,"max":"30","colors":["#00b500","#e6e600","#ca3838"],"seg1":"24","seg2":"26","x":598.75,"y":456.25,"wires":[]},{"id":"13df6221.27816e","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"1811bcb3.2dacfb","order":5,"width":"3","height":"3","gtype":"gage","title":"rel. Luftfeuchte","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"70","seg2":"80","x":608.75,"y":536.25,"wires":[]},{"id":"743a135d.0ff7f4","type":"ui_gauge","z":"42fde7d.75a2f18","name":"","group":"20b3b7f8.c09358","order":2,"width":0,"height":0,"gtype":"gage","title":"Außentemperatur","label":"","format":"{{value}} °C","min":"-10","max":"30","colors":["#3e1cff","#2dbc29","#ca3838"],"seg1":"10","seg2":"20","x":611.25,"y":1682.5,"wires":[]},{"id":"a98e28b7.db9118","type":"chatbot-telegram-receive","z":"319e799e.4970d6","bot":"45531229.75243c","botProduction":"45531229.75243c","x":150,"y":60,"wires":[["2f22dfbb.8fb18","2ab0299b.22e676"]]},{"id":"5cc9f94c.d5d338","type":"chatbot-telegram-send","z":"319e799e.4970d6","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":1390,"y":60,"wires":[]},{"id":"172ac3a7.f79d9c","type":"function","z":"319e799e.4970d6","name":"convert Text input","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : msg.payload} };\nreturn msg;","outputs":1,"noerr":0,"x":890,"y":60,"wires":[["e630a39a.863b58"]]},{"id":"e630a39a.863b58","type":"chatbot-conversation","z":"319e799e.4970d6","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1190,"y":60,"wires":[["5cc9f94c.d5d338"]]},{"id":"2f22dfbb.8fb18","type":"chatbot-command","z":"319e799e.4970d6","name":"","command":"/kippe","x":270,"y":280,"wires":[["8fd129fb.0d88c","eec93b20.ce36a"]]},{"id":"1a243aa7.a639bd","type":"function","z":"319e799e.4970d6","name":"sendet Kippenanzahl","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Du hast heute schon \" + msg.payload +\" Zigaretten geraucht.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":260,"wires":[["e630a39a.863b58"]]},{"id":"ca315871.953cb","type":"function","z":"319e799e.4970d6","name":"sendet Kippenintervall","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Vor \" + msg.payload +\" war deine letzte.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1260,"y":400,"wires":[["e630a39a.863b58"]]},{"id":"5118b183.db204","type":"function","z":"319e799e.4970d6","name":"sendet Bieranzahl","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Du hast heute schon \" + msg.payload +\" Bier getrunken.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1250,"y":600,"wires":[["e630a39a.863b58"]]},{"id":"bf8d820e.e2e2e8","type":"function","z":"319e799e.4970d6","name":"sendet Bierintervall","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Vor \" + msg.payload +\" war dein letztes.\"} };\nreturn msg;","outputs":1,"noerr":0,"x":1250,"y":740,"wires":[["e630a39a.863b58"]]},{"id":"2ab0299b.22e676","type":"chatbot-command","z":"319e799e.4970d6","name":"","command":"/bier","x":260,"y":620,"wires":[["73e8edf8.51ea94","b331444d.3cdc48"]]},{"id":"73e8edf8.51ea94","type":"function","z":"319e799e.4970d6","name":"+ 1","func":"msg.increment = 1;\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":620,"wires":[["5c6d479b.daa01"]]},{"id":"58db668b.db84","type":"function","z":"319e799e.4970d6","name":"reset","func":"msg.reset = true;\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":700,"wires":[["5c6d479b.daa01"]]},{"id":"e8489e0b.f8ce98","type":"function","z":"319e799e.4970d6","name":"- 1","func":"msg.decrement = 1;\nreturn msg;","outputs":1,"noerr":0,"x":570,"y":660,"wires":[["5c6d479b.daa01"]]},{"id":"5c6d479b.daa01","type":"counter","z":"319e799e.4970d6","name":"","init":"0","step":1,"lower":"","upper":"","mode":"increment","outputs":"1","x":780,"y":640,"wires":[["77472869.edfef"]]},{"id":"77472869.edfef","type":"change","z":"319e799e.4970d6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"count","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":800,"y":680,"wires":[["c841f842.89d1e8","5748c0fc.7b4e38","5118b183.db204"]]},{"id":"eec93b20.ce36a","type":"function","z":"319e799e.4970d6","name":"+ 1","func":"msg.increment = 1;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":280,"wires":[["9f0949c3.5f7088"]]},{"id":"c46f60c0.e34528","type":"function","z":"319e799e.4970d6","name":"reset","func":"msg.reset = true;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":360,"wires":[["9f0949c3.5f7088"]]},{"id":"c67342b7.1eaff","type":"function","z":"319e799e.4970d6","name":"- 1","func":"msg.decrement = 1;\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":320,"wires":[["9f0949c3.5f7088"]]},{"id":"9f0949c3.5f7088","type":"counter","z":"319e799e.4970d6","name":"","init":"0","step":1,"lower":"","upper":"","mode":"increment","outputs":"1","x":760,"y":300,"wires":[["3e078081.7684b"]]},{"id":"3e078081.7684b","type":"change","z":"319e799e.4970d6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"count","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":780,"y":340,"wires":[["1befb16e.00fbef","5826a816.5d49e","1a243aa7.a639bd"]]},{"id":"bb5c6b5f.834d","type":"inject","z":"319e799e.4970d6","name":"reset um 04:30 Uhr","topic":"reset","payload":"","payloadType":"date","repeat":"","crontab":"30 04 * * *","once":false,"onceDelay":0.1,"x":340,"y":480,"wires":[["c46f60c0.e34528"]]},{"id":"c19e315c.bb1438","type":"inject","z":"319e799e.4970d6","name":"reset um 04:30 Uhr","topic":"reset","payload":"","payloadType":"date","repeat":"","crontab":"30 04 * * *","once":false,"onceDelay":0.1,"x":360,"y":820,"wires":[["58db668b.db84"]]},{"id":"d6c86312.ee3088","type":"persist in","z":"319e799e.4970d6","name":"Kippen","storageNode":"c09a3757.192e68","x":1280,"y":300,"wires":[]},{"id":"c1e82233.1a8778","type":"persist out","z":"319e799e.4970d6","name":"Kippen","storageNode":"c09a3757.192e68","x":980,"y":260,"wires":[["5826a816.5d49e"]]},{"id":"645ae80b.7d245","type":"persist in","z":"319e799e.4970d6","name":"Bier","storageNode":"64cca9da.899d5","x":1270,"y":640,"wires":[]},{"id":"cce8a6d0.2002e8","type":"persist out","z":"319e799e.4970d6","name":"Bier","storageNode":"64cca9da.899d5","x":970,"y":600,"wires":[["5748c0fc.7b4e38"]]},{"id":"6d97335e.dbed54","type":"inject","z":"319e799e.4970d6","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":280,"y":320,"wires":[["c67342b7.1eaff"]]},{"id":"614d78f.2bb3508","type":"inject","z":"319e799e.4970d6","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":240,"y":660,"wires":[["e8489e0b.f8ce98"]]},{"id":"eb14ebbd.34e228","type":"change","z":"319e799e.4970d6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Nachricht gesendet","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":680,"y":100,"wires":[["c2df13f7.857698"]]},{"id":"3d8eeb6a.87c054","type":"ui_button","z":"319e799e.4970d6","name":"","group":"3048233c.060214","order":4,"width":0,"height":0,"passthru":false,"label":"Nächste Kippe","color":"","bgcolor":"","icon":"smoke_rooms","payload":"1 Kippe geraucht","payloadType":"str","topic":"","x":240,"y":400,"wires":[["8fd129fb.0d88c","eec93b20.ce36a","3502b487.c0e50c","9413adc0.89d3d8"]]},{"id":"f0e30be2.07e3e","type":"ui_button","z":"319e799e.4970d6","name":"","group":"3048233c.060214","order":0,"width":"0","height":"0","passthru":false,"label":"Reset","color":"","bgcolor":"","icon":"fa-refresh","payload":"Counter resetted","payloadType":"str","topic":"","x":270,"y":360,"wires":[["c46f60c0.e34528","5d352384.8676dc"]]},{"id":"e19de207.a73c08","type":"ui_button","z":"319e799e.4970d6","name":"","group":"80ddcf8c.c82f","order":4,"width":0,"height":0,"passthru":false,"label":"Nächstes Bier","color":"","bgcolor":"","icon":"fa-beer","payload":"1 Bier getrunken","payloadType":"str","topic":"","x":220,"y":740,"wires":[["b331444d.3cdc48","73e8edf8.51ea94","a94409c.bcbaa78","7fc325d3.143abc"]]},{"id":"ffaab002.b2753","type":"ui_button","z":"319e799e.4970d6","name":"","group":"80ddcf8c.c82f","order":0,"width":"0","height":"0","passthru":false,"label":"Reset","color":"","bgcolor":"","icon":"fa-refresh","payload":"resetted","payloadType":"str","topic":"","x":250,"y":700,"wires":[["58db668b.db84","de5e5dad.20587"]]},{"id":"195c6918.8e06a7","type":"ui_text_input","z":"319e799e.4970d6","name":"UI-Text input","label":"Jonas mit Text nerven:","group":"b43c6e3e.aa4638","order":3,"width":0,"height":0,"passthru":true,"mode":"text","delay":"0","topic":"","x":690,"y":60,"wires":[["172ac3a7.f79d9c","eb14ebbd.34e228","23af39eb.37fc06"]]},{"id":"1befb16e.00fbef","type":"ui_text","z":"319e799e.4970d6","group":"3048233c.060214","order":2,"width":0,"height":0,"name":"","label":"Kippen: ","format":"{{msg.payload}}","layout":"row-left","x":1000,"y":340,"wires":[]},{"id":"abae6cbd.aff8f","type":"ui_text","z":"319e799e.4970d6","group":"3048233c.060214","order":3,"width":0,"height":0,"name":"","label":"Letzte Kippe vor ","format":"{{msg.payload}}","layout":"row-left","x":1020,"y":400,"wires":[]},{"id":"c841f842.89d1e8","type":"ui_text","z":"319e799e.4970d6","group":"80ddcf8c.c82f","order":2,"width":0,"height":0,"name":"","label":"Bier: ","format":"{{msg.payload}}","layout":"row-left","x":1010,"y":680,"wires":[]},{"id":"bbd7ed6c.d6917","type":"ui_text","z":"319e799e.4970d6","group":"80ddcf8c.c82f","order":3,"width":0,"height":0,"name":"","label":"Letztes Bier vor ","format":"{{msg.payload}}","layout":"row-left","x":1040,"y":740,"wires":[]},{"id":"5826a816.5d49e","type":"ui_chart","z":"319e799e.4970d6","name":"","group":"3048233c.060214","order":1,"width":0,"height":0,"label":"Kippen per day in a week","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"keine Daten","dot":true,"ymin":"0","ymax":"","removeOlder":"1","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1050,"y":300,"wires":[["d6c86312.ee3088"],[]]},{"id":"5748c0fc.7b4e38","type":"ui_chart","z":"319e799e.4970d6","name":"","group":"80ddcf8c.c82f","order":1,"width":0,"height":0,"label":"Bier per day in 12 weeks","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"keine Daten","dot":true,"ymin":"0","ymax":"","removeOlder":"12","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1070,"y":640,"wires":[["645ae80b.7d245"],[]]},{"id":"a94409c.bcbaa78","type":"ui_toast","z":"319e799e.4970d6","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"1 Bier getrunken","x":220,"y":780,"wires":[]},{"id":"3502b487.c0e50c","type":"ui_toast","z":"319e799e.4970d6","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"1 Kippe geraucht","x":230,"y":440,"wires":[]},{"id":"5d352384.8676dc","type":"ui_toast","z":"319e799e.4970d6","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Counter resetted","x":250,"y":440,"wires":[]},{"id":"de5e5dad.20587","type":"ui_toast","z":"319e799e.4970d6","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"","x":240,"y":780,"wires":[]},{"id":"c2df13f7.857698","type":"ui_toast","z":"319e799e.4970d6","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Nachricht gesendet","x":870,"y":100,"wires":[]},{"id":"8fd129fb.0d88c","type":"interval-length","z":"319e799e.4970d6","format":"human","bytopic":false,"minimum":"","maximum":"","window":"","timeout":false,"minimumunit":"msecs","maximumunit":"msecs","windowunit":"msecs","startup":false,"name":"","x":780,"y":400,"wires":[["ca315871.953cb","abae6cbd.aff8f"]]},{"id":"b331444d.3cdc48","type":"interval-length","z":"319e799e.4970d6","format":"human","bytopic":false,"minimum":"","maximum":"","window":"","timeout":false,"minimumunit":"msecs","maximumunit":"msecs","windowunit":"msecs","startup":false,"name":"","x":800,"y":740,"wires":[["bf8d820e.e2e2e8","bbd7ed6c.d6917"]]},{"id":"23af39eb.37fc06","type":"ui_audio","z":"319e799e.4970d6","name":"","group":"b43c6e3e.aa4638","voice":"de-DE","always":"","x":840,"y":140,"wires":[]},{"id":"967a4dda.7ee84","type":"ui_audio","z":"319e799e.4970d6","name":"","group":"80ddcf8c.c82f","voice":"de-DE","always":true,"x":240,"y":880,"wires":[]},{"id":"7fc325d3.143abc","type":"change","z":"319e799e.4970d6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Du Saufnase!","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":160,"y":820,"wires":[["967a4dda.7ee84"]]},{"id":"faa64f0f.62e8d","type":"ui_audio","z":"319e799e.4970d6","name":"","group":"3048233c.060214","voice":"de-DE","always":true,"x":600,"y":480,"wires":[]},{"id":"9413adc0.89d3d8","type":"change","z":"319e799e.4970d6","name":"","rules":[{"t":"set","p":"payload","pt":"msg","to":"Rauch' nicht so viel!","tot":"str"}],"action":"","property":"","from":"","to":"","reg":false,"x":580,"y":440,"wires":[["faa64f0f.62e8d"]]},{"id":"dee83340.6e2898","type":"mqtt in","z":"66429749.2b2058","name":"Außentemp","topic":"/keller/temp/28ffca9721747","qos":"2","broker":"a52cffb7.10b39","x":190,"y":140,"wires":[["e3d43081.fdf47"]]},{"id":"aa021fad.6eb558","type":"persist in","z":"66429749.2b2058","name":"Außentemp","storageNode":"db74e31a.876e08","x":951.8333282470703,"y":142.83333587646484,"wires":[]},{"id":"abf4a665.829f7","type":"persist out","z":"66429749.2b2058","name":"Außentemp","storageNode":"db74e31a.876e08","x":471.8333282470703,"y":82.83333587646484,"wires":[["e3d43081.fdf47"]]},{"id":"26c6bd68.b6258a","type":"mqtt in","z":"66429749.2b2058","name":"Bodentemp","topic":"/keller/temp/28ff8c388a1635a","qos":"2","broker":"a52cffb7.10b39","x":191.8333282470703,"y":222.83333587646484,"wires":[["3291d777.8112d8"]]},{"id":"b1c3183.21a48e8","type":"persist in","z":"66429749.2b2058","name":"Bodentemp","storageNode":"20de874a.301c5","x":951.8333282470703,"y":222.83333587646484,"wires":[]},{"id":"314f4fd6.fc5a98","type":"persist out","z":"66429749.2b2058","name":"Bodentemp","storageNode":"20de874a.301c5","x":471.8333282470703,"y":282.83333587646484,"wires":[["3291d777.8112d8"]]},{"id":"e5b41d97.2fae2","type":"comment","z":"66429749.2b2058","name":"disabled, weil Website zu langsam","info":"","x":871.8333282470703,"y":62.833335876464844,"wires":[]},{"id":"e3d43081.fdf47","type":"ui_chart","z":"66429749.2b2058","name":"","group":"b764fe0c.67683","order":1,"width":"0","height":"0","label":"Außentemperatur: 6 Monate","chartType":"line","legend":"false","xformat":"auto","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":661.8333282470703,"y":142.83333587646484,"wires":[["aa021fad.6eb558"],[]]},{"id":"3291d777.8112d8","type":"ui_chart","z":"66429749.2b2058","name":"","group":"f36484db.bc7d78","order":1,"width":"0","height":"0","label":"Bodentemperatur: 6 Monate","chartType":"line","legend":"false","xformat":"dd HH:mm","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#aec7e8","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":661.8333282470703,"y":222.83333587646484,"wires":[["b1c3183.21a48e8"],[]]},{"id":"d477bf55.45e3c","type":"mqtt in","z":"a6b6df9b.b30b08","name":"Außentemp","topic":"/keller/temp/28ffca9721747","qos":"2","broker":"ae62bedc.7fc4a","x":190,"y":200,"wires":[["f16b6bfd.be0f78","e90d24a9.9969f"]]},{"id":"f5afcc54.37929","type":"http request","z":"a6b6df9b.b30b08","name":"","method":"GET","url":"https://docs.google.com/forms/d/e/1FAIpQLSeTRGyz6_9BH8iho8E065MWHGQNCzRutZUUjgMDW4ByMO_7XQ/formResponse?entry.578420309={{payload}}","tls":"","x":685,"y":199,"wires":[[]]},{"id":"643c3002.abf238","type":"comment","z":"a6b6df9b.b30b08","name":"Google-Daten","info":"https://docs.google.com/forms/d/e/1FAIpQLSe3cOoDqNwfl7ZYAc6vCDZkUSii6ULnF4TSMHgwTC5moEoZXQ/viewform?usp=sf_link\n\nTemperatur\n540525783\n\nHOW TO\nhttps://www.open-electronics.org/how-send-data-from-arduino-to-google-docs-spreadsheet/","x":685,"y":168,"wires":[]},{"id":"57d0c584.aea64c","type":"comment","z":"a6b6df9b.b30b08","name":"enable um Daten zu senden","info":"","x":846.0832977294922,"y":44.99998474121094,"wires":[]},{"id":"f16b6bfd.be0f78","type":"delay","z":"a6b6df9b.b30b08","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":416.0832977294922,"y":204.99998474121094,"wires":[["f5afcc54.37929"]]},{"id":"db76c80e.4b6ff8","type":"comment","z":"a6b6df9b.b30b08","name":"Sendet jede Stunde die Außentemperatur an Google","info":"Problem:\nDie Werte werden jedoch als Text und\nnicht als Zahl behandelt.","x":338.79161834716797,"y":139.16664505004883,"wires":[]},{"id":"e90d24a9.9969f","type":"file","z":"a6b6df9b.b30b08","name":"","filename":"~/home/test/test1","appendNewline":true,"createDir":true,"overwriteFile":"false","x":437.9583168029785,"y":306.25000381469727,"wires":[[]]},{"id":"6dfa88f7.8a89b","type":"ui_button","z":"15813f2.6428941","name":"","group":"9c059d27.146c2","order":0,"width":0,"height":0,"passthru":false,"label":"update to repo","color":"","bgcolor":"","icon":"","payload":"","payloadType":"str","topic":"","x":200,"y":80,"wires":[["d5e44806.55db4"]]},{"id":"d5e44806.55db4","type":"exec","z":"15813f2.6428941","command":"cd ~/.node-red/ ","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":500,"y":80,"wires":[[],[],[]]},{"id":"6b23d177.094ec","type":"switch","z":"5b346471.faeff4","name":"6","property":"payload[6].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":80,"wires":[["2cca0224.1e6ec6"]]},{"id":"fa3f810b.0195f8","type":"switch","z":"5b346471.faeff4","name":"7","property":"payload[7].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":120,"wires":[["380666a9.fd5c32"]]},{"id":"c5096121.68dd08","type":"switch","z":"5b346471.faeff4","name":"8","property":"payload[8].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":160,"wires":[["5afc2b05.c2f7d4"]]},{"id":"5407dcbc.2b887c","type":"switch","z":"5b346471.faeff4","name":"9","property":"payload[9].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":200,"wires":[["7ebf49d4.242bd8"]]},{"id":"239e31f1.8bd946","type":"switch","z":"5b346471.faeff4","name":"10","property":"payload[10].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":240,"wires":[["a9bd3fa1.85df48"]]},{"id":"b120593a.0a8488","type":"switch","z":"5b346471.faeff4","name":"11","property":"payload[11].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":280,"wires":[["222b421.12a60be"]]},{"id":"96d406f6.346638","type":"switch","z":"5b346471.faeff4","name":"12","property":"payload[12].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":230,"y":320,"wires":[["845b0452.0fc3a8"]]},{"id":"3fbc4e6f.0877f2","type":"switch","z":"5b346471.faeff4","name":"13","property":"payload[13].weather[0].main","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":231.66665649414062,"y":360.41668701171875,"wires":[["688ebd5b.6c8c44"]]},{"id":"2cca0224.1e6ec6","type":"change","z":"5b346471.faeff4","name":"Datum 6","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[6].dt_txt","tot":"msg"},{"t":"move","p":"payload[6].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":80,"wires":[[]]},{"id":"380666a9.fd5c32","type":"change","z":"5b346471.faeff4","name":"Datum 7","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[7].dt_txt","tot":"msg"},{"t":"move","p":"payload[7].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":120,"wires":[[]]},{"id":"5afc2b05.c2f7d4","type":"change","z":"5b346471.faeff4","name":"Datum 8","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[8].dt_txt","tot":"msg"},{"t":"move","p":"payload[8].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":160,"wires":[[]]},{"id":"7ebf49d4.242bd8","type":"change","z":"5b346471.faeff4","name":"Datum 9","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[9].dt_txt","tot":"msg"},{"t":"move","p":"payload[9].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":200,"wires":[[]]},{"id":"a9bd3fa1.85df48","type":"change","z":"5b346471.faeff4","name":"Datum 10","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[10].dt_txt","tot":"msg"},{"t":"move","p":"payload[10].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":240,"wires":[[]]},{"id":"222b421.12a60be","type":"change","z":"5b346471.faeff4","name":"Datum 11","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[11].dt_txt","tot":"msg"},{"t":"move","p":"payload[11].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":280,"wires":[[]]},{"id":"845b0452.0fc3a8","type":"change","z":"5b346471.faeff4","name":"Datum 12","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[12].dt_txt","tot":"msg"},{"t":"move","p":"payload[12].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":320,"wires":[[]]},{"id":"688ebd5b.6c8c44","type":"change","z":"5b346471.faeff4","name":"Datum 13","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[13].dt_txt","tot":"msg"},{"t":"move","p":"payload[13].dt_txt","pt":"msg","to":"payload.date","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":540,"y":360,"wires":[[]]},{"id":"fb58cbb7.f3f2f8","type":"comment","z":"5b346471.faeff4","name":"Wetter-Object enthält \"Rain\"?","info":"","x":150,"y":40,"wires":[]},{"id":"4da9f1.38447e1","type":"comment","z":"5b346471.faeff4","name":"Wann ?","info":"","x":530,"y":40,"wires":[]},{"id":"2a62ec60.7adae4","type":"switch","z":"24e7c0e3.35b6c8","name":"Regnet's?","property":"payload.weather","propertyType":"msg","rules":[{"t":"eq","v":"Rain","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":550,"y":200,"wires":[["c364279b.5298f"]]},{"id":"35336982.003056","type":"chatbot-telegram-send","z":"24e7c0e3.35b6c8","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":1200,"y":40,"wires":[]},{"id":"37cc9fa8.4e4aa8","type":"chatbot-conversation","z":"24e7c0e3.35b6c8","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1000,"y":40,"wires":[["35336982.003056"]]},{"id":"c364279b.5298f","type":"function","z":"24e7c0e3.35b6c8","name":"sendet Regenwarnung-jetzt","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Heute regnet es!\"} };\nreturn msg;","outputs":1,"noerr":0,"x":770,"y":200,"wires":[["37cc9fa8.4e4aa8"]]},{"id":"30ea8a27.aa89b6","type":"openweathermap","z":"24e7c0e3.35b6c8","name":"","wtype":"current","lon":"13.3815","lat":"54.0958","city":"","country":"","language":"de","x":160,"y":160,"wires":[["2a62ec60.7adae4","fabdcc49.072f7","e153a8a3.1a5278","d4917b8c.56ca98","972f681.da11d18","8fe9641.daedc18","baf221ec.1112c8"]]},{"id":"403f99cb.1cf968","type":"inject","z":"24e7c0e3.35b6c8","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"00 06 * * *","once":false,"onceDelay":0.1,"x":120,"y":120,"wires":[["30ea8a27.aa89b6","e08e20f.129a36"]]},{"id":"fabdcc49.072f7","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":1,"width":0,"height":0,"name":"","label":"Wetter","format":"{{msg.payload.detail}}","layout":"row-spread","x":480,"y":400,"wires":[]},{"id":"e153a8a3.1a5278","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":4,"width":0,"height":0,"name":"","label":"Windgeschwindigkeit","format":"{{msg.payload.windspeed}} m/s","layout":"row-spread","x":530,"y":520,"wires":[]},{"id":"972f681.da11d18","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":3,"width":0,"height":0,"name":"","label":"Luftfeuchtigkeit","format":"{{msg.payload.humidity}} %","layout":"row-spread","x":510,"y":480,"wires":[]},{"id":"d4917b8c.56ca98","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":2,"width":0,"height":0,"name":"","label":"Temperatur","format":"{{msg.payload.tempc}} ��C","layout":"row-spread","x":500,"y":440,"wires":[]},{"id":"8fe9641.daedc18","type":"ui_text","z":"24e7c0e3.35b6c8","group":"6dc5a67a.4ad8a8","order":5,"width":0,"height":0,"name":"","label":"Luftdruck","format":"{{msg.payload.pressure}} hPa","layout":"row-spread","x":490,"y":560,"wires":[]},{"id":"757b61cb.aa195","type":"ui_button","z":"24e7c0e3.35b6c8","name":"","group":"6dc5a67a.4ad8a8","order":6,"width":0,"height":0,"passthru":false,"label":"","color":"","bgcolor":"","icon":"refresh","payload":"","payloadType":"str","topic":"","x":480,"y":600,"wires":[["4b06c5c0.88800c"]]},{"id":"4b06c5c0.88800c","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"10","rateUnits":"minute","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":270,"y":600,"wires":[["30ea8a27.aa89b6"]]},{"id":"bc4108f1.9f0e18","type":"function","z":"24e7c0e3.35b6c8","name":"sendet Regenwarnung-morgen","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Morgen könnte es regnen. \" + msg.payload.date} };\nreturn msg;","outputs":1,"noerr":0,"x":780,"y":240,"wires":[["455844a0.2edda4"]]},{"id":"e08e20f.129a36","type":"openweathermap","z":"24e7c0e3.35b6c8","name":"","wtype":"forecast","lon":"13.3815","lat":"54.0958","city":"","country":"","language":"de","x":160,"y":200,"wires":[["b99e9502.399f5"]]},{"id":"b99e9502.399f5","type":"subflow:5b346471.faeff4","z":"24e7c0e3.35b6c8","name":"","x":530,"y":240,"wires":[["bc4108f1.9f0e18"],[]]},{"id":"a1d10d5d.1ee55","type":"chatbot-command","z":"24e7c0e3.35b6c8","name":"","command":"/wetter","x":300,"y":80,"wires":[["ce56d5f.6a40928"]]},{"id":"66243b6f.6192dc","type":"chatbot-telegram-receive","z":"24e7c0e3.35b6c8","bot":"45531229.75243c","botProduction":"45531229.75243c","x":120,"y":40,"wires":[["a1d10d5d.1ee55"]]},{"id":"68d0c969.4f277","type":"function","z":"24e7c0e3.35b6c8","name":"Sende jetziges Wetter","func":"var msg = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Das Wetter in Greifswald ist: \" + msg.payload.detail + \". \" +\n    \"Es sind \" + msg.payload.tempc + \" °C. \" +\n    \"Die Luftfeuchtigkeit beträgt \" + msg.payload.humidity + \" %. \" +\n    \"Die Windgeschwindigkeit beträgt \"+ msg.payload.windspeed + \" m/s. \" +\n    \"Der Luftdruck beträgt \" + msg.payload.pressure + \" hPa.\" } };\nreturn msg;","outputs":1,"noerr":0,"x":750,"y":80,"wires":[["37cc9fa8.4e4aa8"]]},{"id":"baf221ec.1112c8","type":"persist in","z":"24e7c0e3.35b6c8","name":"wetter-jetzt","storageNode":"2bd215d2.8303c2","x":480,"y":120,"wires":[]},{"id":"ce56d5f.6a40928","type":"persist out","z":"24e7c0e3.35b6c8","name":"wetter-jetzt","storageNode":"2bd215d2.8303c2","x":480,"y":80,"wires":[["68d0c969.4f277"]]},{"id":"455844a0.2edda4","type":"delay","z":"24e7c0e3.35b6c8","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"10","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":1050,"y":240,"wires":[["37cc9fa8.4e4aa8"]]},{"id":"68c9daa2.28a804","type":"inject","z":"24e7c0e3.35b6c8","name":"","topic":"","payload":"Rain","payloadType":"str","repeat":"","crontab":"","once":false,"onceDelay":0.1,"x":460.0000305175781,"y":320,"wires":[["b3b1afaf.4ad94"]]},{"id":"b3b1afaf.4ad94","type":"change","z":"24e7c0e3.35b6c8","name":"","rules":[{"t":"move","p":"payload","pt":"msg","to":"payload[6].weather[0].main","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":500,"y":280,"wires":[["b99e9502.399f5"]]},{"id":"5895ea8f.e9fbe4","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"6dc5a67a.4ad8a8","order":0,"width":0,"height":0,"label":"Wetter","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":700,"y":700,"wires":[[],[]]},{"id":"fa7bd11a.6e4a5","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"6dc5a67a.4ad8a8","order":0,"width":0,"height":0,"label":"Temperatur [°C]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":730,"y":740,"wires":[[],[]]},{"id":"695f04ea.209474","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"6dc5a67a.4ad8a8","order":0,"width":0,"height":0,"label":"Luftfeuchtigkeit [%]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":740,"y":780,"wires":[[],[]]},{"id":"fb36fff7.2f3a08","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"6dc5a67a.4ad8a8","order":0,"width":0,"height":0,"label":"Windgeschwindigkeit [m/s]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":770,"y":820,"wires":[[],[]]},{"id":"35f7824.64e93fe","type":"ui_chart","z":"24e7c0e3.35b6c8","name":"","group":"6dc5a67a.4ad8a8","order":0,"width":0,"height":0,"label":"Luftdruck [hPa]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"","dot":false,"ymin":"","ymax":"","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":730,"y":860,"wires":[[],[]]},{"id":"13c6de7d.577d12","type":"sentiment","z":"24e7c0e3.35b6c8","name":"","property":"payload","x":570,"y":700,"wires":[["5895ea8f.e9fbe4"]]},{"id":"23ba9b51.9e7b94","type":"openweathermap","z":"24e7c0e3.35b6c8","name":"","wtype":"current","lon":"","lat":"","city":"Greifswald","country":"Germany","language":"de","x":180,"y":700,"wires":[["fa7bd11a.6e4a5"]]},{"id":"4c6ceddd.36b094","type":"inject","z":"24e7c0e3.35b6c8","name":"","topic":"","payload":"","payloadType":"date","repeat":"1200","crontab":"","once":false,"onceDelay":0.1,"x":140,"y":800,"wires":[[]]},{"id":"cf32c102.3d4ef8","type":"exec","z":"1dba8088.33893f","command":"vcgencmd measure_temp","addpay":false,"append":"","useSpawn":"","timer":"","name":"RPi Temp.","x":350,"y":80,"wires":[["1bcd4b07.4afbed"],[],[]]},{"id":"6b1fe0d7.513468","type":"inject","z":"1dba8088.33893f","name":"","topic":"","payload":"","payloadType":"date","repeat":"10","crontab":"","once":false,"x":130,"y":140,"wires":[["cf32c102.3d4ef8","692c0035.760f78","798c4ba4.6c7fbc"]]},{"id":"1bcd4b07.4afbed","type":"function","z":"1dba8088.33893f","name":"","func":"str = msg.payload\nmsg.payload = str.substring(5,9);\nreturn msg;","outputs":1,"noerr":0,"x":550,"y":80,"wires":[["3c38dbf8.1ef63c","13898993.20dafe","c075ef6b.e0d188"]]},{"id":"103587ac.b4cd08","type":"exec","z":"1dba8088.33893f","command":"sudo reboot -h now","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Reboot","x":767.8333740234375,"y":1005.5,"wires":[[],[],[]]},{"id":"70415901.47833","type":"exec","z":"1dba8088.33893f","command":"sudo shutdown -h now","addpay":false,"append":"","useSpawn":"","timer":"","name":"Shutdown","x":767.8333740234375,"y":1045.5,"wires":[[],[],[]]},{"id":"692c0035.760f78","type":"exec","z":"1dba8088.33893f","command":"top -d 0.5 -b -n2 | grep \"Cpu(s)\"|tail -n 1 | awk '{print $2 + $4}'","addpay":false,"append":"","useSpawn":"","timer":"","name":"CPU Load","x":350,"y":140,"wires":[["d7e9e288.7c4e48","c33ef830.edd99"],[],[]]},{"id":"798c4ba4.6c7fbc","type":"exec","z":"1dba8088.33893f","command":"free | grep Mem | awk '{print (100*($4+$6+$7)/$2)}'","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Free Memory","x":350,"y":200,"wires":[["b41acfb3.e860b"],[],[]]},{"id":"ec25e432.7e36f","type":"exec","z":"1dba8088.33893f","command":"df -h","addpay":false,"append":"","useSpawn":"","timer":"","oldrc":false,"name":"Disk Usage","x":350,"y":280,"wires":[["35616078.d54db"],[],[]]},{"id":"35616078.d54db","type":"function","z":"1dba8088.33893f","name":"Speicher","func":"var re = /([0-9]{2})%/\nvar idx = msg.payload.search(re);\nvar str = msg.payload;\nif (idx >=0) {\n    str = msg.payload.substring(idx, idx + 2);\n}\nmsg.payload = str;\nreturn msg;","outputs":1,"noerr":0,"x":540,"y":280,"wires":[["13d4c229.c71b2e","ff387701.5447e8","a427a697.20344","52eb4fac.1a85e8","1616fe8c.f6e299","e7128d05.b3dc78"]]},{"id":"a63cec85.fcb2c8","type":"inject","z":"1dba8088.33893f","name":"","topic":"","payload":"","payloadType":"date","repeat":"60","crontab":"","once":false,"x":130,"y":280,"wires":[["ec25e432.7e36f"]]},{"id":"aeb0c647.75bd88","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Der Speicher der Himbeere ist zu \" + msg.payload +\" % belegt.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1152.5,"y":897.5,"wires":[["c2286ea5.f32958"]]},{"id":"4a43a1a7.05c","type":"change","z":"1dba8088.33893f","name":"set Payload to flow.Speicher","rules":[{"t":"set","p":"payload","pt":"msg","to":"Speicher","tot":"flow"}],"action":"","property":"","from":"","to":"","reg":false,"x":827.8333740234375,"y":885.5,"wires":[["aeb0c647.75bd88"]]},{"id":"ff387701.5447e8","type":"change","z":"1dba8088.33893f","name":"","rules":[{"t":"set","p":"Speicher","pt":"flow","to":"payload","tot":"msg"}],"action":"","property":"","from":"","to":"","reg":false,"x":770,"y":280,"wires":[[]]},{"id":"8768d880.b5ef1","type":"chatbot-telegram-receive","z":"1dba8088.33893f","bot":"45531229.75243c","botProduction":"45531229.75243c","x":137.8333740234375,"y":925.5,"wires":[["8bed6b0.6f68998","fe094381.3a289","abd1f9b1.f3a138","efffd36d.f6511","bd0da198.91fac8","d31850fd.a87b28","1bf6f113.3d7b17"]]},{"id":"8bed6b0.6f68998","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/speicher","x":367.8333740234375,"y":805.5,"wires":[["4a43a1a7.05c"]],"outputLabels":["/wz"]},{"id":"c2286ea5.f32958","type":"chatbot-conversation","z":"1dba8088.33893f","name":"","botTelegram":"45531229.75243c","botSlack":"","botFacebook":"","botViber":"","botUniversal":"","botTwilio":"","chatId":"173173012","transport":"telegram","messageId":"","contextMessageId":false,"store":"","x":1580,"y":760,"wires":[["749ad27d.985164"]]},{"id":"14b1ffcb.bb96a8","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Der Speicher der Himbeere ist zu \" + msg.payload + \" % belegt. Die logs werden automatisch gelöscht. Bitte warte oder reboote.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1160,"y":440,"wires":[["c2286ea5.f32958"]]},{"id":"a427a697.20344","type":"switch","z":"1dba8088.33893f","name":"Switch:Disk > 80 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"80","vt":"str"}],"checkall":"false","outputs":1,"x":566,"y":440,"wires":[["730a2ad0.b531a4","5e6da3e1.52ef54"]]},{"id":"730a2ad0.b531a4","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"hour","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":846,"y":441.25,"wires":[["14b1ffcb.bb96a8"]]},{"id":"78419f79.8559d","type":"comment","z":"1dba8088.33893f","name":"Achtung, wenn Speicher über 80% belegt","info":"","x":618,"y":403,"wires":[]},{"id":"8acb2586.54d678","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Die Speicherbelegung der Himbeere ist nun unter 15 %. \"+ \"Sie beträgt momentan \" + msg.payload + \" %. Die logs wurden wohl gelöscht.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1160,"y":520,"wires":[["c2286ea5.f32958"]]},{"id":"52eb4fac.1a85e8","type":"switch","z":"1dba8088.33893f","name":"Switch:Disk < 15 %","property":"payload","propertyType":"msg","rules":[{"t":"lte","v":"15","vt":"str"}],"checkall":"false","outputs":1,"x":566,"y":520,"wires":[["8cb9bbf6.db4308"]]},{"id":"8cb9bbf6.db4308","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"rate","timeout":"5","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"day","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":true,"x":844.75,"y":520,"wires":[["8acb2586.54d678"]]},{"id":"6e1ae234.7f0104","type":"comment","z":"1dba8088.33893f","name":"Info: Logs wurden gelöscht","info":"","x":566,"y":480,"wires":[]},{"id":"fe094381.3a289","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/status","x":357.8333740234375,"y":885.5,"wires":[["4a43a1a7.05c"]]},{"id":"abd1f9b1.f3a138","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/shutdown","x":377.8333740234375,"y":1045.5,"wires":[["c4c064e1.95acd8","6c0ca2af.726aac"]]},{"id":"efffd36d.f6511","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/reboot","x":367.8333740234375,"y":1005.5,"wires":[["7262a734.2a9e6","1d9e94af.ab3f9b"]]},{"id":"6c0ca2af.726aac","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Himbeere wird in 3 Sekunden heruntergefahren.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1151.25,"y":1065,"wires":[["c2286ea5.f32958"]]},{"id":"c4c064e1.95acd8","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":607.8333740234375,"y":1045.5,"wires":[["70415901.47833"]]},{"id":"7262a734.2a9e6","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":607.8333740234375,"y":1005.5,"wires":[["103587ac.b4cd08"]]},{"id":"1d9e94af.ab3f9b","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Die Himbeere wird in 3 Sekunden neugestartet.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1151.25,"y":1022.5,"wires":[["c2286ea5.f32958"]]},{"id":"668cf8bc.6a36f8","type":"exec","z":"1dba8088.33893f","command":"sudo apt-get clean","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":797.8333740234375,"y":925.5,"wires":[[],[],[]]},{"id":"bd0da198.91fac8","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/clean","x":357.8333740234375,"y":925.5,"wires":[["668cf8bc.6a36f8","b25cfe7d.3f21a8"]]},{"id":"b25cfe7d.3f21a8","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Der Befehl sudo apt-get clean wurde ausgeführt.\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1151.25,"y":942.5,"wires":[["c2286ea5.f32958"]]},{"id":"d31850fd.a87b28","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/remove","x":367.8333740234375,"y":845.5,"wires":[["5e6da3e1.52ef54","ae501a5.cf3c2e8"]],"outputLabels":["/wz"]},{"id":"5e6da3e1.52ef54","type":"exec","z":"1dba8088.33893f","command":"sudo rm /var/log/daemon.log /var/log/daemon.log.1 /var/log/syslog /var/log/syslog.1","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"löscht Logs","x":777.8333740234375,"y":825.5,"wires":[[],[],[]]},{"id":"ae501a5.cf3c2e8","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Die logs sollten gelöscht worden sein.\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1152.5,"y":850,"wires":[["c2286ea5.f32958"]]},{"id":"1bf6f113.3d7b17","type":"chatbot-command","z":"1dba8088.33893f","name":"","command":"/stop","x":357.8333740234375,"y":965.5,"wires":[["84d0ef1a.93ef28","de6c8a5.41117f8"]]},{"id":"342b6776.35d768","type":"exec","z":"1dba8088.33893f","command":"node-red-stop","addpay":false,"append":"","useSpawn":"false","timer":"","oldrc":false,"name":"","x":787.8333740234375,"y":965.5,"wires":[[],[],[]]},{"id":"84d0ef1a.93ef28","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":607.8333740234375,"y":965.5,"wires":[["342b6776.35d768"]]},{"id":"de6c8a5.41117f8","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Node-Red wird in 3 Sekunden ausgeschaltet. Zuhause musst du's im Terminal wieder starten!\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1151.25,"y":982.5,"wires":[["c2286ea5.f32958"]]},{"id":"1616fe8c.f6e299","type":"switch","z":"1dba8088.33893f","name":"Speicher > 85 %","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"85","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":560,"y":600,"wires":[["5734c8c9.22c93","55b05fea.58b7c"]]},{"id":"5734c8c9.22c93","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"Auto-Reboot in 3 Sekunden. Speicherplatz am Limit!\"} };\nreturn msg2;","outputs":1,"noerr":0,"x":1160,"y":600,"wires":[["c2286ea5.f32958"]]},{"id":"2d30b2.fec16f4e","type":"comment","z":"1dba8088.33893f","name":"Auto-Reboot, wenn Speicher > 85%","info":"","x":580,"y":560,"wires":[]},{"id":"453e8bb8.eda20c","type":"inject","z":"1dba8088.33893f","name":"","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"","once":true,"x":1647.4166259765625,"y":1227,"wires":[["5aa9b46e.79cbc4"]]},{"id":"5aa9b46e.79cbc4","type":"function","z":"1dba8088.33893f","name":"online","func":"var msg2 = {\n\"payload\": {\"chatId\" : 173173012,\n    \"type\" : 'message',\n    \"content\" : \"RPi-Control ist online. \" + msg.payload} };\nreturn msg2;","outputs":1,"noerr":0,"x":1602.083251953125,"y":1110.6666259765625,"wires":[["c2286ea5.f32958"]]},{"id":"749ad27d.985164","type":"chatbot-telegram-send","z":"1dba8088.33893f","bot":"45531229.75243c","botProduction":"45531229.75243c","track":false,"passThrough":false,"outputs":0,"x":1810,"y":760,"wires":[]},{"id":"d3d24af4.8ec72","type":"function","z":"1dba8088.33893f","name":"timeConvert-Funktioniert noch nicht","func":"if ( !msg.timestamp ) msg.timestamp = Math.round(+new Date());\n\nvar dt = new Date(msg.timestamp);\nvar msg = {\n\t'month':\tdt.getMonth() + 1,\n\t'day':\t\tdt.getDate(),\n\t'year':\t\tdt.getFullYear(),\n\t'hours':\tdt.getHours(),\n\t'mins':\t\tdt.getMinutes(),\n\t'msecs':\tdt.getMilliseconds()\n}\n\nreturn msg;","outputs":1,"noerr":0,"x":1505.166748046875,"y":1182,"wires":[[]]},{"id":"a16497ec.4ef8a","type":"exec","z":"1dba8088.33893f","command":"sudo reboot","addpay":false,"append":"","useSpawn":"","timer":"","name":"Reboot","x":940,"y":600,"wires":[[],[],[]]},{"id":"55b05fea.58b7c","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":800,"y":600,"wires":[["a16497ec.4ef8a"]]},{"id":"b0f6cb3d.514848","type":"inject","z":"1dba8088.33893f","name":"auto-reboot nach 2,5 Tagen","topic":"","payload":"","payloadType":"date","repeat":"","crontab":"00 00 * * 3,0","once":false,"onceDelay":0.1,"x":720,"y":1260,"wires":[["103587ac.b4cd08"]]},{"id":"5d53f0a5.3dfb98","type":"ui_button","z":"1dba8088.33893f","name":"","group":"4e091fe.905906","order":2,"width":0,"height":0,"passthru":false,"label":"Reboot","color":"","bgcolor":"","icon":"settings_backup_restore","payload":"Die Himbeere wird neugestartet.","payloadType":"str","topic":"","x":120,"y":1020,"wires":[["103587ac.b4cd08","8c8387d4.275e4"]]},{"id":"cc16b1bd.e395b","type":"ui_button","z":"1dba8088.33893f","name":"","group":"4e091fe.905906","order":3,"width":0,"height":0,"passthru":false,"label":"Shutdown","color":"","bgcolor":"red","icon":"power_settings_new","payload":"Die Himbeere wird heruntergefahren.","payloadType":"str","topic":"","x":117.5,"y":1065,"wires":[["70415901.47833","1954d46c.ae3744"]]},{"id":"407947df.c9609","type":"ui_button","z":"1dba8088.33893f","name":"","group":"4e091fe.905906","order":1,"width":0,"height":0,"passthru":false,"label":"clean Logs","color":"","bgcolor":"green","icon":"delete_forever","payload":"","payloadType":"str","topic":"","x":117.8333740234375,"y":825.5,"wires":[["5e6da3e1.52ef54","6681ae24.94e96"]]},{"id":"13898993.20dafe","type":"ui_chart","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":5,"width":0,"height":0,"label":"Temperatur [°C]","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"warte auf Daten","dot":false,"ymin":"","ymax":"55","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":true,"x":1020,"y":120,"wires":[[],[]]},{"id":"c33ef830.edd99","type":"ui_chart","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":4,"width":0,"height":0,"label":"Prozessorauslastung [%]","chartType":"line","legend":"false","xformat":"HH:mm","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":"24","removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1050,"y":200,"wires":[[],[]]},{"id":"e7128d05.b3dc78","type":"ui_chart","z":"1dba8088.33893f","name":"","group":"bba410ad.4a4d28","order":0,"width":0,"height":0,"label":"Speicherplatzfüllung [%]","chartType":"line","legend":"false","xformat":"dd HH:mm","interpolate":"linear","nodata":"","dot":false,"ymin":"0","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"604800","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1030,"y":280,"wires":[[],[]]},{"id":"3c38dbf8.1ef63c","type":"ui_gauge","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":2,"width":"3","height":"3","gtype":"gage","title":"CPU Temperatur","label":"","format":"{{value}} °C","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1030,"y":80,"wires":[]},{"id":"d7e9e288.7c4e48","type":"ui_gauge","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":1,"width":"0","height":"0","gtype":"gage","title":"Prozessorauslastung","label":"CPU","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1040,"y":160,"wires":[]},{"id":"b1ef3606.00c338","type":"ui_gauge","z":"1dba8088.33893f","name":"","group":"c247c9ad.e586a8","order":3,"width":"3","height":"3","gtype":"gage","title":"Arbeitsspeicher","label":"RAM","format":"{{msg.payload}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1020,"y":240,"wires":[]},{"id":"13d4c229.c71b2e","type":"ui_gauge","z":"1dba8088.33893f","name":"","group":"bba410ad.4a4d28","order":2,"width":0,"height":0,"gtype":"gage","title":"Belegter Speicherplatz","label":"","format":"{{value}} %","min":0,"max":"100","colors":["#00b500","#e6e600","#ca3838"],"seg1":"","seg2":"","x":1020,"y":320,"wires":[]},{"id":"6681ae24.94e96","type":"ui_toast","z":"1dba8088.33893f","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Logs wurden geloescht","x":317.8333740234375,"y":745.5,"wires":[]},{"id":"8c8387d4.275e4","type":"ui_toast","z":"1dba8088.33893f","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Die Himbeere wird neugestartet.","x":330,"y":1120,"wires":[]},{"id":"1954d46c.ae3744","type":"ui_toast","z":"1dba8088.33893f","position":"top right","displayTime":"3","highlight":"","outputs":0,"ok":"OK","cancel":"","topic":"","name":"Die Himbeere wird heruntergefahren.","x":350,"y":1160,"wires":[]},{"id":"b41acfb3.e860b","type":"smooth","z":"1dba8088.33893f","name":"","property":"payload","action":"mean","count":"1","round":"1","mult":"single","x":560,"y":200,"wires":[["b1ef3606.00c338","5c0b421f.1c3374"]]},{"id":"4cf3f654.e4822","type":"exec","z":"1dba8088.33893f","command":"sudo shutdown -h now","addpay":false,"append":"","useSpawn":"","timer":"","name":"Shutdown","x":1200,"y":40,"wires":[[],[],[]]},{"id":"c075ef6b.e0d188","type":"switch","z":"1dba8088.33893f","name":"T > 60 °C","property":"payload","propertyType":"msg","rules":[{"t":"gte","v":"60","vt":"str"}],"checkall":"true","repair":false,"outputs":1,"x":800,"y":40,"wires":[["ca895a9a.b5f918","dd6e09cc.b3b86"]]},{"id":"ca895a9a.b5f918","type":"delay","z":"1dba8088.33893f","name":"","pauseType":"delay","timeout":"3","timeoutUnits":"seconds","rate":"1","nbRateUnits":"1","rateUnits":"second","randomFirst":"1","randomLast":"5","randomUnits":"seconds","drop":false,"x":1060,"y":40,"wires":[["4cf3f654.e4822"]]},{"id":"dd6e09cc.b3b86","type":"function","z":"1dba8088.33893f","name":"Sende Payload als Nachricht","func":"var msg1 = {\n\"payload\": {\"chatId\" : 173173012,\n\"type\" : 'message',\n\"content\" : \"Achtung! Die Himbeere ist überhitzt und schaltet sich gleich aus!\"} };\nreturn msg1;","outputs":1,"noerr":0,"x":1400,"y":40,"wires":[["c2286ea5.f32958"]]},{"id":"5c0b421f.1c3374","type":"ui_chart","z":"1dba8088.33893f","name":"","group":"bba410ad.4a4d28","order":0,"width":0,"height":0,"label":"Arbeitsspeicher","chartType":"line","legend":"false","xformat":"HH:mm:ss","interpolate":"linear","nodata":"Warte auf Daten","dot":false,"ymin":"0","ymax":"100","removeOlder":1,"removeOlderPoints":"","removeOlderUnit":"3600","cutout":0,"useOneColor":false,"colors":["#1f77b4","#aec7e8","#ff7f0e","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5"],"useOldStyle":false,"x":1230,"y":240,"wires":[[],[]]}]